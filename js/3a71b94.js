//XRegExp 2.0.0 <xregexp.com> MIT License
var XRegExp;XRegExp=XRegExp||function(e){"use strict";function t(e,t,i){var n;for(n in l.prototype)l.prototype.hasOwnProperty(n)&&(e[n]=l.prototype[n]);return e.xregexp={captureNames:t,isNative:!!i},e}function i(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function n(e,n,a){if(!l.isRegExp(e))throw new TypeError("type RegExp expected");var r=E.replace.call(i(e)+(n||""),m,"");return a&&(r=E.replace.call(r,new RegExp("["+a+"]+","g"),"")),e=e.xregexp&&!e.xregexp.isNative?t(l(e.source,r),e.xregexp.captureNames?e.xregexp.captureNames.slice(0):null):t(new RegExp(e.source,r),null,!0)}function a(e,t){var i=e.length;if(Array.prototype.lastIndexOf)return e.lastIndexOf(t);for(;i--;)if(e[i]===t)return i;return-1}function r(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object "+t+"]"}function s(e){return e=e||{},"all"===e||e.all?e={natives:!0,extensibility:!0}:r(e,"string")&&(e=l.forEach(e,/[^\s,]+/,function(e){this[e]=!0},{})),e}function o(e,t,i,n){var a,r,s=h.length,o=null;x=!0;try{for(;s--;)if(r=h[s],("all"===r.scope||r.scope===i)&&(!r.trigger||r.trigger.call(n))&&(r.pattern.lastIndex=t,a=u.exec.call(r.pattern,e),a&&a.index===t)){o={output:r.handler.call(n,a,i),match:a};break}}catch(e){throw e}finally{x=!1}return o}function F(e){l.addToken=c[e?"on":"off"],C.extensibility=e}function A(e){RegExp.prototype.exec=(e?u:E).exec,RegExp.prototype.test=(e?u:E).test,String.prototype.match=(e?u:E).match,String.prototype.replace=(e?u:E).replace,String.prototype.split=(e?u:E).split,C.natives=e}var l,c,d,C={natives:!1,extensibility:!1},E={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},u={},D={},h=[],p="default",B="class",g={default:/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/,class:/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/},f=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,m=/([\s\S])(?=[\s\S]*\1)/g,v=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,_=E.exec.call(/()??/,"")[1]===e,y=RegExp.prototype.sticky!==e,x=!1,b="gim"+(y?"y":"");return l=function(i,a){if(l.isRegExp(i)){if(a!==e)throw new TypeError("can't supply flags when constructing one RegExp from another");return n(i)}if(x)throw new Error("can't call the XRegExp constructor within token definition functions");var r,s,F,A=[],c=p,d={hasNamedCapture:!1,captureNames:[],hasFlag:function(e){return a.indexOf(e)>-1}},C=0;if(i=i===e?"":String(i),a=a===e?"":String(a),E.match.call(a,m))throw new SyntaxError("invalid duplicate regular expression flag");for(i=E.replace.call(i,/^\(\?([\w$]+)\)/,function(e,t){if(E.test.call(/[gy]/,t))throw new SyntaxError("can't use flag g or y in mode modifier");return a=E.replace.call(a+t,m,""),""}),l.forEach(a,/[\s\S]/,function(e){if(b.indexOf(e[0])<0)throw new SyntaxError("invalid regular expression flag "+e[0])});C<i.length;)r=o(i,C,c,d),r?(A.push(r.output),C+=r.match[0].length||1):(s=E.exec.call(g[c],i.slice(C)),s?(A.push(s[0]),C+=s[0].length):(F=i.charAt(C),"["===F?c=B:"]"===F&&(c=p),A.push(F),++C));return t(new RegExp(A.join(""),E.replace.call(a,/[^gimy]+/g,"")),d.hasNamedCapture?d.captureNames:null)},c={on:function(e,t,i){i=i||{},e&&h.push({pattern:n(e,"g"+(y?"y":"")),handler:t,scope:i.scope||p,trigger:i.trigger||null}),i.customFlags&&(b=E.replace.call(b+i.customFlags,m,""))},off:function(){throw new Error("extensibility must be installed before using addToken")}},l.addToken=c.off,l.cache=function(e,t){var i=e+"/"+(t||"");return D[i]||(D[i]=l(e,t))},l.escape=function(e){return E.replace.call(e,/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},l.exec=function(e,t,i,a){var r,s=n(t,"g"+(a&&y?"y":""),a===!1?"y":"");return s.lastIndex=i=i||0,r=u.exec.call(s,e),a&&r&&r.index!==i&&(r=null),t.global&&(t.lastIndex=r?s.lastIndex:0),r},l.forEach=function(e,t,i,n){for(var a,r=0,s=-1;a=l.exec(e,t,r);)i.call(n,a,++s,e,t),r=a.index+(a[0].length||1);return n},l.globalize=function(e){return n(e,"g")},l.install=function(e){e=s(e),!C.natives&&e.natives&&A(!0),!C.extensibility&&e.extensibility&&F(!0)},l.isInstalled=function(e){return!!C[e]},l.isRegExp=function(e){return r(e,"regexp")},l.matchChain=function(e,t){return function e(i,n){for(var a=t[n].regex?t[n]:{regex:t[n]},r=[],s=function(e){r.push(a.backref?e[a.backref]||"":e[0])},o=0;o<i.length;++o)l.forEach(i[o],a.regex,s);return n!==t.length-1&&r.length?e(r,n+1):r}([e],0)},l.replace=function(t,i,a,r){var s,o=l.isRegExp(i),F=i;return o?(r===e&&i.global&&(r="all"),F=n(i,"all"===r?"g":"","all"===r?"":"g")):"all"===r&&(F=new RegExp(l.escape(String(i)),"g")),s=u.replace.call(String(t),F,a),o&&i.global&&(i.lastIndex=0),s},l.split=function(e,t,i){return u.split.call(e,t,i)},l.test=function(e,t,i,n){return!!l.exec(e,t,i,n)},l.uninstall=function(e){e=s(e),C.natives&&e.natives&&A(!1),C.extensibility&&e.extensibility&&F(!1)},l.union=function(e,t){var i,n,a,s,o=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,F=0,A=function(e,t,a){var r=n[F-i];if(t){if(++F,r)return"(?<"+r+">"}else if(a)return"\\"+(+a+i);return e},c=[];if(!r(e,"array")||!e.length)throw new TypeError("patterns must be a nonempty array");for(s=0;s<e.length;++s)a=e[s],l.isRegExp(a)?(i=F,n=a.xregexp&&a.xregexp.captureNames||[],c.push(l(a.source).source.replace(o,A))):c.push(l.escape(a));return l(c.join("|"),t)},l.version="2.0.0",u.exec=function(t){var n,r,s,o,F;if(this.global||(o=this.lastIndex),n=E.exec.apply(this,arguments)){if(!_&&n.length>1&&a(n,"")>-1&&(s=new RegExp(this.source,E.replace.call(i(this),"g","")),E.replace.call(String(t).slice(n.index),s,function(){for(var t=1;t<arguments.length-2;++t)arguments[t]===e&&(n[t]=e)})),this.xregexp&&this.xregexp.captureNames)for(F=1;F<n.length;++F)r=this.xregexp.captureNames[F-1],r&&(n[r]=n[F]);this.global&&!n[0].length&&this.lastIndex>n.index&&(this.lastIndex=n.index)}return this.global||(this.lastIndex=o),n},u.test=function(e){return!!u.exec.call(this,e)},u.match=function(e){if(l.isRegExp(e)){if(e.global){var t=E.match.apply(this,arguments);return e.lastIndex=0,t}}else e=new RegExp(e);return u.exec.call(e,this)},u.replace=function(e,t){var i,n,s,o,F=l.isRegExp(e);return F?(e.xregexp&&(i=e.xregexp.captureNames),e.global||(o=e.lastIndex)):e+="",r(t,"function")?n=E.replace.call(String(this),e,function(){var n,a=arguments;if(i)for(a[0]=new String(a[0]),n=0;n<i.length;++n)i[n]&&(a[0][i[n]]=a[n+1]);return F&&e.global&&(e.lastIndex=a[a.length-2]+a[0].length),t.apply(null,a)}):(s=String(this),n=E.replace.call(s,e,function(){var e=arguments;return E.replace.call(String(t),f,function(t,n,r){var s;if(n){if(s=+n,s<=e.length-3)return e[s]||"";if(s=i?a(i,n):-1,s<0)throw new SyntaxError("backreference to undefined group "+t);return e[s+1]||""}if("$"===r)return"$";if("&"===r||0==+r)return e[0];if("`"===r)return e[e.length-1].slice(0,e[e.length-2]);if("'"===r)return e[e.length-1].slice(e[e.length-2]+e[0].length);if(r=+r,!isNaN(r)){if(r>e.length-3)throw new SyntaxError("backreference to undefined group "+t);return e[r]||""}throw new SyntaxError("invalid token "+t)})})),F&&(e.lastIndex=e.global?0:o),n},u.split=function(t,i){if(!l.isRegExp(t))return E.split.apply(this,arguments);var n,a=String(this),r=t.lastIndex,s=[],o=0;return i=(i===e?-1:i)>>>0,l.forEach(a,t,function(e){e.index+e[0].length>o&&(s.push(a.slice(o,e.index)),e.length>1&&e.index<a.length&&Array.prototype.push.apply(s,e.slice(1)),n=e[0].length,o=e.index+n)}),o===a.length?(!E.test.call(t,"")||n)&&s.push(""):s.push(a.slice(o)),t.lastIndex=r,s.length>i?s.slice(0,i):s},d=c.on,d(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4})|x(?![\dA-Fa-f]{2}))/,function(e,t){if("B"===e[1]&&t===p)return e[0];throw new SyntaxError("invalid escape "+e[0])},{scope:"all"}),d(/\[(\^?)]/,function(e){return e[1]?"[\\s\\S]":"\\b\\B"}),d(/(?:\(\?#[^)]*\))+/,function(e){return E.test.call(v,e.input.slice(e.index+e[0].length))?"":"(?:)"}),d(/\\k<([\w$]+)>/,function(e){var t=isNaN(e[1])?a(this.captureNames,e[1])+1:+e[1],i=e.index+e[0].length;if(!t||t>this.captureNames.length)throw new SyntaxError("backreference to undefined group "+e[0]);return"\\"+t+(i===e.input.length||isNaN(e.input.charAt(i))?"":"(?:)")}),d(/(?:\s+|#.*)+/,function(e){return E.test.call(v,e.input.slice(e.index+e[0].length))?"":"(?:)"},{trigger:function(){return this.hasFlag("x")},customFlags:"x"}),d(/\./,function(){return"[\\s\\S]"},{trigger:function(){return this.hasFlag("s")},customFlags:"s"}),d(/\(\?P?<([\w$]+)>/,function(e){if(!isNaN(e[1]))throw new SyntaxError("can't use integer as capture name "+e[0]);return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),d(/\\(\d+)/,function(e,t){if(!(t===p&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("can't use octal escape or backreference to undefined group "+e[0]);return e[0]},{scope:"all"}),d(/\((?!\?)/,function(){return this.hasFlag("n")?"(?:":(this.captureNames.push(null),"(")},{customFlags:"n"}),"undefined"!=typeof exports&&(exports.XRegExp=l),l}(),function(e){"use strict";function t(e){return e.replace(/[- _]+/g,"").toLowerCase()}function i(e){return e.replace(/\w{4}/g,"\\u$&")}function n(e){for(;e.length<4;)e="0"+e;return e}function a(e){return parseInt(e,16)}function r(e){return parseInt(e,10).toString(16)}function s(t){var i,s=[],o=-1;return e.forEach(t,/\\u(\w{4})(?:-\\u(\w{4}))?/,function(e){i=a(e[1]),i>o+1&&(s.push("\\u"+n(r(o+1))),i>o+2&&s.push("-\\u"+n(r(i-1)))),o=a(e[2]||e[1])}),o<65535&&(s.push("\\u"+n(r(o+1))),o<65534&&s.push("-\\uFFFF")),s.join("")}function o(e){return F["^"+e]||(F["^"+e]=s(F[e]))}var F={};e.install("extensibility"),e.addUnicodePackage=function(n,a){var r;if(!e.isInstalled("extensibility"))throw new Error("extensibility must be installed before adding Unicode packages");if(n)for(r in n)n.hasOwnProperty(r)&&(F[t(r)]=i(n[r]));if(a)for(r in a)a.hasOwnProperty(r)&&(F[t(a[r])]=F[t(r)])},e.addUnicodePackage({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05270531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A008A2-08AC0904-0939093D09500958-09610971-09770979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A793A7A0-A7AAA7F8-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"},{L:"Letter"}),e.addToken(/\\([pP]){(\^?)([^}]*)}/,function(e,i){var n="P"===e[1]||e[2]?"^":"",a=t(e[3]);if("P"===e[1]&&e[2])throw new SyntaxError("invalid double negation \\P{^");if(!F.hasOwnProperty(a))throw new SyntaxError("invalid or unknown Unicode property "+e[0]);return"class"===i?n?o(a):F[a]:"["+n+F[a]+"]"},{scope:"all"})}(XRegExp),function(e){"use strict";if(!e.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");e.install("extensibility"),e.addUnicodePackage({Ll:"0061-007A00B500DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F05210523052505270561-05871D00-1D2B1D6B-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7B2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2CF32D00-2D252D272D2DA641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA661A663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CA78EA791A793A7A1A7A3A7A5A7A7A7A9A7FAFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E05200522052405260531-055610A0-10C510C710CD1E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CED2CF2A640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA660A662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BA78DA790A792A7A0A7A2A7A4A7A6A7A8A7AAFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D6A1D781D9B-1DBF2071207F2090-209C2C7C2C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A7F8A7F9A9CFAA70AADDAAF3AAF4FF70FF9EFF9F",Lo:"00AA00BA01BB01C0-01C3029405D0-05EA05F0-05F20620-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150840-085808A008A2-08AC0904-0939093D09500958-09610972-09770979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA10FD-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF11CF51CF62135-21382D30-2D672D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCAAE0-AAEAAAF2AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065F067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0859-085B08E4-08FE0900-0903093A-093C093E-094F0951-0957096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F8D-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135D-135F1712-17141732-1734175217531772177317B4-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAD1BE6-1BF31C24-1C371CD0-1CD21CD4-1CE81CED1CF2-1CF41DC0-1DE61DFC-1DFF20D0-20F02CEF-2CF12D7F2DE0-2DFF302A-302F3099309AA66F-A672A674-A67DA69FA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1AAEB-AAEFAAF5AAF6ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065F067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0859-085B08E4-08FE0900-0902093A093C0941-0948094D0951-095709620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F8D-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135D-135F1712-17141732-1734175217531772177317B417B517B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91BAB1BE61BE81BE91BED1BEF-1BF11C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1CF41DC0-1DE61DFC-1DFF20D0-20DC20E120E5-20F02CEF-2CF12D7F2DE0-2DFF302A-302D3099309AA66FA674-A67DA69FA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1AAECAAEDAAF6ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093B093E-09400949-094C094E094F0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1BAC1BAD1BE71BEA-1BEC1BEE1BF21BF31C24-1C2B1C341C351CE11CF21CF3302E302FA823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BAAEBAAEEAAEFAAF5ABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048920DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0B72-0B770BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293248-324F3251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90B72-0B770BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F919DA20702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293248-324F3251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100A700AB00B600B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E085E0964096509700AF00DF40E4F0E5A0E5B0F04-0F120F140F3A-0F3D0F850FD0-0FD40FD90FDA104A-104F10FB1360-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A194419451A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601BFC-1BFF1C3B-1C3F1C7E1C7F1CC0-1CC71CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2D702E00-2E2E2E30-2E3B3001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFAAF0AAF1ABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A2E3A2E3B301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100A700B600B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E085E0964096509700AF00DF40E4F0E5A0E5B0F04-0F120F140F850FD0-0FD40FD90FDA104A-104F10FB1360-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A194419451A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601BFC-1BFF1C3B-1C3F1C7E1C7F1CC0-1CC71CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2D702E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E30-2E393001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFAAF0AAF1ABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A600A800A900AC00AE-00B100B400B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F60482058F0606-0608060B060E060F06DE06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0D790E3F0F01-0F030F130F15-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F1390-139917DB194019DE-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B9210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23F32400-24262440-244A249C-24E92500-26FF2701-27672794-27C427C7-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-324732503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FBB2-FBC1FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C21182140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5058F060B09F209F309FB0AF10BF90E3F17DB20A0-20B9A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFBB2-FBC1FF3EFF40FFE3",So:"00A600A900AE00B00482060E060F06DE06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0D790F01-0F030F130F15-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F1390-1399194019DE-19FF1B61-1B6A1B74-1B7C210021012103-210621082109211421162117211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23F32400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26FF2701-27672794-27BF2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-324732503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20528-05300557055805600588058B-058E059005C8-05CF05EB-05EF05F5-0605061C061D06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F085C085D085F-089F08A108AD-08E308FF097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B78-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D3B0D3C0D450D490D4F-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EE0-0EFF0F480F6D-0F700F980FBD0FCD0FDB-0FFF10C610C8-10CC10CE10CF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B135C137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BF4-1BFB1C38-1C3A1C4A-1C4C1C80-1CBF1CC8-1CCF1CF7-1CFF1DE7-1DFB1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F209D-209F20BA-20CF20F1-20FF218A-218F23F4-23FF2427-243F244B-245F27002B4D-2B4F2B5A-2BFF2C2F2C5F2CF4-2CF82D262D28-2D2C2D2E2D2F2D68-2D6E2D71-2D7E2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E3C-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31BB-31BF31E4-31EF321F32FF4DB6-4DBF9FCD-9FFFA48D-A48FA4C7-A4CFA62C-A63FA698-A69EA6F8-A6FFA78FA794-A79FA7AB-A7F7A82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAF7-AB00AB07AB08AB0FAB10AB17-AB1FAB27AB2F-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBC2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
Cc:"0000-001F007F-009F",Cf:"00AD0600-060406DD070F200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20528-05300557055805600588058B-058E059005C8-05CF05EB-05EF05F5-05FF0605061C061D070E074B074C07B2-07BF07FB-07FF082E082F083F085C085D085F-089F08A108AD-08E308FF097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B78-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D3B0D3C0D450D490D4F-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EE0-0EFF0F480F6D-0F700F980FBD0FCD0FDB-0FFF10C610C8-10CC10CE10CF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B135C137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BF4-1BFB1C38-1C3A1C4A-1C4C1C80-1CBF1CC8-1CCF1CF7-1CFF1DE7-1DFB1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F209D-209F20BA-20CF20F1-20FF218A-218F23F4-23FF2427-243F244B-245F27002B4D-2B4F2B5A-2BFF2C2F2C5F2CF4-2CF82D262D28-2D2C2D2E2D2F2D68-2D6E2D71-2D7E2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E3C-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31BB-31BF31E4-31EF321F32FF4DB6-4DBF9FCD-9FFFA48D-A48FA4C7-A4CFA62C-A63FA698-A69EA6F8-A6FFA78FA794-A79FA7AB-A7F7A82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAF7-AB00AB07AB08AB0FAB10AB17-AB1FAB27AB2F-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBC2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"},{Ll:"Lowercase_Letter",Lu:"Uppercase_Letter",Lt:"Titlecase_Letter",Lm:"Modifier_Letter",Lo:"Other_Letter",M:"Mark",Mn:"Nonspacing_Mark",Mc:"Spacing_Mark",Me:"Enclosing_Mark",N:"Number",Nd:"Decimal_Number",Nl:"Letter_Number",No:"Other_Number",P:"Punctuation",Pd:"Dash_Punctuation",Ps:"Open_Punctuation",Pe:"Close_Punctuation",Pi:"Initial_Punctuation",Pf:"Final_Punctuation",Pc:"Connector_Punctuation",Po:"Other_Punctuation",S:"Symbol",Sm:"Math_Symbol",Sc:"Currency_Symbol",Sk:"Modifier_Symbol",So:"Other_Symbol",Z:"Separator",Zs:"Space_Separator",Zl:"Line_Separator",Zp:"Paragraph_Separator",C:"Other",Cc:"Control",Cf:"Format",Co:"Private_Use",Cs:"Surrogate",Cn:"Unassigned"})}(XRegExp),function(e){"use strict";if(!e.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");e.install("extensibility"),e.addUnicodePackage({Arabic:"0600-06040606-060B060D-061A061E0620-063F0641-064A0656-065E066A-066F0671-06DC06DE-06FF0750-077F08A008A2-08AC08E4-08FEFB50-FBC1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFCFE70-FE74FE76-FEFC",Armenian:"0531-05560559-055F0561-0587058A058FFB13-FB17",Balinese:"1B00-1B4B1B50-1B7C",Bamum:"A6A0-A6F7",Batak:"1BC0-1BF31BFC-1BFF",Bengali:"0981-09830985-098C098F09900993-09A809AA-09B009B209B6-09B909BC-09C409C709C809CB-09CE09D709DC09DD09DF-09E309E6-09FB",Bopomofo:"02EA02EB3105-312D31A0-31BA",Braille:"2800-28FF",Buginese:"1A00-1A1B1A1E1A1F",Buhid:"1740-1753",Canadian_Aboriginal:"1400-167F18B0-18F5",Cham:"AA00-AA36AA40-AA4DAA50-AA59AA5C-AA5F",Cherokee:"13A0-13F4",Common:"0000-0040005B-0060007B-00A900AB-00B900BB-00BF00D700F702B9-02DF02E5-02E902EC-02FF0374037E038503870589060C061B061F06400660-066906DD096409650E3F0FD5-0FD810FB16EB-16ED173517361802180318051CD31CE11CE9-1CEC1CEE-1CF31CF51CF62000-200B200E-2064206A-20702074-207E2080-208E20A0-20B92100-21252127-2129212C-21312133-214D214F-215F21892190-23F32400-24262440-244A2460-26FF2701-27FF2900-2B4C2B50-2B592E00-2E3B2FF0-2FFB3000-300430063008-30203030-3037303C-303F309B309C30A030FB30FC3190-319F31C0-31E33220-325F327F-32CF3358-33FF4DC0-4DFFA700-A721A788-A78AA830-A839FD3EFD3FFDFDFE10-FE19FE30-FE52FE54-FE66FE68-FE6BFEFFFF01-FF20FF3B-FF40FF5B-FF65FF70FF9EFF9FFFE0-FFE6FFE8-FFEEFFF9-FFFD",Coptic:"03E2-03EF2C80-2CF32CF9-2CFF",Cyrillic:"0400-04840487-05271D2B1D782DE0-2DFFA640-A697A69F",Devanagari:"0900-09500953-09630966-09770979-097FA8E0-A8FB",Ethiopic:"1200-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A135D-137C1380-13992D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDEAB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2E",Georgian:"10A0-10C510C710CD10D0-10FA10FC-10FF2D00-2D252D272D2D",Glagolitic:"2C00-2C2E2C30-2C5E",Greek:"0370-03730375-0377037A-037D038403860388-038A038C038E-03A103A3-03E103F0-03FF1D26-1D2A1D5D-1D611D66-1D6A1DBF1F00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FC41FC6-1FD31FD6-1FDB1FDD-1FEF1FF2-1FF41FF6-1FFE2126",Gujarati:"0A81-0A830A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABC-0AC50AC7-0AC90ACB-0ACD0AD00AE0-0AE30AE6-0AF1",Gurmukhi:"0A01-0A030A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A3C0A3E-0A420A470A480A4B-0A4D0A510A59-0A5C0A5E0A66-0A75",Han:"2E80-2E992E9B-2EF32F00-2FD5300530073021-30293038-303B3400-4DB54E00-9FCCF900-FA6DFA70-FAD9",Hangul:"1100-11FF302E302F3131-318E3200-321E3260-327EA960-A97CAC00-D7A3D7B0-D7C6D7CB-D7FBFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Hanunoo:"1720-1734",Hebrew:"0591-05C705D0-05EA05F0-05F4FB1D-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FB4F",Hiragana:"3041-3096309D-309F",Inherited:"0300-036F04850486064B-0655065F0670095109521CD0-1CD21CD4-1CE01CE2-1CE81CED1CF41DC0-1DE61DFC-1DFF200C200D20D0-20F0302A-302D3099309AFE00-FE0FFE20-FE26",Javanese:"A980-A9CDA9CF-A9D9A9DEA9DF",Kannada:"0C820C830C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBC-0CC40CC6-0CC80CCA-0CCD0CD50CD60CDE0CE0-0CE30CE6-0CEF0CF10CF2",Katakana:"30A1-30FA30FD-30FF31F0-31FF32D0-32FE3300-3357FF66-FF6FFF71-FF9D",Kayah_Li:"A900-A92F",Khmer:"1780-17DD17E0-17E917F0-17F919E0-19FF",Lao:"0E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB90EBB-0EBD0EC0-0EC40EC60EC8-0ECD0ED0-0ED90EDC-0EDF",Latin:"0041-005A0061-007A00AA00BA00C0-00D600D8-00F600F8-02B802E0-02E41D00-1D251D2C-1D5C1D62-1D651D6B-1D771D79-1DBE1E00-1EFF2071207F2090-209C212A212B2132214E2160-21882C60-2C7FA722-A787A78B-A78EA790-A793A7A0-A7AAA7F8-A7FFFB00-FB06FF21-FF3AFF41-FF5A",Lepcha:"1C00-1C371C3B-1C491C4D-1C4F",Limbu:"1900-191C1920-192B1930-193B19401944-194F",Lisu:"A4D0-A4FF",Malayalam:"0D020D030D05-0D0C0D0E-0D100D12-0D3A0D3D-0D440D46-0D480D4A-0D4E0D570D60-0D630D66-0D750D79-0D7F",Mandaic:"0840-085B085E",Meetei_Mayek:"AAE0-AAF6ABC0-ABEDABF0-ABF9",Mongolian:"1800180118041806-180E1810-18191820-18771880-18AA",Myanmar:"1000-109FAA60-AA7B",New_Tai_Lue:"1980-19AB19B0-19C919D0-19DA19DE19DF",Nko:"07C0-07FA",Ogham:"1680-169C",Ol_Chiki:"1C50-1C7F",Oriya:"0B01-0B030B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3C-0B440B470B480B4B-0B4D0B560B570B5C0B5D0B5F-0B630B66-0B77",Phags_Pa:"A840-A877",Rejang:"A930-A953A95F",Runic:"16A0-16EA16EE-16F0",Samaritan:"0800-082D0830-083E",Saurashtra:"A880-A8C4A8CE-A8D9",Sinhala:"0D820D830D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60DCA0DCF-0DD40DD60DD8-0DDF0DF2-0DF4",Sundanese:"1B80-1BBF1CC0-1CC7",Syloti_Nagri:"A800-A82B",Syriac:"0700-070D070F-074A074D-074F",Tagalog:"1700-170C170E-1714",Tagbanwa:"1760-176C176E-177017721773",Tai_Le:"1950-196D1970-1974",Tai_Tham:"1A20-1A5E1A60-1A7C1A7F-1A891A90-1A991AA0-1AAD",Tai_Viet:"AA80-AAC2AADB-AADF",Tamil:"0B820B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BBE-0BC20BC6-0BC80BCA-0BCD0BD00BD70BE6-0BFA",Telugu:"0C01-0C030C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D-0C440C46-0C480C4A-0C4D0C550C560C580C590C60-0C630C66-0C6F0C78-0C7F",Thaana:"0780-07B1",Thai:"0E01-0E3A0E40-0E5B",Tibetan:"0F00-0F470F49-0F6C0F71-0F970F99-0FBC0FBE-0FCC0FCE-0FD40FD90FDA",Tifinagh:"2D30-2D672D6F2D702D7F",Vai:"A500-A62B",Yi:"A000-A48CA490-A4C6"})}(XRegExp),function(e){"use strict";if(!e.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Blocks");e.install("extensibility"),e.addUnicodePackage({InBasic_Latin:"0000-007F",InLatin_1_Supplement:"0080-00FF",InLatin_Extended_A:"0100-017F",InLatin_Extended_B:"0180-024F",InIPA_Extensions:"0250-02AF",InSpacing_Modifier_Letters:"02B0-02FF",InCombining_Diacritical_Marks:"0300-036F",InGreek_and_Coptic:"0370-03FF",InCyrillic:"0400-04FF",InCyrillic_Supplement:"0500-052F",InArmenian:"0530-058F",InHebrew:"0590-05FF",InArabic:"0600-06FF",InSyriac:"0700-074F",InArabic_Supplement:"0750-077F",InThaana:"0780-07BF",InNKo:"07C0-07FF",InSamaritan:"0800-083F",InMandaic:"0840-085F",InArabic_Extended_A:"08A0-08FF",InDevanagari:"0900-097F",InBengali:"0980-09FF",InGurmukhi:"0A00-0A7F",InGujarati:"0A80-0AFF",InOriya:"0B00-0B7F",InTamil:"0B80-0BFF",InTelugu:"0C00-0C7F",InKannada:"0C80-0CFF",InMalayalam:"0D00-0D7F",InSinhala:"0D80-0DFF",InThai:"0E00-0E7F",InLao:"0E80-0EFF",InTibetan:"0F00-0FFF",InMyanmar:"1000-109F",InGeorgian:"10A0-10FF",InHangul_Jamo:"1100-11FF",InEthiopic:"1200-137F",InEthiopic_Supplement:"1380-139F",InCherokee:"13A0-13FF",InUnified_Canadian_Aboriginal_Syllabics:"1400-167F",InOgham:"1680-169F",InRunic:"16A0-16FF",InTagalog:"1700-171F",InHanunoo:"1720-173F",InBuhid:"1740-175F",InTagbanwa:"1760-177F",InKhmer:"1780-17FF",InMongolian:"1800-18AF",InUnified_Canadian_Aboriginal_Syllabics_Extended:"18B0-18FF",InLimbu:"1900-194F",InTai_Le:"1950-197F",InNew_Tai_Lue:"1980-19DF",InKhmer_Symbols:"19E0-19FF",InBuginese:"1A00-1A1F",InTai_Tham:"1A20-1AAF",InBalinese:"1B00-1B7F",InSundanese:"1B80-1BBF",InBatak:"1BC0-1BFF",InLepcha:"1C00-1C4F",InOl_Chiki:"1C50-1C7F",InSundanese_Supplement:"1CC0-1CCF",InVedic_Extensions:"1CD0-1CFF",InPhonetic_Extensions:"1D00-1D7F",InPhonetic_Extensions_Supplement:"1D80-1DBF",InCombining_Diacritical_Marks_Supplement:"1DC0-1DFF",InLatin_Extended_Additional:"1E00-1EFF",InGreek_Extended:"1F00-1FFF",InGeneral_Punctuation:"2000-206F",InSuperscripts_and_Subscripts:"2070-209F",InCurrency_Symbols:"20A0-20CF",InCombining_Diacritical_Marks_for_Symbols:"20D0-20FF",InLetterlike_Symbols:"2100-214F",InNumber_Forms:"2150-218F",InArrows:"2190-21FF",InMathematical_Operators:"2200-22FF",InMiscellaneous_Technical:"2300-23FF",InControl_Pictures:"2400-243F",InOptical_Character_Recognition:"2440-245F",InEnclosed_Alphanumerics:"2460-24FF",InBox_Drawing:"2500-257F",InBlock_Elements:"2580-259F",InGeometric_Shapes:"25A0-25FF",InMiscellaneous_Symbols:"2600-26FF",InDingbats:"2700-27BF",InMiscellaneous_Mathematical_Symbols_A:"27C0-27EF",InSupplemental_Arrows_A:"27F0-27FF",InBraille_Patterns:"2800-28FF",InSupplemental_Arrows_B:"2900-297F",InMiscellaneous_Mathematical_Symbols_B:"2980-29FF",InSupplemental_Mathematical_Operators:"2A00-2AFF",InMiscellaneous_Symbols_and_Arrows:"2B00-2BFF",InGlagolitic:"2C00-2C5F",InLatin_Extended_C:"2C60-2C7F",InCoptic:"2C80-2CFF",InGeorgian_Supplement:"2D00-2D2F",InTifinagh:"2D30-2D7F",InEthiopic_Extended:"2D80-2DDF",InCyrillic_Extended_A:"2DE0-2DFF",InSupplemental_Punctuation:"2E00-2E7F",InCJK_Radicals_Supplement:"2E80-2EFF",InKangxi_Radicals:"2F00-2FDF",InIdeographic_Description_Characters:"2FF0-2FFF",InCJK_Symbols_and_Punctuation:"3000-303F",InHiragana:"3040-309F",InKatakana:"30A0-30FF",InBopomofo:"3100-312F",InHangul_Compatibility_Jamo:"3130-318F",InKanbun:"3190-319F",InBopomofo_Extended:"31A0-31BF",InCJK_Strokes:"31C0-31EF",InKatakana_Phonetic_Extensions:"31F0-31FF",InEnclosed_CJK_Letters_and_Months:"3200-32FF",InCJK_Compatibility:"3300-33FF",InCJK_Unified_Ideographs_Extension_A:"3400-4DBF",InYijing_Hexagram_Symbols:"4DC0-4DFF",InCJK_Unified_Ideographs:"4E00-9FFF",InYi_Syllables:"A000-A48F",InYi_Radicals:"A490-A4CF",InLisu:"A4D0-A4FF",InVai:"A500-A63F",InCyrillic_Extended_B:"A640-A69F",InBamum:"A6A0-A6FF",InModifier_Tone_Letters:"A700-A71F",InLatin_Extended_D:"A720-A7FF",InSyloti_Nagri:"A800-A82F",InCommon_Indic_Number_Forms:"A830-A83F",InPhags_pa:"A840-A87F",InSaurashtra:"A880-A8DF",InDevanagari_Extended:"A8E0-A8FF",InKayah_Li:"A900-A92F",InRejang:"A930-A95F",InHangul_Jamo_Extended_A:"A960-A97F",InJavanese:"A980-A9DF",InCham:"AA00-AA5F",InMyanmar_Extended_A:"AA60-AA7F",InTai_Viet:"AA80-AADF",InMeetei_Mayek_Extensions:"AAE0-AAFF",InEthiopic_Extended_A:"AB00-AB2F",InMeetei_Mayek:"ABC0-ABFF",InHangul_Syllables:"AC00-D7AF",InHangul_Jamo_Extended_B:"D7B0-D7FF",InHigh_Surrogates:"D800-DB7F",InHigh_Private_Use_Surrogates:"DB80-DBFF",InLow_Surrogates:"DC00-DFFF",InPrivate_Use_Area:"E000-F8FF",InCJK_Compatibility_Ideographs:"F900-FAFF",InAlphabetic_Presentation_Forms:"FB00-FB4F",InArabic_Presentation_Forms_A:"FB50-FDFF",InVariation_Selectors:"FE00-FE0F",InVertical_Forms:"FE10-FE1F",InCombining_Half_Marks:"FE20-FE2F",InCJK_Compatibility_Forms:"FE30-FE4F",InSmall_Form_Variants:"FE50-FE6F",InArabic_Presentation_Forms_B:"FE70-FEFF",InHalfwidth_and_Fullwidth_Forms:"FF00-FFEF",InSpecials:"FFF0-FFFF"})}(XRegExp),function(e){"use strict";if(!e.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");e.install("extensibility"),e.addUnicodePackage({Alphabetic:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE03450370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05270531-055605590561-058705B0-05BD05BF05C105C205C405C505C705D0-05EA05F0-05F20610-061A0620-06570659-065F066E-06D306D5-06DC06E1-06E806ED-06EF06FA-06FC06FF0710-073F074D-07B107CA-07EA07F407F507FA0800-0817081A-082C0840-085808A008A2-08AC08E4-08E908F0-08FE0900-093B093D-094C094E-09500955-09630971-09770979-097F0981-09830985-098C098F09900993-09A809AA-09B009B209B6-09B909BD-09C409C709C809CB09CC09CE09D709DC09DD09DF-09E309F009F10A01-0A030A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A3E-0A420A470A480A4B0A4C0A510A59-0A5C0A5E0A70-0A750A81-0A830A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD-0AC50AC7-0AC90ACB0ACC0AD00AE0-0AE30B01-0B030B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D-0B440B470B480B4B0B4C0B560B570B5C0B5D0B5F-0B630B710B820B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BBE-0BC20BC6-0BC80BCA-0BCC0BD00BD70C01-0C030C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D-0C440C46-0C480C4A-0C4C0C550C560C580C590C60-0C630C820C830C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD-0CC40CC6-0CC80CCA-0CCC0CD50CD60CDE0CE0-0CE30CF10CF20D020D030D05-0D0C0D0E-0D100D12-0D3A0D3D-0D440D46-0D480D4A-0D4C0D4E0D570D60-0D630D7A-0D7F0D820D830D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60DCF-0DD40DD60DD8-0DDF0DF20DF30E01-0E3A0E40-0E460E4D0E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB90EBB-0EBD0EC0-0EC40EC60ECD0EDC-0EDF0F000F40-0F470F49-0F6C0F71-0F810F88-0F970F99-0FBC1000-10361038103B-103F1050-10621065-1068106E-1086108E109C109D10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A135F1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16EE-16F01700-170C170E-17131720-17331740-17531760-176C176E-1770177217731780-17B317B6-17C817D717DC1820-18771880-18AA18B0-18F51900-191C1920-192B1930-19381950-196D1970-19741980-19AB19B0-19C91A00-1A1B1A20-1A5E1A61-1A741AA71B00-1B331B35-1B431B45-1B4B1B80-1BA91BAC-1BAF1BBA-1BE51BE7-1BF11C00-1C351C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF31CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E2160-218824B6-24E92C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2DE0-2DFF2E2F3005-30073021-30293031-30353038-303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA674-A67BA67F-A697A69F-A6EFA717-A71FA722-A788A78B-A78EA790-A793A7A0-A7AAA7F8-A801A803-A805A807-A80AA80C-A827A840-A873A880-A8C3A8F2-A8F7A8FBA90A-A92AA930-A952A960-A97CA980-A9B2A9B4-A9BFA9CFAA00-AA36AA40-AA4DAA60-AA76AA7AAA80-AABEAAC0AAC2AADB-AADDAAE0-AAEFAAF2-AAF5AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABEAAC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1D-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Uppercase:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E05200522052405260531-055610A0-10C510C710CD1E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F21452160-216F218324B6-24CF2C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CED2CF2A640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA660A662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BA78DA790A792A7A0A7A2A7A4A7A6A7A8A7AAFF21-FF3A",Lowercase:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02B802C002C102E0-02E40345037103730377037A-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F05210523052505270561-05871D00-1DBF1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF72071207F2090-209C210A210E210F2113212F21342139213C213D2146-2149214E2170-217F218424D0-24E92C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7D2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2CF32D00-2D252D272D2DA641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA661A663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76F-A778A77AA77CA77FA781A783A785A787A78CA78EA791A793A7A1A7A3A7A5A7A7A7A9A7F8-A7FAFB00-FB06FB13-FB17FF41-FF5A",White_Space:"0009-000D0020008500A01680180E2000-200A20282029202F205F3000",Noncharacter_Code_Point:"FDD0-FDEFFFFEFFFF",Default_Ignorable_Code_Point:"00AD034F115F116017B417B5180B-180D200B-200F202A-202E2060-206F3164FE00-FE0FFEFFFFA0FFF0-FFF8",Any:"0000-FFFF",Ascii:"0000-007F",Assigned:"0000-0377037A-037E0384-038A038C038E-03A103A3-05270531-05560559-055F0561-05870589058A058F0591-05C705D0-05EA05F0-05F40600-06040606-061B061E-070D070F-074A074D-07B107C0-07FA0800-082D0830-083E0840-085B085E08A008A2-08AC08E4-08FE0900-09770979-097F0981-09830985-098C098F09900993-09A809AA-09B009B209B6-09B909BC-09C409C709C809CB-09CE09D709DC09DD09DF-09E309E6-09FB0A01-0A030A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A3C0A3E-0A420A470A480A4B-0A4D0A510A59-0A5C0A5E0A66-0A750A81-0A830A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABC-0AC50AC7-0AC90ACB-0ACD0AD00AE0-0AE30AE6-0AF10B01-0B030B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3C-0B440B470B480B4B-0B4D0B560B570B5C0B5D0B5F-0B630B66-0B770B820B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BBE-0BC20BC6-0BC80BCA-0BCD0BD00BD70BE6-0BFA0C01-0C030C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D-0C440C46-0C480C4A-0C4D0C550C560C580C590C60-0C630C66-0C6F0C78-0C7F0C820C830C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBC-0CC40CC6-0CC80CCA-0CCD0CD50CD60CDE0CE0-0CE30CE6-0CEF0CF10CF20D020D030D05-0D0C0D0E-0D100D12-0D3A0D3D-0D440D46-0D480D4A-0D4E0D570D60-0D630D66-0D750D79-0D7F0D820D830D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60DCA0DCF-0DD40DD60DD8-0DDF0DF2-0DF40E01-0E3A0E3F-0E5B0E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB90EBB-0EBD0EC0-0EC40EC60EC8-0ECD0ED0-0ED90EDC-0EDF0F00-0F470F49-0F6C0F71-0F970F99-0FBC0FBE-0FCC0FCE-0FDA1000-10C510C710CD10D0-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A135D-137C1380-139913A0-13F41400-169C16A0-16F01700-170C170E-17141720-17361740-17531760-176C176E-1770177217731780-17DD17E0-17E917F0-17F91800-180E1810-18191820-18771880-18AA18B0-18F51900-191C1920-192B1930-193B19401944-196D1970-19741980-19AB19B0-19C919D0-19DA19DE-1A1B1A1E-1A5E1A60-1A7C1A7F-1A891A90-1A991AA0-1AAD1B00-1B4B1B50-1B7C1B80-1BF31BFC-1C371C3B-1C491C4D-1C7F1CC0-1CC71CD0-1CF61D00-1DE61DFC-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FC41FC6-1FD31FD6-1FDB1FDD-1FEF1FF2-1FF41FF6-1FFE2000-2064206A-20712074-208E2090-209C20A0-20B920D0-20F02100-21892190-23F32400-24262440-244A2460-26FF2701-2B4C2B50-2B592C00-2C2E2C30-2C5E2C60-2CF32CF9-2D252D272D2D2D30-2D672D6F2D702D7F-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2DE0-2E3B2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB3000-303F3041-30963099-30FF3105-312D3131-318E3190-31BA31C0-31E331F0-321E3220-32FE3300-4DB54DC0-9FCCA000-A48CA490-A4C6A4D0-A62BA640-A697A69F-A6F7A700-A78EA790-A793A7A0-A7AAA7F8-A82BA830-A839A840-A877A880-A8C4A8CE-A8D9A8E0-A8FBA900-A953A95F-A97CA980-A9CDA9CF-A9D9A9DEA9DFAA00-AA36AA40-AA4DAA50-AA59AA5C-AA7BAA80-AAC2AADB-AAF6AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABEDABF0-ABF9AC00-D7A3D7B0-D7C6D7CB-D7FBD800-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1D-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBC1FBD3-FD3FFD50-FD8FFD92-FDC7FDF0-FDFDFE00-FE19FE20-FE26FE30-FE52FE54-FE66FE68-FE6BFE70-FE74FE76-FEFCFEFFFF01-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDCFFE0-FFE6FFE8-FFEEFFF9-FFFD"})}(XRegExp),function(e){"use strict";function t(e,t,i,n){return{value:e,name:t,start:i,end:n}}e.matchRecursive=function(i,n,a,r,s){r=r||"",s=s||{};var o,F,A,l,c,d=r.indexOf("g")>-1,C=r.indexOf("y")>-1,E=r.replace(/y/g,""),u=s.escapeChar,D=s.valueNames,h=[],p=0,B=0,g=0,f=0;if(n=e(n,E),a=e(a,E),u){if(u.length>1)throw new SyntaxError("can't use more than one escape character");u=e.escape(u),c=new RegExp("(?:"+u+"[\\S\\s]|(?:(?!"+e.union([n,a]).source+")[^"+u+"])+)+",r.replace(/[^im]+/g,""))}for(;;){if(u&&(g+=(e.exec(i,c,g,"sticky")||[""])[0].length),A=e.exec(i,n,g),l=e.exec(i,a,g),A&&l&&(A.index<=l.index?l=null:A=null),A||l)B=(A||l).index,g=B+(A||l)[0].length;else if(!p)break;if(C&&!p&&B>f)break;if(A)p||(o=B,F=g),++p;else{if(!l||!p)throw new Error("string contains unbalanced delimiters");if(!--p&&(D?(D[0]&&o>f&&h.push(t(D[0],i.slice(f,o),f,o)),D[1]&&h.push(t(D[1],i.slice(o,F),o,F)),D[2]&&h.push(t(D[2],i.slice(F,B),F,B)),D[3]&&h.push(t(D[3],i.slice(B,g),B,g))):h.push(i.slice(F,B)),f=g,!d))break}B===g&&++g}return d&&!C&&D&&D[0]&&i.length>f&&h.push(t(D[0],i.slice(f),f,i.length)),h}}(XRegExp),function(e){"use strict";function t(e){var t=/^(?:\(\?:\))?\^/,i=/\$(?:\(\?:\))?$/;return i.test(e.replace(/\\[\s\S]/g,""))?e.replace(t,"").replace(i,""):e}function i(t){return e.isRegExp(t)?t.xregexp&&!t.xregexp.isNative?t:e(t.source):e(t)}var n=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,a=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,n],"g");e.build=function(r,s,o){var F,A,l,c,d=/^\(\?([\w$]+)\)/.exec(r),C={},E=0,u=0,D=[0];d&&(o=o||"",d[1].replace(/./g,function(e){o+=o.indexOf(e)>-1?"":e}));for(c in s)s.hasOwnProperty(c)&&(l=i(s[c]),C[c]={pattern:t(l.source),names:l.xregexp.captureNames||[]});return r=i(r),A=r.xregexp.captureNames||[],r=r.source.replace(a,function(e,t,i,a,r){var s,o,l=t||i;if(l){if(!C.hasOwnProperty(l))throw new ReferenceError("undefined property "+e);return t?(s=A[u],D[++u]=++E,o="(?<"+(s||l)+">"):o="(?:",F=E,o+C[l].pattern.replace(n,function(e,t,i){if(t){if(s=C[l].names[E-F],++E,s)return"(?<"+s+">"}else if(i)return"\\"+(+i+F);return e})+")"}if(a){if(s=A[u],D[++u]=++E,s)return"(?<"+s+">"}else if(r)return"\\"+D[+r];return e}),e(r,o)}}(XRegExp),function(e){"use strict";function t(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}t(e.prototype,{apply:function(e,t){return this.test(t[0])},call:function(e,t){return this.test(t)},forEach:function(t,i,n){return e.forEach(t,this,i,n)},globalize:function(){return e.globalize(this)},xexec:function(t,i,n){return e.exec(t,this,i,n)},xtest:function(t,i,n){return e.test(t,this,i,n)}})}(XRegExp),function(e,t){function i(e,t){var i=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var e=_.elements;return"string"==typeof e?e.split(" "):e}function a(e,t){var i=_.elements;"string"!=typeof i&&(i=i.join(" ")),"string"!=typeof e&&(e=e.join(" ")),_.elements=i+" "+e,A(t)}function r(e){var t=v[e[f]];return t||(t={},m++,e[f]=m,v[m]=t),t}function s(e,i,n){if(i||(i=t),D)return i.createElement(e);n||(n=r(i));var a;return a=n.cache[e]?n.cache[e].cloneNode():g.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e),!a.canHaveChildren||B.test(e)||a.tagUrn?a:n.frag.appendChild(a)}function o(e,i){if(e||(e=t),D)return e.createDocumentFragment();i=i||r(e);for(var a=i.frag.cloneNode(),s=0,o=n(),F=o.length;s<F;s++)a.createElement(o[s]);return a}function F(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return _.shivMethods?s(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(_,t.frag)}function A(e){e||(e=t);var n=r(e);return!_.shivCSS||u||n.hasCSS||(n.hasCSS=!!i(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),D||F(e,n),e}function l(e){for(var t,i=e.getElementsByTagName("*"),a=i.length,r=RegExp("^(?:"+n().join("|")+")$","i"),s=[];a--;)t=i[a],r.test(t.nodeName)&&s.push(t.applyElement(c(t)));return s}function c(e){for(var t,i=e.attributes,n=i.length,a=e.ownerDocument.createElement(x+":"+e.nodeName);n--;)t=i[n],t.specified&&a.setAttribute(t.nodeName,t.nodeValue);return a.style.cssText=e.style.cssText,a}function d(e){for(var t,i=e.split("{"),a=i.length,r=RegExp("(^|[\\s,>+~])("+n().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),s="$1"+x+"\\:$2";a--;)t=i[a]=i[a].split("}"),t[t.length-1]=t[t.length-1].replace(r,s),i[a]=t.join("}");return i.join("{")}function C(e){for(var t=e.length;t--;)e[t].removeNode()}function E(e){function t(){clearTimeout(s._removeSheetTimer),n&&n.removeNode(!0),n=null}var n,a,s=r(e),o=e.namespaces,F=e.parentWindow;return!b||e.printShived?e:("undefined"==typeof o[x]&&o.add(x),F.attachEvent("onbeforeprint",function(){t();for(var r,s,o,F=e.styleSheets,A=[],c=F.length,C=Array(c);c--;)C[c]=F[c];for(;o=C.pop();)if(!o.disabled&&y.test(o.media)){try{r=o.imports,s=r.length}catch(e){s=0}for(c=0;c<s;c++)C.push(r[c]);try{A.push(o.cssText)}catch(e){}}A=d(A.reverse().join("")),a=l(e),n=i(e,A)}),F.attachEvent("onafterprint",function(){C(a),clearTimeout(s._removeSheetTimer),s._removeSheetTimer=setTimeout(t,500)}),e.printShived=!0,e)}var u,D,h="3.7.3",p=e.html5||{},B=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,g=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",m=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,D=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(e){u=!0,D=!0}}();var _={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",
version:h,shivCSS:p.shivCSS!==!1,supportsUnknownElements:D,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:A,createElement:s,createDocumentFragment:o,addElements:a};e.html5=_,A(t);var y=/^$|\b(?:all|print)\b/,x="html5shiv",b=!D&&function(){var i=t.documentElement;return!("undefined"==typeof t.namespaces||"undefined"==typeof t.parentWindow||"undefined"==typeof i.applyElement||"undefined"==typeof i.removeNode||"undefined"==typeof e.attachEvent)}();_.type+=" print",_.shivPrint=E,E(t),"object"==typeof module&&module.exports&&(module.exports=_)}("undefined"!=typeof window?window:this,document),function(e,t){function i(e,t){var i=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var e=B.elements;return"string"==typeof e?e.split(" "):e}function a(e,t){var i=B.elements;"string"!=typeof i&&(i=i.join(" ")),"string"!=typeof e&&(e=e.join(" ")),B.elements=i+" "+e,A(t)}function r(e){var t=p[e[D]];return t||(t={},h++,e[D]=h,p[h]=t),t}function s(e,i,n){if(i||(i=t),c)return i.createElement(e);n||(n=r(i));var a;return a=n.cache[e]?n.cache[e].cloneNode():u.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e),!a.canHaveChildren||E.test(e)||a.tagUrn?a:n.frag.appendChild(a)}function o(e,i){if(e||(e=t),c)return e.createDocumentFragment();i=i||r(e);for(var a=i.frag.cloneNode(),s=0,o=n(),F=o.length;s<F;s++)a.createElement(o[s]);return a}function F(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return B.shivMethods?s(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(B,t.frag)}function A(e){e||(e=t);var n=r(e);return!B.shivCSS||l||n.hasCSS||(n.hasCSS=!!i(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||F(e,n),e}var l,c,d="3.7.3",C=e.html5||{},E=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,u=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,D="_html5shiv",h=0,p={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",l="hidden"in e,c=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(e){l=!0,c=!0}}();var B={elements:C.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:d,shivCSS:C.shivCSS!==!1,supportsUnknownElements:c,shivMethods:C.shivMethods!==!1,type:"default",shivDocument:A,createElement:s,createDocumentFragment:o,addElements:a};e.html5=B,A(t),"object"==typeof module&&module.exports&&(module.exports=B)}("undefined"!=typeof window?window:this,document),function(e){var t={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};e.fn.bxSlider=function(n){if(0===this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(n)}),this;var a={},r=this,s=e(window).width(),o=e(window).height();if(!e(r).data("bxSlider")){var F=function(){e(r).data("bxSlider")||(a.settings=e.extend({},t,n),a.settings.slideWidth=parseInt(a.settings.slideWidth),a.children=r.children(a.settings.slideSelector),a.children.length<a.settings.minSlides&&(a.settings.minSlides=a.children.length),a.children.length<a.settings.maxSlides&&(a.settings.maxSlides=a.children.length),a.settings.randomStart&&(a.settings.startSlide=Math.floor(Math.random()*a.children.length)),a.active={index:a.settings.startSlide},a.carousel=a.settings.minSlides>1||a.settings.maxSlides>1,a.carousel&&(a.settings.preloadImages="all"),a.minThreshold=a.settings.minSlides*a.settings.slideWidth+(a.settings.minSlides-1)*a.settings.slideMargin,a.maxThreshold=a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin,a.working=!1,a.controls={},a.interval=null,a.animProp="vertical"===a.settings.mode?"top":"left",a.usingCSS=a.settings.useCSS&&"fade"!==a.settings.mode&&function(){for(var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<t.length;i++)if(void 0!==e.style[t[i]])return a.cssPrefix=t[i].replace("Perspective","").toLowerCase(),a.animProp="-"+a.cssPrefix+"-transform",!0;return!1}(),"vertical"===a.settings.mode&&(a.settings.maxSlides=a.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(a.settings.slideSelector).each(function(){e(this).data("origStyle",e(this).attr("style"))}),A())},A=function(){var t=a.children.eq(a.settings.startSlide);r.wrap('<div class="'+a.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),a.viewport=r.parent(),a.settings.ariaLive&&!a.settings.ticker&&a.viewport.attr("aria-live","polite"),a.loader=e('<div class="bx-loading" />'),a.viewport.prepend(a.loader),r.css({width:"horizontal"===a.settings.mode?1e3*a.children.length+215+"%":"auto",position:"relative"}),a.usingCSS&&a.settings.easing?r.css("-"+a.cssPrefix+"-transition-timing-function",a.settings.easing):a.settings.easing||(a.settings.easing="swing"),a.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),a.viewport.parent().css({maxWidth:C()}),a.settings.pager||a.settings.controls||a.viewport.parent().css({margin:"0 auto 0px"}),a.children.css({float:"horizontal"===a.settings.mode?"left":"none",listStyle:"none",position:"relative"}),a.children.css("width",E()),"horizontal"===a.settings.mode&&a.settings.slideMargin>0&&a.children.css("marginRight",a.settings.slideMargin),"vertical"===a.settings.mode&&a.settings.slideMargin>0&&a.children.css("marginBottom",a.settings.slideMargin),"fade"===a.settings.mode&&(a.children.css({position:"absolute",zIndex:0,display:"none"}),a.children.eq(a.settings.startSlide).css({zIndex:a.settings.slideZIndex,display:"block"})),a.controls.el=e('<div class="bx-controls" />'),a.settings.captions&&_(),a.active.last=a.settings.startSlide===D()-1,a.settings.video&&r.fitVids(),("all"===a.settings.preloadImages||a.settings.ticker)&&(t=a.children),a.settings.ticker?a.settings.pager=!1:(a.settings.controls&&m(),a.settings.auto&&a.settings.autoControls&&v(),a.settings.pager&&f(),(a.settings.controls||a.settings.autoControls||a.settings.pager)&&a.viewport.after(a.controls.el)),l(t,c)},l=function(t,i){var n=t.find('img:not([src=""]), iframe').length,a=0;return 0===n?void i():void t.find('img:not([src=""]), iframe').each(function(){e(this).one("load error",function(){++a===n&&i()}).each(function(){this.complete&&e(this).trigger("load")})})},c=function(){if(a.settings.infiniteLoop&&"fade"!==a.settings.mode&&!a.settings.ticker){var t="vertical"===a.settings.mode?a.settings.minSlides:a.settings.maxSlides,i=a.children.slice(0,t).clone(!0).addClass("bx-clone"),n=a.children.slice(-t).clone(!0).addClass("bx-clone");a.settings.ariaHidden&&(i.attr("aria-hidden",!0),n.attr("aria-hidden",!0)),r.append(i).prepend(n)}a.loader.remove(),p(),"vertical"===a.settings.mode&&(a.settings.adaptiveHeight=!0),a.viewport.height(d()),r.redrawSlider(),a.settings.onSliderLoad.call(r,a.active.index),a.initialized=!0,a.settings.responsive&&e(window).bind("resize",U),a.settings.auto&&a.settings.autoStart&&(D()>1||a.settings.autoSlideForOnePage)&&P(),a.settings.ticker&&N(),a.settings.pager&&S(a.settings.startSlide),a.settings.controls&&T(),a.settings.touchEnabled&&!a.settings.ticker&&j(),a.settings.keyboardEnabled&&!a.settings.ticker&&e(document).keydown(O)},d=function(){var t=0,n=e();if("vertical"===a.settings.mode||a.settings.adaptiveHeight)if(a.carousel){var r=1===a.settings.moveSlides?a.active.index:a.active.index*h();for(n=a.children.eq(r),i=1;i<=a.settings.maxSlides-1;i++)n=r+i>=a.children.length?n.add(a.children.eq(i-1)):n.add(a.children.eq(r+i))}else n=a.children.eq(a.active.index);else n=a.children;return"vertical"===a.settings.mode?(n.each(function(i){t+=e(this).outerHeight()}),a.settings.slideMargin>0&&(t+=a.settings.slideMargin*(a.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),"border-box"===a.viewport.css("box-sizing")?t+=parseFloat(a.viewport.css("padding-top"))+parseFloat(a.viewport.css("padding-bottom"))+parseFloat(a.viewport.css("border-top-width"))+parseFloat(a.viewport.css("border-bottom-width")):"padding-box"===a.viewport.css("box-sizing")&&(t+=parseFloat(a.viewport.css("padding-top"))+parseFloat(a.viewport.css("padding-bottom"))),t},C=function(){var e="100%";return a.settings.slideWidth>0&&(e="horizontal"===a.settings.mode?a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin:a.settings.slideWidth),e},E=function(){var e=a.settings.slideWidth,t=a.viewport.width();if(0===a.settings.slideWidth||a.settings.slideWidth>t&&!a.carousel||"vertical"===a.settings.mode)e=t;else if(a.settings.maxSlides>1&&"horizontal"===a.settings.mode){if(t>a.maxThreshold)return e;t<a.minThreshold?e=(t-a.settings.slideMargin*(a.settings.minSlides-1))/a.settings.minSlides:a.settings.shrinkItems&&(e=Math.floor((t+a.settings.slideMargin)/Math.ceil((t+a.settings.slideMargin)/(e+a.settings.slideMargin))-a.settings.slideMargin))}return e},u=function(){var e=1,t=null;return"horizontal"===a.settings.mode&&a.settings.slideWidth>0?a.viewport.width()<a.minThreshold?e=a.settings.minSlides:a.viewport.width()>a.maxThreshold?e=a.settings.maxSlides:(t=a.children.first().outerWidth()+a.settings.slideMargin,e=Math.floor((a.viewport.width()+a.settings.slideMargin)/t)):"vertical"===a.settings.mode&&(e=a.settings.minSlides),e},D=function(){var e=0,t=0,i=0;if(a.settings.moveSlides>0)if(a.settings.infiniteLoop)e=Math.ceil(a.children.length/h());else for(;t<a.children.length;)++e,t=i+u(),i+=a.settings.moveSlides<=u()?a.settings.moveSlides:u();else e=Math.ceil(a.children.length/u());return e},h=function(){return a.settings.moveSlides>0&&a.settings.moveSlides<=u()?a.settings.moveSlides:u()},p=function(){var e,t,i;a.children.length>a.settings.maxSlides&&a.active.last&&!a.settings.infiniteLoop?"horizontal"===a.settings.mode?(t=a.children.last(),e=t.position(),B(-(e.left-(a.viewport.width()-t.outerWidth())),"reset",0)):"vertical"===a.settings.mode&&(i=a.children.length-a.settings.minSlides,e=a.children.eq(i).position(),B(-e.top,"reset",0)):(e=a.children.eq(a.active.index*h()).position(),a.active.index===D()-1&&(a.active.last=!0),void 0!==e&&("horizontal"===a.settings.mode?B(-e.left,"reset",.01):"vertical"===a.settings.mode&&B(-e.top,"reset",.01)))},B=function(t,i,n,s){var o,F;a.usingCSS?(F="vertical"===a.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)",r.css("-"+a.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"===i?(r.css(a.animProp,F),0!==n?r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){e(t.target).is(r)&&(r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),I())}):I()):"reset"===i?r.css(a.animProp,F):"ticker"===i&&(r.css("-"+a.cssPrefix+"-transition-timing-function","linear"),r.css(a.animProp,F),0!==n?r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){e(t.target).is(r)&&(r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),B(s.resetValue,"reset",0),$())}):(B(s.resetValue,"reset",0),$()))):(o={},o[a.animProp]=t,"slide"===i?r.animate(o,n,a.settings.easing,function(){I()}):"reset"===i?r.css(a.animProp,t):"ticker"===i&&r.animate(o,n,"linear",function(){B(s.resetValue,"reset",0),$()}))},g=function(){for(var t="",i="",n=D(),r=0;r<n;r++)i="",a.settings.buildPager&&e.isFunction(a.settings.buildPager)||a.settings.pagerCustom?(i=a.settings.buildPager(r),a.pagerEl.addClass("bx-custom-pager")):(i=r+1,a.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+r+'" class="bx-pager-link">'+i+"</a></div>";a.pagerEl.html(t)},f=function(){a.settings.pagerCustom?a.pagerEl=e(a.settings.pagerCustom):(a.pagerEl=e('<div class="bx-pager" />'),a.settings.pagerSelector?e(a.settings.pagerSelector).html(a.pagerEl):a.controls.el.addClass("bx-has-pager").append(a.pagerEl),g()),a.pagerEl.on("click touchend","a",w)},m=function(){a.controls.next=e('<a class="bx-next" href="">'+a.settings.nextText+"</a>"),a.controls.prev=e('<a class="bx-prev" href="">'+a.settings.prevText+"</a>"),a.controls.next.bind("click touchend",y),a.controls.prev.bind("click touchend",x),a.settings.nextSelector&&e(a.settings.nextSelector).append(a.controls.next),a.settings.prevSelector&&e(a.settings.prevSelector).append(a.controls.prev),a.settings.nextSelector||a.settings.prevSelector||(a.controls.directionEl=e('<div class="bx-controls-direction" />'),a.controls.directionEl.append(a.controls.prev).append(a.controls.next),a.controls.el.addClass("bx-has-controls-direction").append(a.controls.directionEl))},v=function(){a.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+a.settings.startText+"</a></div>"),a.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+a.settings.stopText+"</a></div>"),a.controls.autoEl=e('<div class="bx-controls-auto" />'),a.controls.autoEl.on("click",".bx-start",b),a.controls.autoEl.on("click",".bx-stop",k),a.settings.autoControlsCombine?a.controls.autoEl.append(a.controls.start):a.controls.autoEl.append(a.controls.start).append(a.controls.stop),a.settings.autoControlsSelector?e(a.settings.autoControlsSelector).html(a.controls.autoEl):a.controls.el.addClass("bx-has-controls-auto").append(a.controls.autoEl),M(a.settings.autoStart?"stop":"start")},_=function(){a.children.each(function(t){var i=e(this).find("img:first").attr("title");void 0!==i&&(""+i).length&&e(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},y=function(e){e.preventDefault(),a.controls.el.hasClass("disabled")||(a.settings.auto&&a.settings.stopAutoOnClick&&r.stopAuto(),r.goToNextSlide())},x=function(e){e.preventDefault(),a.controls.el.hasClass("disabled")||(a.settings.auto&&a.settings.stopAutoOnClick&&r.stopAuto(),r.goToPrevSlide())},b=function(e){r.startAuto(),e.preventDefault()},k=function(e){r.stopAuto(),e.preventDefault()},w=function(t){var i,n;t.preventDefault(),a.controls.el.hasClass("disabled")||(a.settings.auto&&a.settings.stopAutoOnClick&&r.stopAuto(),i=e(t.currentTarget),void 0!==i.attr("data-slide-index")&&(n=parseInt(i.attr("data-slide-index")),n!==a.active.index&&r.goToSlide(n)))},S=function(t){var i=a.children.length;return"short"===a.settings.pagerType?(a.settings.maxSlides>1&&(i=Math.ceil(a.children.length/a.settings.maxSlides)),void a.pagerEl.html(t+1+a.settings.pagerShortSeparator+i)):(a.pagerEl.find("a").removeClass("active"),void a.pagerEl.each(function(i,n){e(n).find("a").eq(t).addClass("active")}))},I=function(){if(a.settings.infiniteLoop){var e="";0===a.active.index?e=a.children.eq(0).position():a.active.index===D()-1&&a.carousel?e=a.children.eq((D()-1)*h()).position():a.active.index===a.children.length-1&&(e=a.children.eq(a.children.length-1).position()),e&&("horizontal"===a.settings.mode?B(-e.left,"reset",0):"vertical"===a.settings.mode&&B(-e.top,"reset",0))}a.working=!1,a.settings.onSlideAfter.call(r,a.children.eq(a.active.index),a.oldIndex,a.active.index)},M=function(e){a.settings.autoControlsCombine?a.controls.autoEl.html(a.controls[e]):(a.controls.autoEl.find("a").removeClass("active"),a.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},T=function(){1===D()?(a.controls.prev.addClass("disabled"),a.controls.next.addClass("disabled")):!a.settings.infiniteLoop&&a.settings.hideControlOnEnd&&(0===a.active.index?(a.controls.prev.addClass("disabled"),a.controls.next.removeClass("disabled")):a.active.index===D()-1?(a.controls.next.addClass("disabled"),a.controls.prev.removeClass("disabled")):(a.controls.prev.removeClass("disabled"),a.controls.next.removeClass("disabled")))},P=function(){if(a.settings.autoDelay>0){setTimeout(r.startAuto,a.settings.autoDelay)}else r.startAuto(),e(window).focus(function(){r.startAuto()}).blur(function(){r.stopAuto()});a.settings.autoHover&&r.hover(function(){a.interval&&(r.stopAuto(!0),a.autoPaused=!0)},function(){a.autoPaused&&(r.startAuto(!0),a.autoPaused=null)})},N=function(){var t,i,n,s,o,F,A,l,c=0;"next"===a.settings.autoDirection?r.append(a.children.clone().addClass("bx-clone")):(r.prepend(a.children.clone().addClass("bx-clone")),t=a.children.first().position(),c="horizontal"===a.settings.mode?-t.left:-t.top),B(c,"reset",0),a.settings.pager=!1,a.settings.controls=!1,a.settings.autoControls=!1,a.settings.tickerHover&&(a.usingCSS?(s="horizontal"===a.settings.mode?4:5,a.viewport.hover(function(){i=r.css("-"+a.cssPrefix+"-transform"),n=parseFloat(i.split(",")[s]),B(n,"reset",0)},function(){l=0,a.children.each(function(t){l+="horizontal"===a.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)}),o=a.settings.speed/l,F="horizontal"===a.settings.mode?"left":"top",A=o*(l-Math.abs(parseInt(n))),$(A)})):a.viewport.hover(function(){r.stop()},function(){l=0,a.children.each(function(t){l+="horizontal"===a.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)}),o=a.settings.speed/l,F="horizontal"===a.settings.mode?"left":"top",A=o*(l-Math.abs(parseInt(r.css(F)))),$(A)})),$()},$=function(e){var t,i,n,s=e?e:a.settings.speed,o={left:0,top:0},F={left:0,top:0};"next"===a.settings.autoDirection?o=r.find(".bx-clone").first().position():F=a.children.first().position(),t="horizontal"===a.settings.mode?-o.left:-o.top,i="horizontal"===a.settings.mode?-F.left:-F.top,n={resetValue:i},B(t,"ticker",s,n)},L=function(t){var i=e(window),n={top:i.scrollTop(),left:i.scrollLeft()},a=t.offset();return n.right=n.left+i.width(),n.bottom=n.top+i.height(),a.right=a.left+t.outerWidth(),a.bottom=a.top+t.outerHeight(),!(n.right<a.left||n.left>a.right||n.bottom<a.top||n.top>a.bottom)},O=function(e){var t=document.activeElement.tagName.toLowerCase(),i="input|textarea",n=new RegExp(t,["i"]),a=n.exec(i);if(null==a&&L(r)){if(39===e.keyCode)return y(e),!1;if(37===e.keyCode)return x(e),!1}},j=function(){a.touch={start:{x:0,y:0},end:{x:0,y:0}},a.viewport.bind("touchstart MSPointerDown pointerdown",Y),a.viewport.on("click",".bxslider a",function(e){a.viewport.hasClass("click-disabled")&&(e.preventDefault(),a.viewport.removeClass("click-disabled"))})},Y=function(e){if(a.controls.el.addClass("disabled"),a.working)e.preventDefault(),a.controls.el.removeClass("disabled");else{a.touch.originalPos=r.position();var t=e.originalEvent,i="undefined"!=typeof t.changedTouches?t.changedTouches:[t];a.touch.start.x=i[0].pageX,a.touch.start.y=i[0].pageY,a.viewport.get(0).setPointerCapture&&(a.pointerId=t.pointerId,a.viewport.get(0).setPointerCapture(a.pointerId)),a.viewport.bind("touchmove MSPointerMove pointermove",z),a.viewport.bind("touchend MSPointerUp pointerup",H),a.viewport.bind("MSPointerCancel pointercancel",R)}},R=function(e){B(a.touch.originalPos.left,"reset",0),a.controls.el.removeClass("disabled"),a.viewport.unbind("MSPointerCancel pointercancel",R),a.viewport.unbind("touchmove MSPointerMove pointermove",z),a.viewport.unbind("touchend MSPointerUp pointerup",H),a.viewport.get(0).releasePointerCapture&&a.viewport.get(0).releasePointerCapture(a.pointerId)},z=function(e){var t=e.originalEvent,i="undefined"!=typeof t.changedTouches?t.changedTouches:[t],n=Math.abs(i[0].pageX-a.touch.start.x),r=Math.abs(i[0].pageY-a.touch.start.y),s=0,o=0;3*n>r&&a.settings.preventDefaultSwipeX?e.preventDefault():3*r>n&&a.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!==a.settings.mode&&a.settings.oneToOneTouch&&("horizontal"===a.settings.mode?(o=i[0].pageX-a.touch.start.x,s=a.touch.originalPos.left+o):(o=i[0].pageY-a.touch.start.y,s=a.touch.originalPos.top+o),B(s,"reset",0))},H=function(e){a.viewport.unbind("touchmove MSPointerMove pointermove",z),a.controls.el.removeClass("disabled");var t=e.originalEvent,i="undefined"!=typeof t.changedTouches?t.changedTouches:[t],n=0,s=0;a.touch.end.x=i[0].pageX,a.touch.end.y=i[0].pageY,"fade"===a.settings.mode?(s=Math.abs(a.touch.start.x-a.touch.end.x),s>=a.settings.swipeThreshold&&(a.touch.start.x>a.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())):("horizontal"===a.settings.mode?(s=a.touch.end.x-a.touch.start.x,n=a.touch.originalPos.left):(s=a.touch.end.y-a.touch.start.y,n=a.touch.originalPos.top),!a.settings.infiniteLoop&&(0===a.active.index&&s>0||a.active.last&&s<0)?B(n,"reset",200):Math.abs(s)>=a.settings.swipeThreshold?(s<0?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):B(n,"reset",200)),a.viewport.unbind("touchend MSPointerUp pointerup",H),a.viewport.get(0).releasePointerCapture&&a.viewport.get(0).releasePointerCapture(a.pointerId)},U=function(t){if(a.initialized)if(a.working)window.setTimeout(U,10);else{var i=e(window).width(),n=e(window).height();s===i&&o===n||(s=i,o=n,r.redrawSlider(),a.settings.onSliderResize.call(r,a.active.index))}},W=function(e){var t=u();a.settings.ariaHidden&&!a.settings.ticker&&(a.children.attr("aria-hidden","true"),a.children.slice(e,e+t).attr("aria-hidden","false"))},K=function(e){return e<0?a.settings.infiniteLoop?D()-1:a.active.index:e>=D()?a.settings.infiniteLoop?0:a.active.index:e};return r.goToSlide=function(t,i){var n,s,o,F,A=!0,l=0,c={left:0,top:0},C=null;if(a.oldIndex=a.active.index,a.active.index=K(t),!a.working&&a.active.index!==a.oldIndex){if(a.working=!0,A=a.settings.onSlideBefore.call(r,a.children.eq(a.active.index),a.oldIndex,a.active.index),"undefined"!=typeof A&&!A)return a.active.index=a.oldIndex,void(a.working=!1);"next"===i?a.settings.onSlideNext.call(r,a.children.eq(a.active.index),a.oldIndex,a.active.index)||(A=!1):"prev"===i&&(a.settings.onSlidePrev.call(r,a.children.eq(a.active.index),a.oldIndex,a.active.index)||(A=!1)),a.active.last=a.active.index>=D()-1,(a.settings.pager||a.settings.pagerCustom)&&S(a.active.index),a.settings.controls&&T(),"fade"===a.settings.mode?(a.settings.adaptiveHeight&&a.viewport.height()!==d()&&a.viewport.animate({height:d()},a.settings.adaptiveHeightSpeed),a.children.filter(":visible").fadeOut(a.settings.speed).css({zIndex:0}),a.children.eq(a.active.index).css("zIndex",a.settings.slideZIndex+1).fadeIn(a.settings.speed,function(){e(this).css("zIndex",a.settings.slideZIndex),I()})):(a.settings.adaptiveHeight&&a.viewport.height()!==d()&&a.viewport.animate({height:d()},a.settings.adaptiveHeightSpeed),!a.settings.infiniteLoop&&a.carousel&&a.active.last?"horizontal"===a.settings.mode?(C=a.children.eq(a.children.length-1),c=C.position(),l=a.viewport.width()-C.outerWidth()):(n=a.children.length-a.settings.minSlides,c=a.children.eq(n).position()):a.carousel&&a.active.last&&"prev"===i?(s=1===a.settings.moveSlides?a.settings.maxSlides-h():(D()-1)*h()-(a.children.length-a.settings.maxSlides),C=r.children(".bx-clone").eq(s),c=C.position()):"next"===i&&0===a.active.index?(c=r.find("> .bx-clone").eq(a.settings.maxSlides).position(),a.active.last=!1):t>=0&&(F=t*parseInt(h()),c=a.children.eq(F).position()),"undefined"!=typeof c?(o="horizontal"===a.settings.mode?-(c.left-l):-c.top,B(o,"slide",a.settings.speed)):a.working=!1),a.settings.ariaHidden&&W(a.active.index*h())}},r.goToNextSlide=function(){if(a.settings.infiniteLoop||!a.active.last){var e=parseInt(a.active.index)+1;r.goToSlide(e,"next")}},r.goToPrevSlide=function(){if(a.settings.infiniteLoop||0!==a.active.index){var e=parseInt(a.active.index)-1;r.goToSlide(e,"prev")}},r.startAuto=function(e){a.interval||(a.interval=setInterval(function(){"next"===a.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},a.settings.pause),a.settings.autoControls&&e!==!0&&M("stop"))},r.stopAuto=function(e){a.interval&&(clearInterval(a.interval),a.interval=null,a.settings.autoControls&&e!==!0&&M("start"))},r.getCurrentSlide=function(){return a.active.index},r.getCurrentSlideElement=function(){return a.children.eq(a.active.index)},r.getSlideElement=function(e){return a.children.eq(e)},r.getSlideCount=function(){return a.children.length},r.isWorking=function(){return a.working},r.redrawSlider=function(){a.children.add(r.find(".bx-clone")).outerWidth(E()),a.viewport.css("height",d()),a.settings.ticker||p(),a.active.last&&(a.active.index=D()-1),a.active.index>=D()&&(a.active.last=!0),a.settings.pager&&!a.settings.pagerCustom&&(g(),S(a.active.index)),a.settings.ariaHidden&&W(a.active.index*h())},r.destroySlider=function(){a.initialized&&(a.initialized=!1,e(".bx-clone",this).remove(),a.children.each(function(){void 0!==e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")}),void 0!==e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),a.controls.el&&a.controls.el.remove(),a.controls.next&&a.controls.next.remove(),a.controls.prev&&a.controls.prev.remove(),a.pagerEl&&a.settings.controls&&!a.settings.pagerCustom&&a.pagerEl.remove(),e(".bx-caption",this).remove(),a.controls.autoEl&&a.controls.autoEl.remove(),clearInterval(a.interval),a.settings.responsive&&e(window).unbind("resize",U),a.settings.keyboardEnabled&&e(document).unbind("keydown",O),e(this).removeData("bxSlider"))},r.reloadSlider=function(t){void 0!==t&&(n=t),r.destroySlider(),F(),e(r).data("bxSlider",this)},F(),e(r).data("bxSlider",this),this}}}(jQuery),function(e){"use strict";var t=function(e,t){this.init(e,t)},i={classNames:{wrapper:"custom-select",label:"custom-select-label",hasValue:"custom-select-has-value",list:"custom-select-list",selected:"custom-select-selected",scrollable:"custom-select-scrollable",disabled:"custom-select-disabled",prefix:"custom-select-",optgroup:"custom-select-optgroup"},defaultInList:0,sizeToOptions:1,maxHeight:300,isDefault:function(e,t){return!e.val()}};t.prototype={toggled:!1,init:function(t,n){function a(){var e=E.$el[0].className.split(" ");e=e.length>1?E.o.classNames.prefix+e.join(" "+E.o.classNames.prefix):" "+E.o.classNames.prefix+e[0],E.$el.wrap('<div class="'+E.o.classNames.wrapper+" "+e+'"></div>'),E.$wrapper=E.$el.parents("."+E.o.classNames.wrapper),E.$wrapper.append('<div class="'+E.o.classNames.label+'"><span></span></div>'),E.$label=E.$wrapper.find("."+E.o.classNames.label),E.$labelText=E.$label.find("span"),E.$wrapper.append('<ul class="'+E.o.classNames.list+'"></ul>'),E.$list=E.$wrapper.find("."+E.o.classNames.list),E.$el.prop("disabled")&&(E.disabled=!0,E.$wrapper.addClass(E.o.classNames.disabled))}function r(){var t;return E.$el.find("option").each(function(){e(this).prop("selected")&&(t=e(this).text())}),t}function s(){var t,i,n=document.createDocumentFragment(),a=(r(),"");E.$el.find("option").each(function(r){i=e(this),!E.o.defaultInList&&E.o.isDefault(i,E.$el)||(t=e("<li/>"),t.attr("data-select-index",r),i.prop("disabled")&&t.attr("disabled",!0),t.text(i.text()),""!=this.className&&t.addClass(this.className),n.appendChild(t[0])),i.text().length>a.length&&(a=i.text())}),E.defaultOption=C(),E.$el.find("option, optgroup").each(function(a){i=e(this),i.is("optgroup")&&(t=e('<li class="'+E.o.classNames.optgroup+'"/>'),t.text(i.attr("label")),n.insertBefore(t[0],n.childNodes[E.defaultOption&&!E.o.defaultInList?a-1:a]))}),E.$list.html(n),E.$list.find("li:not(."+E.o.classNames.optgroup+")").off("click",d).on("click",d),E.$list.find("."+E.o.classNames.optgroup).off("click",F).on("click",F),E.o.sizeToOptions&&(E.$labelText.text(a),a=E.$label.outerWidth(!0)+15,E.$wrapper.css("width")||E.$wrapper.width(a)),E.$list.outerHeight(!0)>E.o.maxHeight&&E.$list.height(E.o.maxHeight).addClass(E.o.classNames.scrollable),E.setValue(E.$el.val(),!0)}function o(e,t){return t&&"formValidator"===t?e.preventDefault():void(E.disabled||(e.stopPropagation(),E.toggle()))}function F(e){return e.preventDefault(),!1}function A(){E.$target&&E.$target.length?E.$target.trigger("click"):E.toggled&&E.close()}function l(e){e.preventDefault();var t,i=E.$list.find("."+E.o.classNames.selected);38===e.keyCode?t=i.prev():40===e.keyCode&&(t=i.length?i.next():E.$list.children("li:first")),t&&t.length&&(i.removeClass(E.o.classNames.selected),t.addClass(E.o.classNames.selected),E.$target=t)}function c(e){13===e.keyCode&&(e.preventDefault(),A())}function d(t){t.stopPropagation(),"undefined"!=typeof e(t.currentTarget).data("selectIndex")&&E.selectIndex(e(t.currentTarget).data("selectIndex"))}function C(){var t=!1;return E.$el.find("option").each(function(){E.o.isDefault(e(this),E.$el)&&(t={text:e(this).text(),value:e(this).val()})}),t}if(t.data("customSelect"))return t.data("customSelect");this.o=e.extend({},i,n),this.$el=t;var E=this;a(),s(),e(document).on("click",A),this.$label.on("click",o),this.$el.on("focus",o),this.$el.on("keyup",l),this.$el.on("keydown",c),this.refresh=function(){E.disabled=E.$el.prop("disabled"),E.$wrapper.toggleClass(E.o.classNames.disabled,E.disabled),s()},this.destroy=function(){E.$list.find("li:not(."+E.o.classNames.optgroup+")").off("click",d),E.$list.find("."+E.o.classNames.optgroup).off("click",F),e(document).off("click",A),E.$label.off("click",o),E.$el.detach(),E.$wrapper.after(E.$el),E.$wrapper.remove(),this.$el.removeData("customSelect")},this.$el.data("customSelect",this)},toggle:function(){this.toggled?this.close():this.open()},open:function(){this.toggled=!0,this.$wrapper.addClass("custom-select-toggled")},close:function(){this.$target=null,this.toggled=!1,this.$wrapper.removeClass("custom-select-toggled")},selectIndex:function(e,t,i){var n=this.defaultOption&&!this.o.defaultInList,a=this.$list.find("li:not(."+this.o.classNames.optgroup+")").removeClass(this.o.classNames.selected),r=n?e-1:e;r>-1&&(a=a.eq(r).addClass(this.o.classNames.selected)),this.$el[0].selectedIndex=e,this.$labelText.text(n&&(0===e||e<0)?this.defaultOption.text:a.text()),t||this.previousValue===this.$el.val()||this.$el.trigger("change"),this.$label.toggleClass(this.o.classNames.hasValue,this.$el.val()!==this.defaultOption.value),this.previousValue=this.$el.val(),this.close()},getValue:function(){return this.$el.val()},setValue:function(t,i){if("undefined"!=typeof t){var n;this.$el.find("option").each(function(i){e(this).val()===t&&(n=i)}),this.selectIndex(n,i)}}},e.fn.customSelect=function(i){if(0===this.length)return this;var n=e(this);return n.data("customSelect")?n.data("customSelect"):n.length>1?n.each(function(){e(this).customSelect(i)}):new t(e(this),i)},e.customSelect=function(t,i){return e(t).customSelect(i)}}(jQuery),/*! jQuery UI - v1.12.1 - 2017-02-07
* http://jqueryui.com
* Includes: keycode.js, widgets/datepicker.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",i,function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,a)}function a(){e.datepicker._isDisabledDatepicker(s.inline?s.dpDiv.parent()[0]:s.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}e.ui=e.ui||{},e.ui.version="1.12.1",e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.extend(e.ui,{datepicker:{version:"1.12.1"}});var s;e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,a,r;n=t.nodeName.toLowerCase(),a="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),r=this._newInst(e(t),a),r.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,r):a&&this._inlineDatepicker(t,r)},_newInst:function(t,i){var a=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:a,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,a,r,s=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[o?"before":"after"](i.append)),t.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&t.on("focus",this._showDatepicker),("button"===n||"both"===n)&&(a=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:r,alt:a,title:a}):e("<button type='button'></button>").addClass(this._triggerClass).html(r?e("<img/>").attr({src:r,alt:a,title:a}):a)),t[o?"before":"after"](i.trigger),i.trigger.on("click",function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,a,r=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(i=0,n=0,a=0;e.length>a;a++)e[a].length>i&&(i=e[a].length,n=a);return n},r.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),e.input.attr("size",this._formatDate(e,r).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,a,s){var o,F,A,l,c,d=this._dialogInst;return d||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},e.data(this._dialogInput[0],"datepicker",d)),r(d.settings,a||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(F=document.documentElement.clientWidth,A=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[F/2-100+l,A/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(t){var i,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(a.append.remove(),a.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty(),s===a&&(s=null))},_enableDatepicker:function(t){var i,n,a=e(t),r=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=a.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,a=e(t),r=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=a.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,n){var a,s,o,F,A=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):A?"all"===i?e.extend({},A.settings):this._get(A,i):null:(a=i||{},"string"==typeof i&&(a={},a[i]=n),void(A&&(this._curInst===A&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(A,"min"),F=this._getMinMaxDate(A,"max"),r(A.settings,a),null!==o&&void 0!==a.dateFormat&&void 0===a.minDate&&(A.settings.minDate=this._formatDate(A,o)),null!==F&&void 0!==a.dateFormat&&void 0===a.maxDate&&(A.settings.maxDate=this._formatDate(A,F)),"disabled"in a&&(a.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),A),this._autoSize(A),this._setDate(A,s),this._updateAlternate(A),this._updateDatepicker(A))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,a,r=e.datepicker._getInst(t.target),s=!0,o=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return a=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",r.dpDiv),a[0]&&e.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,a[0]),i=e.datepicker._get(r,"onSelect"),i?(n=e.datepicker._formatDate(r),i.apply(r.input?r.input[0]:null,[n,r])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,a=e.datepicker._getInst(t.target);return e.datepicker._get(a,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(a,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(i){if(i=i.target||i,"input"!==i.nodeName.toLowerCase()&&(i=e("input",i.parentNode)[0]),!e.datepicker._isDisabledDatepicker(i)&&e.datepicker._lastInput!==i){var n,a,s,o,F,A,l;n=e.datepicker._getInst(i),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(n,"beforeShow"),s=a?a.apply(i,[i,n]):{},s!==!1&&(r(n.settings,s),n.lastVal=null,e.datepicker._lastInput=i,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(i.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(i),e.datepicker._pos[1]+=i.offsetHeight),o=!1,e(i).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),F={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),F=e.datepicker._checkOffset(n,F,o),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:F.left+"px",top:F.top+"px"}),n.inline||(A=e.datepicker._get(n,"showAnim"),l=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",t(e(i))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[A]?n.dpDiv.show(A,e.datepicker._get(n,"showOptions"),l):n.dpDiv[A||"show"](A?l:null),e.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,s=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,n=this._getNumberOfMonths(t),r=n[1],o=17,F=t.dpDiv.find("."+this._dayOverClass+" a");F.length>0&&a.apply(F.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var a=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,F=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),A=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?a-s:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+a>F&&F>a?Math.abs(i.left+a-F):0),i.top-=Math.min(i.top,i.top+r>A&&A>r?Math.abs(r+o):0),i},_findPos:function(t){for(var i,n=this._getInst(t),a=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[a?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,a,r,s=this._curInst;!s||t&&s!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(s,"showAnim"),n=this._get(s,"duration"),a=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[i]||e.effects[i])?s.dpDiv.hide(i,e.datepicker._get(s,"showOptions"),n,a):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,a),i||a(),this._datepickerShowing=!1,r=this._get(s,"onClose"),r&&r.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var a=e(t),r=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(r,i+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(t){var i,n=e(t),a=this._getInst(n[0]);this._get(a,"gotoCurrent")&&a.currentDay?(a.selectedDay=a.currentDay,a.drawMonth=a.selectedMonth=a.currentMonth,a.drawYear=a.selectedYear=a.currentYear):(i=new Date,a.selectedDay=i.getDate(),a.drawMonth=a.selectedMonth=i.getMonth(),a.drawYear=a.selectedYear=i.getFullYear()),this._notifyChange(a),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var a=e(t),r=this._getInst(a[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(a)},_selectDay:function(t,i,n,a){var r,s=e(t);e(a).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(r=this._getInst(s[0]),r.selectedDay=r.currentDay=e("a",a).html(),r.selectedMonth=r.currentMonth=i,r.selectedYear=r.currentYear=n,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,a=e(t),r=this._getInst(a[0]);i=null!=i?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),n=this._get(r,"onSelect"),n?n.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var i,n,a,r=this._get(t,"altField");r&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),a=this.formatDate(i,n,this._getFormatConfig(t)),e(r).val(a))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var a,r,s,o,F=0,A=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof A?A:(new Date).getFullYear()%100+parseInt(A,10),c=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,C=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,E=(n?n.monthNames:null)||this._defaults.monthNames,u=-1,D=-1,h=-1,p=-1,B=!1,g=function(e){var i=t.length>a+1&&t.charAt(a+1)===e;return i&&a++,i},f=function(e){var t=g(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,a="y"===e?n:1,r=RegExp("^\\d{"+a+","+n+"}"),s=i.substring(F).match(r);if(!s)throw"Missing number at position "+F;return F+=s[0].length,parseInt(s[0],10)},m=function(t,n,a){var r=-1,s=e.map(g(t)?a:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(s,function(e,t){var n=t[1];return i.substr(F,n.length).toLowerCase()===n.toLowerCase()?(r=t[0],F+=n.length,!1):void 0}),-1!==r)return r+1;throw"Unknown name at position "+F},v=function(){if(i.charAt(F)!==t.charAt(a))throw"Unexpected literal at position "+F;F++};for(a=0;t.length>a;a++)if(B)"'"!==t.charAt(a)||g("'")?v():B=!1;else switch(t.charAt(a)){case"d":h=f("d");break;case"D":m("D",c,d);break;case"o":p=f("o");break;case"m":D=f("m");break;case"M":D=m("M",C,E);break;case"y":u=f("y");break;case"@":o=new Date(f("@")),u=o.getFullYear(),D=o.getMonth()+1,h=o.getDate();break;case"!":o=new Date((f("!")-this._ticksTo1970)/1e4),u=o.getFullYear(),D=o.getMonth()+1,h=o.getDate();break;case"'":g("'")?v():B=!0;break;default:v()}if(i.length>F&&(s=i.substr(F),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===u?u=(new Date).getFullYear():100>u&&(u+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=u?0:-100)),p>-1)for(D=1,h=p;r=this._getDaysInMonth(u,D-1),!(r>=h);)D++,h-=r;if(o=this._daylightSavingAdjust(new Date(u,D-1,h)),o.getFullYear()!==u||o.getMonth()+1!==D||o.getDate()!==h)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var n,a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,F=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},A=function(e,t,i){var n=""+t;if(F(e))for(;i>n.length;)n="0"+n;return n},l=function(e,t,i,n){return F(e)?n[t]:i[t]},c="",d=!1;if(t)for(n=0;e.length>n;n++)if(d)"'"!==e.charAt(n)||F("'")?c+=e.charAt(n):d=!1;else switch(e.charAt(n)){case"d":c+=A("d",t.getDate(),2);break;case"D":c+=l("D",t.getDay(),a,r);break;case"o":c+=A("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=A("m",t.getMonth()+1,2);break;case"M":c+=l("M",t.getMonth(),s,o);break;case"y":c+=F("y")?t.getFullYear():(10>t.getFullYear()%100?"0":"")+t.getFullYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":F("'")?c+="'":d=!0;break;default:c+=e.charAt(n)}return c},_possibleChars:function(e){var t,i="",n=!1,a=function(i){var n=e.length>t+1&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;e.length>t;t++)if(n)"'"!==e.charAt(t)||a("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":a("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,a=this._getDefaultDate(e),r=a,s=this._getFormatConfig(e);try{r=this.parseDate(i,n,s)||a}catch(e){n=t?"":n}e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),e.currentDay=n?r.getDate():0,e.currentMonth=n?r.getMonth():0,e.currentYear=n?r.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var a=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},r=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(e){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),r=n.getMonth(),s=n.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,F=o.exec(i);F;){switch(F[2]||"d"){case"d":case"D":s+=parseInt(F[1],10);break;case"w":case"W":s+=7*parseInt(F[1],10);break;case"m":case"M":r+=parseInt(F[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(a,r));break;case"y":case"Y":a+=parseInt(F[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(a,r))}F=o.exec(i)}return new Date(a,r,s)},s=null==i||""===i?n:"string"==typeof i?r(i):"number"==typeof i?isNaN(i)?n:a(i):new Date(i.getTime());return s=s&&"Invalid Date"==""+s?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,a=e.selectedMonth,r=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),a===e.selectedMonth&&r===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,a,r,s,o,F,A,l,c,d,C,E,u,D,h,p,B,g,f,m,v,_,y,x,b,k,w,S,I,M,T,P,N,$,L,O,j,Y=new Date,R=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth(),Y.getDate())),z=this._get(e,"isRTL"),H=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),W=this._get(e,"navigationAsDateFormat"),K=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),q=this._get(e,"stepMonths"),X=1!==K[0]||1!==K[1],J=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),Q=e.drawMonth-V,ee=e.drawYear;if(0>Q&&(Q+=12,ee--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-K[0]*K[1]+1,Z.getDate())),t=G&&G>t?G:t;this._daylightSavingAdjust(new Date(ee,Q,1))>t;)Q--,0>Q&&(Q=11,ee--);for(e.drawMonth=Q,e.drawYear=ee,i=this._get(e,"prevText"),i=W?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Q-q,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>",a=this._get(e,"nextText"),a=W?this.formatDate(a,this._daylightSavingAdjust(new Date(ee,Q+q,1)),this._getFormatConfig(e)):a,r=this._canAdjustMonth(e,1,ee,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+a+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+a+"</span></a>",s=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?J:R,s=W?this.formatDate(s,o,this._getFormatConfig(e)):s,F=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",A=H?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?F:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(z?"":F)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,c=this._get(e,"showWeek"),d=this._get(e,"dayNames"),C=this._get(e,"dayNamesMin"),E=this._get(e,"monthNames"),u=this._get(e,"monthNamesShort"),D=this._get(e,"beforeShowDay"),h=this._get(e,"showOtherMonths"),p=this._get(e,"selectOtherMonths"),B=this._getDefaultDate(e),g="",m=0;K[0]>m;m++){for(v="",this.maxRows=4,_=0;K[1]>_;_++){if(y=this._daylightSavingAdjust(new Date(ee,Q,e.selectedDay)),x=" ui-corner-all",b="",X){if(b+="<div class='ui-datepicker-group",K[1]>1)switch(_){case 0:b+=" ui-datepicker-group-first",x=" ui-corner-"+(z?"right":"left");break;case K[1]-1:b+=" ui-datepicker-group-last",x=" ui-corner-"+(z?"left":"right");break;default:b+=" ui-datepicker-group-middle",x=""}b+="'>"}for(b+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===m?z?r:n:"")+(/all|right/.test(x)&&0===m?z?n:r:"")+this._generateMonthYearHeader(e,Q,ee,G,Z,m>0||_>0,E,u)+"</div><table class='ui-datepicker-calendar'><thead><tr>",k=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",f=0;7>f;f++)w=(f+l)%7,k+="<th scope='col'"+((f+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[w]+"'>"+C[w]+"</span></th>";for(b+=k+"</tr></thead><tbody>",S=this._getDaysInMonth(ee,Q),ee===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,S)),I=(this._getFirstDayOfMonth(ee,Q)-l+7)%7,M=Math.ceil((I+S)/7),T=X&&this.maxRows>M?this.maxRows:M,this.maxRows=T,P=this._daylightSavingAdjust(new Date(ee,Q,1-I)),N=0;T>N;N++){for(b+="<tr>",$=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"",f=0;7>f;f++)L=D?D.apply(e.input?e.input[0]:null,[P]):[!0,""],O=P.getMonth()!==Q,j=O&&!p||!L[0]||G&&G>P||Z&&P>Z,$+="<td class='"+((f+l+6)%7>=5?" ui-datepicker-week-end":"")+(O?" ui-datepicker-other-month":"")+(P.getTime()===y.getTime()&&Q===e.selectedMonth&&e._keyEvent||B.getTime()===P.getTime()&&B.getTime()===y.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(O&&!h?"":" "+L[1]+(P.getTime()===J.getTime()?" "+this._currentClass:"")+(P.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(O&&!h||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(O&&!h?"&#xa0;":j?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===R.getTime()?" ui-state-highlight":"")+(P.getTime()===J.getTime()?" ui-state-active":"")+(O?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);b+=$+"</tr>"}Q++,Q>11&&(Q=0,ee++),b+="</tbody></table>"+(X?"</div>"+(K[0]>0&&_===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),v+=b}g+=v}return g+=A,e._keyEvent=!1,g},_generateMonthYearHeader:function(e,t,i,n,a,r,s,o){var F,A,l,c,d,C,E,u,D=this._get(e,"changeMonth"),h=this._get(e,"changeYear"),p=this._get(e,"showMonthAfterYear"),B="<div class='ui-datepicker-title'>",g="";
if(r||!D)g+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(F=n&&n.getFullYear()===i,A=a&&a.getFullYear()===i,g+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;12>l;l++)(!F||l>=n.getMonth())&&(!A||a.getMonth()>=l)&&(g+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+o[l]+"</option>");g+="</select>"}if(p||(B+=g+(!r&&D&&h?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!h)B+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),C=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t},E=C(c[0]),u=Math.max(E,C(c[1]||"")),E=n?Math.max(E,n.getFullYear()):E,u=a?Math.min(u,a.getFullYear()):u,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";u>=E;E++)e.yearshtml+="<option value='"+E+"'"+(E===i?" selected='selected'":"")+">"+E+"</option>";e.yearshtml+="</select>",B+=e.yearshtml,e.yearshtml=null}return B+=this._get(e,"yearSuffix"),p&&(B+=(!r&&D&&h?"":"&#xa0;")+g),B+="</div>"},_adjustInstDate:function(e,t,i){var n=e.selectedYear+("Y"===i?t:0),a=e.selectedMonth+("M"===i?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(n,a))+("D"===i?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,a,r)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),a=i&&i>t?i:t;return n&&a>n?n:a},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var a=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(i,n+(0>t?t:a[0]*a[1]),1));return 0>t&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var i,n,a=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),s=null,o=null,F=this._get(e,"yearRange");return F&&(i=F.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(o+=n)),(!a||t.getTime()>=a.getTime())&&(!r||t.getTime()<=r.getTime())&&(!s||t.getFullYear()>=s)&&(!o||o>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var a=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),a,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.1",e.datepicker}),function(e){var t=function(e,t){return this.init(e,t),this};t.prototype={init:function(e,t){this.$el=e;var i=navigator.userAgent;this.isAndroid=i.indexOf("Mozilla/5.0")>-1&&i.indexOf("Android ")>-1&&i.indexOf("AppleWebKit")>-1&&!(i.indexOf("Chrome")>-1),this.isPosbug=!1,this.setMask(t),this.fn={onInput:this.onInput.bind(this)},this.$el.on("input",this.fn.onInput)},onInput:function(){var e=this.$el[0],t=e.selectionStart,i=1;this.isAndroid&&(i=10,1==e.value.length&&0==t&&(this.isPosbug=!0)),this.isPosbug&&++t,e.value=this.insertSeparators(this.cleanValue(e.value));var n=this;setTimeout(function(){""!=n.mask[t-1]&&++t,t>e.value.length&&(t=e.value.length),e.selectionEnd=t,e.selectionStart=t},i)},cleanValue:function(e){var t=this,i="";return e.split("").forEach(function(e){t.separators.indexOf(e)<0&&(i+=e)}),i},insertSeparators:function(e){var t="";e=e.split("");for(var i=0,n=e.length;i<n;++i)t.length+1<=this.mask.length&&(t.length&&"_"!==this.mask[t.length]&&(t+=this.mask[t.length]),t+=e[i]);return t},setMask:function(e){return this.separators=e.replace(/_/g,"").split(""),this.mask=e.split(""),this.$el.val(this.insertSeparators(this.cleanValue(this.$el.val()))),this}},e.fn.fieldMask=function(i){return 0===this.length?this:e(this).data("fieldMask")?(i&&this.setMask(i),this):new t(e(this),i)},e.fieldMask=function(t,i){e(t).fieldMask(i)}}(jQuery),/* jQuery-FontSpy.js v3.0.0
 * https://github.com/patrickmarabeas/jQuery-FontSpy.js
 *
 * Copyright 2013, Patrick Marabeas http://pulse-dev.com
 * Released under the MIT license
 * http://opensource.org/licenses/mit-license.php
 *
 * Date: 02/11/2015
 */
function(e,t){fontSpy=function(e,i){var n=t("html"),a=t("body"),r=e;if("string"!=typeof r||""===r)throw"A valid fontName is required. fontName must be a string and must not be an empty string.";var s={font:r,fontClass:r.toLowerCase().replace(/\s/g,""),success:function(){},failure:function(){},testFont:"Courier New",testString:"QW@HhsXJ",glyphs:"",delay:50,timeOut:1e3,callback:t.noop},o=t.extend(s,i),F=t("<span>"+o.testString+o.glyphs+"</span>").css("position","absolute").css("top","-9999px").css("left","-9999px").css("visibility","hidden").css("fontFamily",o.testFont).css("fontSize","250px");a.append(F);var A=F.outerWidth();F.css("fontFamily",o.font+","+o.testFont);var l=function(){n.addClass("no-"+o.fontClass),o&&o.failure&&o.failure(),o.callback(new Error("FontSpy timeout")),F.remove()},c=function(){o.callback(),n.addClass(o.fontClass),o&&o.success&&o.success(),F.remove()},d=function(){setTimeout(C,o.delay),o.timeOut=o.timeOut-o.delay},C=function(){var e=F.outerWidth();A!==e?c():o.timeOut<0?l():d()};C()}}(this,jQuery),function(e){e.formValidatorMethods={regex:{alphanumeric:XRegExp("^[-'\\p{L}\\p{N}\\p{Z}]*$"),numeric:/^\d+$/,alpha:XRegExp("^[-'\\p{L}\\p{Z}]*$"),email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},getFieldError:function(e){return this.validateField(e)},getGroupError:function(e,t){return this.validGroup(e,t.attr("data-validation-group"),t.attr("data-validation-min"))?0:3},validateField:function(e){var t,i=e.val();if(e.data("required")||!e.is(":checkbox")&&!e.is(":radio")&&i){if(t=this.notEmpty(e),!t)return 1;if(t=this.validRegex(i,e.attr("data-regex")),!t)return 2;if(t=this.longerThanMin(i,e.attr("data-min-length")),!t)return 2;if(t=this.shorterThanMax(i,e.attr("maxlength")),!t)return 2}return 0},notEmpty:function(e){return e.is(":checkbox")||e.is(":radio")?e.prop("checked"):!!e.val()},validRegex:function(e,t){return t&&this.regex[t]?this.regex[t].test(e):"string"!=typeof t||XRegExp(t).test(e)},longerThanMin:function(e,t){return!t||e.length>=t},shorterThanMax:function(e,t){return!t||e.length<=t},validGroup:function(t,i,n){n=n||1;var a,r,s=0;if($group=t.find("*[data-validation-group="+i+"]"),$group.first().attr("data-identical"))var o=$group.first().val();for(var F=0,A=$group.length;F<A;++F)a=e($group[F]),r=a.is(":checkbox")||a.is(":radio")?a.prop("checked"):a.val(),!r||this.getFieldError(a)||o&&a.val()!==o||s++;return s>=n}};var t=function(e,t){this.init(e,t)};t.prototype={init:function(t,i){this.$form=t;var n={fieldWrapperSelector:".form-field",fieldErrorSelector:".form-field-error",submitSelector:'input[type="submit"]:last',disableSubmit:!0,$errorContainer:null,onSubmit:null};e.extend(this,e.formValidatorMethods),this.o=e.extend(n,i),this.$form=t,this.$submit=this.$form.find(this.o.submitSelector),i&&i.regex&&(e.formValidator.regex=i.regex),this.o.globalSelectors=this.o.fieldWrapperSelector+":visible input, "+this.o.fieldWrapperSelector+":visible select, "+this.o.fieldWrapperSelector+":visible textarea, .js-force-check",this.o.disableSubmit&&this.$submit.prop("disabled",!this.validateAll(!0)),this.addListeners(),t.data("formValidator",this)},validate:function(t,i){var n,a,r=this,s=[];return i||this.resetFieldsStatus(t),t.each(function(){n=e(this),a=e.formValidatorMethods.getFieldError(n),!a&&n.attr("data-validation-group")&&(a=e.formValidatorMethods.getGroupError(r.$form,n)),a&&(s.push({code:a,$el:n}),3===a&&r.$form.find('*[data-validation-group="'+n.attr("data-validation-group")+'"]').each(function(){s.push({code:a,$el:e(this)})}))}),i||(s.length&&this.handleErrors(s),this.handleSuccess(t)),!s.length},validatePrevious:function(t,n,a){var r=[];this.$form.find(this.o.fieldWrapperSelector).each(function(){e(this).find("input:visible, select:visible, textarea:visible , .js-force-check").each(function(){r.push(e(this))})}),_multipleGroup=t.attr("data-multiple-group");var s,o=e();for(i=0,j=r.length;i<j&&(s=e(r[i]),!s.is(t));++i)_multipleGroup&&s.attr("data-multiple-group")&&s.attr("data-multiple-group")===_multipleGroup||o.push(s);a&&!_multipleGroup&&o.push(t);var F=this.validate(o,n);return this.o.disableSubmit&&this.$submit.prop("disabled",!F||!this.validateAll(!0)),F},validateAll:function(e){var t=this.validate(this.$form.find(this.o.globalSelectors),e);return this.o.disableSubmit&&this.$submit.prop("disabled",!t),t},handleErrors:function(t){var i,n,a,r=this;this.$form.find(this.o.globalSelectors).each(function(){if(a=e(this),n=a.parents(r.o.fieldWrapperSelector+":first"),i=r.findFieldErrorInArray(a,t)){switch(a.attr("data-error-code",i.code),i.code){case 1:_errorMessage=a.attr("data-empty");break;case 2:_errorMessage=a.attr("data-error");break;case 3:_errorMessage=a.attr("data-group-error")||a.attr("data-empty")}if(n.toggleClass("has-error",!0),_errorMessage&&(r.getErrorContainer(a).html(_errorMessage),3===i.code&&a.attr("data-validation-group"))){var s;r.$form.find('*[data-validation-group="'+a.attr("data-validation-group")+'"]').each(function(){s=e(this).parents(r.o.fieldWrapperSelector),s.toggleClass("has-error",!0),e(this).attr("data-error-code",3),s.attr("data-group-error")&&r.getErrorContainer(s).html(s.attr("data-group-error"))})}}else"3"===!a.attr("data-error-code")&&a.removeAttr("data-error-code")})},handleSuccess:function(t){var i,n,a=this;t.each(function(){i=e(this),n=i.parents(a.o.fieldWrapperSelector+":first"),!n.hasClass("has-error")&&i.val()&&n.toggleClass("has-success",!0)})},resetFieldsStatus:function(t){var i,n,a=this;t.each(function(){i=e(this),i.parents(a.o.fieldWrapperSelector+":first").removeClass("has-success").removeClass("has-error"),a.getErrorContainer(i).empty(),i.attr("data-validation-group")&&a.$form.find('*[data-validation-group="'+i.attr("data-validation-group")+'"]').not(i).each(function(){n=e(this),n.attr("data-error-code")&&"3"===n.attr("data-error-code")&&(n.parents(a.o.fieldWrapperSelector+":first").removeClass("has-error"),a.getErrorContainer(n).empty())})})},findFieldErrorInArray:function(t,i){for(var n=0,a=i.length;n<a;++n)if(e(i[n].$el).is(t))return i[n];return null},addListeners:function(){var e=this,t=0,i=0,n=function(t,n){i||(i=1,t.apply(e,n),setTimeout(function(){i=0},9))},a=function(i,n){t||(t=1,i.apply(e,n),setTimeout(function(){t=0},9))};this._onFocus=function(t){e.onFocus(t)},this._onBlur=function(t){n(e.onBlur,[t])},this._onInput=function(t){a(e.onInput,[t])},this._onSubmit=function(t){e.onSubmit(t)},this._onTab=function(t){e.onTab(t)},this.$form.on("submit",this._onSubmit).find(this.o.globalSelectors).on("click focusin",this._onFocus).on("blur change focusout",this._onBlur).on("input keydown keyup change",this._onInput).on("keyup",this._onTab)},removeListeners:function(){this.$form.off("submit",this._onSubmit).find(this.o.globalSelectors).off("click focusin",this._onFocus).off("blur change focusout",this._onBlur).off("input keydown keyup change",this._onInput).off("keyup",this._onTab)},refreshListeners:function(){this.removeListeners(),this.addListeners(),this.validateAll(!0)},destroy:function(){this.removeListeners()},onFocus:function(t){var i=e(t.currentTarget);this.validatePrevious(i),i.parents(this.o.fieldWrapperSelector+":first").hasClass("has-error")&&this.validate(i)},onBlur:function(t){this.validatePrevious(e(t.currentTarget),!1,!0)},onInput:function(t){var i=e(t.currentTarget);i.attr("data-format")&&this.format(i,i.attr("data-format")),i.parents(this.o.fieldWrapperSelector).hasClass("has-error")&&this.validate(i),this.o.disableSubmit&&this.$submit.prop("disabled",!this.validateAll(!0))},onSubmit:function(e){this.validateAll()?this.o.onSubmit&&"function"==typeof this.o.onSubmit&&(e.preventDefault(),this.o.onSubmit(e)):e.preventDefault()},onTab:function(t){(t.keyCode?t.keyCode:9===t.which)&&e(t.currentTarget).length&&(t.preventDefault(),setTimeout(function(){e(t.currentTarget).trigger("focus","formValidator")},10))},format:function(e,t){switch(t){case"numeric":e.val().match(/[^0-9.]/g)&&e.val(e.val().replace(/[^0-9.]/g,""));break;default:try{t=XRegExp(t),e.val().match(t)&&e.val(e.val().replace(t,""))}catch(e){console.log(e)}}},getErrorContainer:function(e){return e.attr("data-error-container")?this.$form.find(e.attr("data-error-container")):e.parents(this.o.fieldWrapperSelector+":first").find(this.o.fieldErrorSelector)},reset:function(){this.$form[0].reset(),this.resetFieldsStatus(this.$form.find(this.o.globalSelectors))}},e.fn.formValidator=function(i){return 0===this.length?this:this.data("formValidator")?e(this).data("formValidator"):this.each(function(){return new t(e(this),i)})},e.formValidator=function(t,i){return e(t).formValidator(i)}}(jQuery),/*!
 * hoverIntent v1.8.0 // 2014.06.29 // jQuery v1.9.1+
 * http://cherne.net/brian/resources/jquery.hoverIntent.html
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2014 Brian Cherne
 */
function(e){e.fn.hoverIntent=function(t,i,n){var a={interval:100,sensitivity:6,timeout:0};a="object"==typeof t?e.extend(a,t):e.isFunction(i)?e.extend(a,{over:t,out:i,selector:n}):e.extend(a,{over:t,out:t,selector:i});var r,s,o,F,A=function(e){r=e.pageX,s=e.pageY},l=function(t,i){return i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.sqrt((o-r)*(o-r)+(F-s)*(F-s))<a.sensitivity?(e(i).off("mousemove.hoverIntent",A),i.hoverIntent_s=!0,a.over.apply(i,[t])):(o=r,F=s,i.hoverIntent_t=setTimeout(function(){l(t,i)},a.interval),void 0)},c=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=!1,a.out.apply(t,[e])},d=function(t){var i=e.extend({},t),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseenter"===t.type?(o=i.pageX,F=i.pageY,e(n).on("mousemove.hoverIntent",A),n.hoverIntent_s||(n.hoverIntent_t=setTimeout(function(){l(i,n)},a.interval))):(e(n).off("mousemove.hoverIntent",A),n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){c(i,n)},a.timeout)))};return this.on({"mouseenter.hoverIntent":d,"mouseleave.hoverIntent":d},a.selector)}}(jQuery),function(e){e.fn.onImagesLoaded=function(t){function i(){this.onload=null,s++,s===r&&t()}if(0===this.length)return this;"function"!=typeof t&&e.error("onImagesLoaded needs a callback");var n,a=e(this),r=a.length,s=0;return a.each(function(){n=e(this)[0],n.complete?i.call(n):n.onload=i}),this}}(jQuery),function(e){var t=function(e,t){this.init(e,t)};t.prototype={init:function(t,i){var n={selectors:{wrapper:".jq-scroller-wrapper",scrollbar:".jq-scroller-scrollbar",thumb:".jq-scroller-thumb",disabled:".jq-scroller-disabled"},axis:"y",size:void 0,scrollbar:1,wheel:1,wheelSpeed:40,swipe:1,preventDefaultScroll:!1};this.$el=t,this.initialStyle=this.$el.attr("style")||"",this.o=e.extend(n,i),this.setAxisVariables(),this.wrap(),this.o.scrollbar&&this.buildScrollbar(),this.setSizes(),this.setPosition(0),this._onScrollbarPointerDown=this.onScrollbarPointerDown.bind(this),this._onPointerDown=this.onPointerDown.bind(this),this._onPointerMove=this.onPointerMove.bind(this),this._onPointerUp=this.onPointerUp.bind(this),this._onMousewheel=this.onMousewheel.bind(this),this.addListeners(),this.$el.data("scroller",this)},setAxisVariables:function(){"x"===this.o.axis?(this.direction="left",this.sizeValue="width",this.oppositeSizeValue="height",this.outerFunction="outerWidth",this.oppositeOuterFunction="outerHeight"):(this.direction="top",this.sizeValue="height",this.oppositeSizeValue="width",this.outerFunction="outerHeight",this.oppositeOuterFunction="outerWidth")},wrap:function(){this.$el.parents(this.o.selectors.wrapper).length?this.hadWrapper=!0:this.$el.wrap('<div class="'+i(this.o.selectors.wrapper)+'"></div>'),this.$wrapper=this.$el.parents(this.o.selectors.wrapper),this.wrapperInitialStyle=this.$el.attr("style")},buildScrollbar:function(){this.$wrapper.append('<div class="'+i(this.o.selectors.scrollbar)+'"></div>'),this.$scrollbar=this.$wrapper.find(this.o.selectors.scrollbar),this.$scrollbar.append('<div class="'+i(this.o.selectors.thumb)+'"></div>'),this.$thumb=this.$wrapper.find(this.o.selectors.thumb)},setSizes:function(e){var t={overflow:"hidden"};if(t[this.sizeValue]="100%",this.elOuter="undefined"!=typeof this.o.size?this.o.size:this.$el[this.outerFunction](!0),this.$el.css(this.sizeValue,this.elOuter),this.$wrapper.css({position:"absolute",overflow:"hidden"}),this.o.scrollbar&&this.$scrollbar.css(t),t[this.oppositeSizeValue]=this.$el[this.oppositeOuterFunction](!0),t.position="relative",this.$wrapper.css(t),this.wrapperOuter=this.$wrapper[this.outerFunction](!0),this.leeway=this.elOuter-this.wrapperOuter,this.o.scrollbar){var n=this.wrapperOuter/this.elOuter;this.thumbSize=n*this.$scrollbar[this.outerFunction](!0),this.thumbsPercentsWidth=this.thumbSize/this.wrapperOuter*100,this.$thumb.css(this.sizeValue,this.thumbSize),this.$wrapper.toggleClass(i(this.o.selectors.disabled),n>=1)}},_reset:function(){this.$wrapper.removeAttr("style").attr("style",this.wrapperInitialStyle),this.$el.removeAttr("style").attr("style",this.initialStyle),this.$wrapper.css({position:"static",overflow:"auto"}),this.$wrapper.toggleClass(i(this.o.selectors.disabled),!0)},reset:function(){this._reset(),this.setSizes(),this.setPosition(0)},setPosition:function(e){e=Math.max(Math.min(e,0),-this.leeway),this.$el.css(this.direction,e),this.o.scrollbar&&this.$thumb.css(this.direction,Math.abs(e)/this.leeway*(100-this.thumbsPercentsWidth)+"%"),this.position=e},animateScroll:function(e,t){e=Math.max(Math.min(e,0),-this.leeway);var i={};i[this.direction]=e;var n=this;if(this.$el.animate(i,t,function(){n.position=e}),this.o.scrollbar){var a={};a[this.direction]=Math.abs(e)/this.leeway*(100-this.thumbsPercentsWidth)+"%",this.$thumb.animate(a,t)}},addListeners:function(){this.o.scrollbar&&(this.$scrollbar.on("mousedown touchstart",this._onScrollbarPointerDown),e(document).on("mousemove touchmove",this._onPointerMove).on("mouseup touchend",this._onPointerUp)),this.o.wheel&&this.$wrapper.on("mousewheel DOMMouseScroll",this._onMousewheel),this.o.swipe&&(this.$wrapper.on("touchstart",this._onPointerDown),e(document).on("touchmove",this._onPointerMove).on("touchend",this._onPointerUp))},removeListeners:function(){this.o.scrollbar&&(this.$scrollbar.off("mousedown touchstart",this._onScrollbarPointerDown),e(document).off("mousemove touchmove",this._onPointerMove).off("mouseup touchend",this._onPointerUp)),this.o.wheel&&this.$wrapper.off("mousewheel DOMMouseScroll",this._onMousewheel),this.o.swipe&&(this.$wrapper.off("touchstart",this._onPointerDown),e(document).off("touchmove",this._onPointerMove).off("touchend",this._onPointerUp))},onScrollbarPointerDown:function(e){e.stopImmediatePropagation(),e=n(e),this.draggingScrollbar=!0,this.prevCoordinates=e},onPointerDown:function(e){e=n(e),this.swiping=!0,this.prevCoordinates=e},onPointerMove:function(e){if(this.draggingScrollbar||this.swiping){e.preventDefault(),e=n(e);var t=("x"===this.o.axis?e.x-this.prevCoordinates.x:e.y-this.prevCoordinates.y)/this.wrapperOuter;this.swiping&&(t=-t),this.setPosition(this.position-t*this.elOuter),this.prevCoordinates=e}},onPointerUp:function(e){this.draggingScrollbar=!1,this.swiping=!1},onMousewheel:function(e){this.setPosition(this.position+((e.originalEvent.wheelDelta||-e.originalEvent.detail)>0?1:-1)*this.o.wheelSpeed),this.o.preventDefaultScroll&&this.leeway!==Math.abs(this.position)&&0!==this.position&&e.preventDefault()},refresh:function(e){e&&(this.o.size=e);var t=this.position/this.elOuter;this.reset(),this.setPosition(t*this.elOuter)},destroy:function(){this.$scrollbar.remove(),this._reset(),this.hadWrapper||(this.$el.detach(),this.$wrapper.after(this.$el).remove()),this.removeListeners(),this.$el.data("scroller",null)}},e.fn.scroller=function(i){return 0===this.length?this:e(this).data("scroller")?e(this).data("scroller"):e(this).each(function(){return new t(e(this),i)})},e.scroller=function(t,i){return e(t).scroller(i)},Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a});var i=function(e){return e.replace(/^[\.#]/,"")},n=function(e){return"undefined"!=typeof e.pageX?{x:e.pageX,y:e.pageY}:{x:e.originalEvent.changedTouches[0].pageX,y:e.originalEvent.changedTouches[0].pageY}}}(jQuery),function(e){var t=function(e,t,i){this.init(e,t,i)};t.prototype={neverSelected:!0,init:function(e,t,i){this.$el=e,this.object=i,this.$sublist=t,this.onChangeProxy=this.onChange.bind(this),this.$el.on("change",this.onChangeProxy),this.onChange()},refreshListeners:function(){this.destroy(),this.$el.on("change",this.onChangeProxy)},destroy:function(){this.$el.off("change",this.onChangeProxy)},buildList:function(e){var t,i=document.createDocumentFragment();e.forEach(function(e){t=document.createElement("option"),t.innerText=e.text,t.value=e.value,e.selected&&this.neverSelected&&(this.neverSelected=!1,t.defaultSelected=!0),i.appendChild(t)}),this.$sublist.html(i)},onChange:function(){this.object[this.$el.val()]&&this.buildList(this.object[this.$el.val()])}},e.fn.sublistSelect=function(i,n){if(0===this.length)return this;i instanceof jQuery||(i=e(this).closest("select"),i instanceof jQuery||e.error("jQuery.sublistSelect requires a valid $sublist jQuery element as first parameter")),n||e.error("jQuery.sublistSelect requires an object parameter holding its list arrays");var a=new t(e(this),i,n);return this.data("sublistSelect",a),a}}(jQuery),/*! js-cookie v2.1.4 | MIT */
!function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var i=window.Cookies,n=window.Cookies=e();n.noConflict=function(){return window.Cookies=i,n}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function t(i){function n(t,a,r){var s;if("undefined"!=typeof document){if(arguments.length>1){if(r=e({path:"/"},n.defaults,r),"number"==typeof r.expires){var o=new Date;o.setMilliseconds(o.getMilliseconds()+864e5*r.expires),r.expires=o}r.expires=r.expires?r.expires.toUTCString():"";try{s=JSON.stringify(a),/^[\{\[]/.test(s)&&(a=s)}catch(e){}a=i.write?i.write(a,t):encodeURIComponent(a+"").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(t+""),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var F="";for(var A in r)r[A]&&(F+="; "+A,!0!==r[A]&&(F+="="+r[A]));return document.cookie=t+"="+a+F}t||(s={});for(var l=document.cookie?document.cookie.split("; "):[],c=0;c<l.length;c++){var d=l[c].split("="),C=d.slice(1).join("=");'"'===C.charAt(0)&&(C=C.slice(1,-1));try{var E=d[0].replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);if(C=i.read?i.read(C,E):i(C,E)||C.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent),this.json)try{C=JSON.parse(C)}catch(e){}if(t===E){s=C;break}t||(s[E]=C)}catch(e){}}return s}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,i){n(t,"",e(i,{expires:-1}))},n.withConverter=t,n}return t(function(){})}),/*! modernizr 3.3.1 (Custom Build) | MIT *
 * https://modernizr.com/download/?-fullscreen-video-prefixes-setclasses !*/
!function(e,t,i){function n(e,t){return typeof e===t}function a(){var e,t,i,a,r,s,o;for(var F in p)if(p.hasOwnProperty(F)){if(e=[],t=p[F],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(a=n(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)s=e[r],o=s.split("."),1===o.length?g[o[0]]=a:(!g[o[0]]||g[o[0]]instanceof Boolean||(g[o[0]]=new Boolean(g[o[0]])),g[o[0]][o[1]]=a),h.push((a?"":"no-")+o.join("-"))}}function r(e){var t=f.className,i=g._config.classPrefix||"";if(m&&(t=t.baseVal),g._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(n,"$1"+i+"js$2")}g._config.enableClasses&&(t+=" "+i+e.join(" "+i),m?f.className.baseVal=t:f.className=t)}function s(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):m?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function o(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,i){return t+i.toUpperCase()}).replace(/^-/,"")}function F(e,t){return!!~(""+e).indexOf(t)}function A(e,t){return function(){return e.apply(t,arguments)}}function l(e,t,i){var a;for(var r in e)if(e[r]in t)return i===!1?e[r]:(a=t[e[r]],n(a,"function")?A(a,i||t):a);return!1}function c(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function d(){var e=t.body;return e||(e=s(m?"svg":"body"),e.fake=!0),e}function C(e,i,n,a){var r,o,F,A,l="modernizr",c=s("div"),C=d();if(parseInt(n,10))for(;n--;)F=s("div"),F.id=a?a[n]:l+(n+1),c.appendChild(F);return r=s("style"),r.type="text/css",r.id="s"+l,(C.fake?C:c).appendChild(r),C.appendChild(c),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(t.createTextNode(e)),c.id=l,C.fake&&(C.style.background="",C.style.overflow="hidden",A=f.style.overflow,f.style.overflow="hidden",f.appendChild(C)),o=i(c,e),C.fake?(C.parentNode.removeChild(C),f.style.overflow=A,f.offsetHeight):c.parentNode.removeChild(c),!!o}function E(t,n){var a=t.length;if("CSS"in e&&"supports"in e.CSS){for(;a--;)if(e.CSS.supports(c(t[a]),n))return!0;return!1}if("CSSSupportsRule"in e){for(var r=[];a--;)r.push("("+c(t[a])+":"+n+")");return r=r.join(" or "),C("@supports ("+r+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return i}function u(e,t,a,r){function A(){c&&(delete k.style,delete k.modElem)}if(r=!n(r,"undefined")&&r,!n(a,"undefined")){var l=E(e,a);if(!n(l,"undefined"))return l}for(var c,d,C,u,D,h=["modernizr","tspan","samp"];!k.style&&h.length;)c=!0,k.modElem=s(h.shift()),k.style=k.modElem.style;for(C=e.length,d=0;C>d;d++)if(u=e[d],D=k.style[u],F(u,"-")&&(u=o(u)),k.style[u]!==i){if(r||n(a,"undefined"))return A(),"pfx"!=t||u;try{k.style[u]=a}catch(e){}if(k.style[u]!=D)return A(),"pfx"!=t||u}return A(),!1}function D(e,t,i,a,r){var s=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+_.join(s+" ")+s).split(" ");return n(t,"string")||n(t,"undefined")?u(o,t,a,r):(o=(e+" "+x.join(s+" ")+s).split(" "),l(o,t,i))}var h=[],p=[],B={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout(function(){t(i[e])},0)},addTest:function(e,t,i){p.push({name:e,fn:t,options:i})},addAsyncTest:function(e){p.push({name:null,fn:e})}},g=function(){};g.prototype=B,g=new g;var f=t.documentElement,m="svg"===f.nodeName.toLowerCase();g.addTest("video",function(){var e=s("video"),t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t),t.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),t.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(e){}return t});var v="Moz O ms Webkit",_=B._config.usePrefixes?v.split(" "):[];B._cssomPrefixes=_;var y=function(t){var n,a=S.length,r=e.CSSRule;if("undefined"==typeof r)return i;if(!t)return!1;if(t=t.replace(/^@/,""),n=t.replace(/-/g,"_").toUpperCase()+"_RULE",n in r)return"@"+t;for(var s=0;a>s;s++){var o=S[s],F=o.toUpperCase()+"_"+n;if(F in r)return"@-"+o.toLowerCase()+"-"+t}return!1};B.atRule=y;var x=B._config.usePrefixes?v.toLowerCase().split(" "):[];B._domPrefixes=x;var b={elem:s("modernizr")};g._q.push(function(){delete b.elem});var k={style:b.elem.style};g._q.unshift(function(){delete k.style}),B.testAllProps=D;var w=B.prefixed=function(e,t,i){return 0===e.indexOf("@")?y(e):(-1!=e.indexOf("-")&&(e=o(e)),t?D(e,t,i):D(e,"pfx"))};g.addTest("fullscreen",!(!w("exitFullscreen",t,!1)&&!w("cancelFullScreen",t,!1)));var S=B._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];B._prefixes=S,a(),r(h),delete B.addTest,delete B.addAsyncTest;for(var I=0;I<g._q.length;I++)g._q[I]();e.Modernizr=g}(window,document);
!function e(t,i,n){function o(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return o(i?i:e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("../modules/Dispatcher.js"),a=n(s),l=function(){function e(t,i){o(this,e),this.init(t,i)}return r(e,[{key:"init",value:function(e,t){var i=this;this.dispatcher=new a.default,this.scroll="undefined"==typeof t.scroll||t.scroll,this._toggle=function(e){i.toggle(e,$(e.currentTarget))},"function"==typeof t?this.on("toggle",t):(t.onToggle&&(this.on("toggle",t.onToggle),delete t.onToggle),$.extend(this,t)),this.$trigger=e,this.$trigger.on("click",this._toggle),this.$trigger.data("accordion",this)}},{key:"toggle",value:function(e,t){e&&e.preventDefault();var i=t.hasClass("active");t.toggleClass("active"),i?this.close(t):this.open(t)}},{key:"open",value:function(e){var t=this,i=$(e.attr("data-accordion-target"));this.dispatcher.trigger("open",i,e),e.attr("data-accordion-dependency")?$(e.attr("data-accordion-dependency")).not(e).each(function(i,n){var o=$(n);o.hasClass("active")&&!function(){var i=$(o.removeClass("active").attr("data-accordion-target"));diorV7.DOMStateManager.slideUp(i,"aria-expanded",function(){t.dispatcher.trigger("closed",i),t.scroll&&$("html, body").animate({scrollTop:e.offset().top-20},300)})}()}):e.hasClass("js-scroll-on-open")&&this.scroll&&$("html, body").animate({scrollTop:e.offset().top-20},300),diorV7.DOMStateManager.slideDown(i,"aria-expanded",function(){var n=i.find(".js-select");n.length&&n.each(function(){"undefined"!=typeof $(this).data("customSelect")&&$(this).data("customSelect").refresh()}),t.dispatcher.trigger("toggle",!0,i,e),t.dispatcher.trigger("opened",i,e)})}},{key:"close",value:function(e){var t=this,i=$(e.attr("data-accordion-target"));this.dispatcher.trigger("close",i,e),diorV7.DOMStateManager.slideUp(i,"aria-expanded",function(){t.dispatcher.trigger("toggle",!1,i,e),t.dispatcher.trigger("closed",i,e)})}},{key:"on",value:function(e,t){this.dispatcher.on(e,t)}},{key:"destroy",value:function(){this.$trigger.off("click",this._toggle)}}]),e}();i.default=l},{"../modules/Dispatcher.js":27}],2:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r={classNames:{wrapper:"autocomplete-wrapper",list:"autocomplete-list"},debounce:150,max:0,restrictive:!1},s=function(){function e(t,i){n(this,e),this.init(t,i)}return o(e,[{key:"init",value:function(e,t){this.$input=e,this.o=$.extend(r,t),this.buildWrapper(),this.buildList(),this.addListeners(),this.$input.data("AutoComplete",this),t&&t.restrictive&&(this.previousValue=this.$input.val())}},{key:"addListeners",value:function(){this._onInput=this.onInput.bind(this),this._onClickOnOption=this.onClickOnOption.bind(this),this._onFocus=this.onFocus.bind(this),this._onClickOutside=this.onClickOutside.bind(this),this.$input.on("input keyup",this._onInput),this.$input.on("focus",this._onFocus),this.$list.on("click","li",this._onClickOnOption),$(document).on("click",this._onClickOutside)}},{key:"removeListeners",value:function(){this.$input.off("input keyp",this._onInput),this.$input.off("focus",this._onFocus),this.$list.off("click","li",this._onClickOnOption),$(document).off("click",this._onClickOutside)}},{key:"buildWrapper",value:function(){this.$wrapper=this.$input.wrap('<div class="'+this.o.classNames.wrapper+'" />').parent()}},{key:"buildList",value:function(){var e=document.createElement("ul");e.className=this.o.classNames.list,this.$list=$(e),this.$list.attr("role","listbox").attr("id",this.o.classNames.list),this.$wrapper.find("input").attr("aria-controls",this.o.classNames.list),this.$wrapper.append(this.$list)}},{key:"fillList",value:function(e){if(this.$list.empty(),this.$wrapper.find("input").attr("aria-expanded",!1),e.length)for(var t=void 0,i=0,n=!this.o.max||e.length<this.o.max?e.length:this.o.max;i<n;++i)t=document.createElement("li"),$(t).attr("role","option").attr("tabindex","-1"),t.innerHTML=e[i],this.$list.append(t);this.toggleList(!0)}},{key:"toggleList",value:function(e){e="undefined"==typeof e?!this.$input.hasClass("active"):e,this.$input.toggleClass("active",e),this.$wrapper.find("input").attr("aria-expanded",e)}},{key:"updateList",value:function(){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){var t=e.$input.val();if(t){var i=e.o.values.filter(function(e){return e.toLowerCase().substring(0,t.length)===t.toLowerCase()});e.fillList(i)}},this.o.debounce)}},{key:"onFocus",value:function(){this.toggleList(!0),this.updateList()}},{key:"onClickOutside",value:function(e){this.$input.is(e.target)||this.$list.is(e.target)||0!==this.$input.has(e.target).length||0!==this.$list.has(e.target).length||this.toggleList(!1)}},{key:"onInput",value:function(e){this.o.restrictive&&this.restrict(),this.updateList()}},{key:"onClickOnOption",value:function(e){this.$input.val($(e.currentTarget).text()),this.toggleList(!1)}},{key:"destroy",value:function(){this.$wrapper.after(this.$input.detach()),this.$wrapper.remove(),this.removeListeners()}},{key:"setValues",value:function(e){this.o.values=e,this.$list.empty()}},{key:"restrict",value:function e(){for(var t=this.$input.val().toLowerCase(),e=!0,i=0,n=this.o.values.length;i<n;++i)if(0===this.o.values[i].toLowerCase().lastIndexOf(t,0)){e=!1;break}e?this.$input.val(this.previousValue):this.previousValue=this.$input.val()}}]),e}();i.default=s},{}],3:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./AutoComplete.js"),u=n(l),c=function(e){function t(e,i,n,s,a){o(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return l.valueId=i,l.valueLabel=n,l.$hidden=s,a&&a.values&&l.flattenValues(a.values),l}return s(t,e),a(t,[{key:"flattenValues",value:function(e){var t=this;this.flatValues=[],e.forEach(function(e){t.flatValues.push(e[t.valueLabel])})}},{key:"updateList",value:function(){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){var t=e.$input.val();if(t){var i=e.flatValues.filter(function(e){return e.toLowerCase().substring(0,t.length)===t.toLowerCase()});e.fillList(i)}},this.o.debounce)}},{key:"onClickOnOption",value:function(e){var t=$(e.currentTarget).text();this.$input.val(t),this.toggleList(!1),this.$hidden.val(this.o.values[this.flatValues.indexOf(t)][this.valueId])}},{key:"setValues",value:function(e){this.o.values=e,this.flattenValues(e);var t=this.$hidden.val();this.$hidden.val(""),this.$list.empty(),"undefined"!=typeof t&&this.setFromId(t)}},{key:"restrict",value:function e(){for(var t=this.$input.val().toLowerCase(),e=!0,i=0,n=this.flatValues.length;i<n;++i)if(0===this.flatValues[i].toLowerCase().lastIndexOf(t,0)){e=!1;break}e?this.$input.val(this.previousValue):this.previousValue=this.$input.val()}},{key:"setFromId",value:function(e){for(var t=0,i=this.o.values.length;t<i;++t)if(this.o.values[t][this.valueId]&&this.o.values[t][this.valueId]==e){this.$input.val(this.o.values[t][this.valueLabel]),this.$hidden.val(this.o.values[this.flatValues.indexOf(this.o.values[t][this.valueLabel])][this.valueId]);break}}}]),t}(u.default);i.default=c},{"./AutoComplete.js":2}],4:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./AutoComplete.js"),u=n(l),c=function(e){function t(e,i){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.lang=diorV7.helpers.getLanguage().substr(0,2),n}return s(t,e),a(t,[{key:"updateList",value:function(){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.$input.val()?e.getValues(function(t){return e.fillList(t)}):e.$list.empty()},this.o.debounce)}},{key:"getValues",value:function(e){$.ajax({url:diorV7.config.webservices.SEARCH.AUTOCOMPLETE_SUGGESTIONS.url,type:diorV7.config.webservices.SEARCH.AUTOCOMPLETE_SUGGESTIONS.method,xhrFields:diorV7.config.webservices.SEARCH.AUTOCOMPLETE_SUGGESTIONS.xhrFields,data:{rc:1,oe:"UTF-8",ie:"UTF-8",max:10,format:"rich",client:"dior_"+this.lang,q:this.$input.val()},success:function(t){var i=[];t.results.forEach(function(e){i.push(e.name)}),e(i)}})}},{key:"onClickOnOption",value:function(e){this.$input.val($(e.currentTarget).text()),this.$input.parents("form:first").submit()}}]),t}(u.default);i.default=c},{"./AutoComplete.js":2}],5:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t){n(this,e);var i={$el:null,axis:"x",percents:0,onChange:function(e){}};this.o=$.extend(i,t),this.percents=this.o.percents,this.init()}return o(e,[{key:"init",value:function(){this.setSize(),this.build(),this.addListeners(),this.set(this.percents,!0)}},{key:"setSize",value:function(){this.sizeMethod="x"===this.o.axis?"width":"height",this.positionValue="x"===this.o.axis?"left":"top",this.maxSize=this.o.$el[this.sizeMethod](),this.percentSize=this.maxSize/100}},{key:"build",value:function(){if(!this.$progress){var e=document.createElement("div");e.className="input-range-progress",this.$progress=$(e),this.o.$el.append(this.$progress)}}},{key:"set",value:function(e,t){e=Math.max(0,Math.min(e,100)),this.$progress[this.sizeMethod](this.percentSize*e),t||e===this.percents||this.o.onChange(e),this.percents=e}},{key:"addListeners",value:function(){var e=this;this._onPointerdown=function(t){return e.onPointerdown(t)},this._onPointermove=function(t){return e.onPointermove(t)},this._onPointerup=function(t){return e.onPointerup(t)},this.o.$el.on("mousedown touchstart",this._onPointerdown),$(document).on("mousemove touchmove",this._onPointermove),$(document).on("mouseup touchend",this._onPointerup)}},{key:"removeListeners",value:function(){this.o.$el.off("mousedown touchstart",this._onPointerdown),$(document).off("mousemove touchmove",this._onPointermove),$(document).off("mouseup touchend",this._onPointerup)}},{key:"onPointerdown",value:function(e){this.coords=diorV7.helpers.normalizeInput.eventToCoordinate(e),this.pointerDown=!0,this.set(this.sizeToPercents(this.coords[this.o.axis]-this.o.$el.offset()[this.positionValue]))}},{key:"onPointermove",value:function(e){if(this.pointerDown){var t=diorV7.helpers.normalizeInput.eventToCoordinate(e),i=t[this.o.axis]-this.coords[this.o.axis];this.coords=t,this.set(this.percents+this.sizeToPercents(i))}}},{key:"onPointerup",value:function(e){this.pointerDown=!1}},{key:"sizeToPercents",value:function(e){return e/this.percentSize}},{key:"pointerPositionToPercents",value:function(e){return this.sizeToPercents(e-this.o.$el.offset()[this.positionValue])}},{key:"destroy",value:function(){this.removeListeners(),this.$progress.remove(),delete this.$progress}}]),e}();i.default=r},{}],6:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return e=new Date(1e3*e).toISOString().substr(11,8),"00:"===e.substr(0,3)&&(e=e.substr(3,e.length)),e}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../templates.common.js"),l=n(a),u=e("./InputRange.js"),c=n(u),d=e("./TTML.js"),f=n(d),h=e("../modules/Dispatcher.js"),p=n(h),v=[],y=void 0,m=function(){function e(t,i){o(this,e),this.userPaused=!1,this.isFullscreen=!1,this.subtitlesActive=!1,this.neverPlayed=!0,this.completed25=!1,this.completed50=!1,this.completed75=!1,this.completed100=!1;var n={$video:null,poster:null,subtitles:null,mmmID:null,align:"middle",classNames:{videoWrapper:"player-wrapper",controlsWrapper:"player-controls",controlsVisible:"player-controls-visible",playing:"player-playing",hasPlayed:"player-has-played",centralPlayButton:"player-play-central",fullscreen:"player-fullscreen",hasEnded:"played-video-finished",repeat:"player-repeat"},playClass:null,wrapperClass:null,controlsFadeTimeout:1500,diorTV:diorV7.config.url.diorTV,controlsTemplate:l.default.player.controls,volume:localStorage.diorVolume||80,mute:1,hasSoundBar:1,muted:0,autoplay:0,autoTogglePlay:0,tiny:0,playVisibleThreshold:.75,locale:{fullscreen:"Fullscreen",volume:"Volume",subtitltes:"Subtitles",share:"Share"}},r=i.attr("id");if(""===r||void 0===r)console.error("[Player]: video tag must have an id.");else for(var s=v.length,a=0;a<s;++a)v[a].o.$video.attr("id")===r&&console.warn("[Player]: video tag must have a unique id. "+r+" is already registered.");this.o=$.extend(n,t),this.o.volume=parseInt(this.o.volume),i&&(this.o.$video=i),this.video=this.o.$video[0],this.o.autoplay&&null===t.autoTogglePlay&&(this.o.autoTogglePlay=1),diorV7.helpers.isTactile()&&(this.o.mute=this.o.hasSoundBar=0,this.o.autoplay=0),this.dispatcher=new p.default,this._build=this.buildPlayer.bind(this),this.video.addEventListener("loadedmetadata",this._build),this.video.addEventListener("durationchange",this._build),this.o.mmmID?this.getSrcFromMMM():this.o.$video.attr("src",this.o.url),v.push(this),this.o.$video.data("player",this)}return s(e,[{key:"togglePlayPause",value:function(e){this.video.paused?this.play():(e&&(this.userPaused=!0),this.pause())}},{key:"play",value:function(){this.video.paused&&(this.neverPlayed&&(this.neverPlayed=!1,this.trackEvent("Video Play")),this.video.play(),this.trigger("play"),this.$el.toggleClass(this.o.classNames.hasEnded,!1).toggleClass(this.o.classNames.playing,!0).toggleClass(this.o.classNames.hasPlayed,!0))}},{key:"pause",value:function(e){this.video.paused||(this.video.pause(),this.trigger("pause"),this.$el.toggleClass(this.o.classNames.playing,!1)),e&&(this.userPaused=!0)}},{key:"repeat",value:function(){this.seeker.set(0,!0),this.video.currentTime=0,this.play()}},{key:"toggleFullscreen",value:function(t){var i=this;if("undefined"==typeof t&&(t=!this.isFullscreen),t?this.trigger("enterFullscreen"):this.trigger("exitFullscreen"),Modernizr.fullscreen&&!diorV7.helpers.isTactile())diorV7.helpers.fullscreen(this.$el);else if(this.o.$video.parents(".popin:first").length){var n=window.diorV7.popinManager.popinPlayer;n.toggleFullscreen(!$("html").hasClass("popin-fullscreen"))}else{var o=this.o.$video.data("options");o.fullscreen=!0,this.o.$video.data("options",o),diorV7.popinManager.openVideoFullscreen(this.video)}t&&setTimeout(function(){e.PauseAll(i)},250)}},{key:"toggleControls",value:function(e){"undefined"==typeof e&&(e=!this.$controls.is(":visible")),this.$el.toggleClass(this.o.classNames.controlsVisible,e)}},{key:"toggleMuted",value:function(e){this.video.muted=!this.video.muted,this.video.muted?this.setVolume(0):this.setVolume(localStorage.diorVolumeOn)}},{key:"toggleSubs",value:function(){this.subtitlesActive=!this.subtitlesActive,this.$el.toggleClass("player-subtitles",this.subtitlesActive),this.subtitlesActive&&this.TTML.update(this.video.currentTime)}},{key:"setVolume",value:function(e){localStorage.diorVolume=e,e>0&&(localStorage.diorVolumeOn=e),this.video.volume=.01*e,this.$volume&&this.$volume.length&&(this.$volume[0].className=this.$volume[0].className.replace(/volume-\d\s?/g,""),this.$volume.addClass("volume-"+Math.round(e/100*8))),0===e?this.$el.addClass("player-muted"):this.$el.removeClass("player-muted")}},{key:"destroy",value:function(){this.pause(),this.removeListeners(),this.o.$video.detach(),this.$el.after(this.o.$video),this.$el.remove(),this.o.$video.attr("style",this.initialStyle),this.o.$video.attr("src","");for(var e=v.length,t=0;t<e;++t){var i=v[t];if(this==i){v.splice(t,1);break}}this.$el=null}},{key:"getSrcFromMMM",value:function(){var e=this;if(this.storyBoard={},window.widemotion){var t=widemotion.attach(this.o.$video,this.o.mmmID,diorV7.config.MMM.accounts);t.done(function(t){e.trigger("ready"),e.storyBoard.sequenceWidth=4e3,e.storyBoard.framesPerSequence=t.storyboard.density,e.storyBoard.fps=t.storyboard.ips,e.storyBoard.sequenceSources=[],e.storyBoard.path=t.storyboard.path,e.storyBoard.sequenceNumber=t.storyboard.count}).fail(function(e){console.error(e)})}else console.error("[Player]: widemotion controller is not loaded.")}},{key:"buildPlayer",value:function(){this.built||(this.built=!0,this.buildWrapper(),this.buildPoster(),this.buildControls(),this.buildStoryBoard(),this.buildSubtitles(),this.o.share&&this.buildShare(),(this.o.muted||0===this.o.volume)&&this.toggleMuted(),this.addListeners(),this.o.autoTogglePlay&&this.onScroll(),this.trigger("built"),this.o.autoplay&&this.video.paused&&!this.o.autoTogglePlay&&this.play())}},{key:"buildWrapper",value:function(){this.initialStyle=this.o.$video.attr("style"),this.o.$video.removeAttr("style");var e=document.createElement("div");e.className=this.o.classNames.videoWrapper,this.o.wrapperClass&&(e.className+=" "+this.o.wrapperClass),this.video.muted&&(e.className+=" player-muted"),this.subtitlesActive&&(e.className+=" player-subtitles"),this.o.tiny&&(e.className+=" player-tiny"),this.o.$video.wrap(e),this.$el=this.o.$video.parent(),this.$el.attr("style",this.initialStyle),"middle"!==this.o.align&&this.$el.addClass("align-"+this.o.align)}},{key:"buildPoster",value:function(){if(this.o.poster){var e=new Image;e.className="player-poster",e.src=this.o.poster,this.$el.append(e)}}},{key:"buildControls",value:function(){var e=this,t=Modernizr.fullscreen||this.o.$video.parents(".popin").length&&!$("html").hasClass("popin-fullscreen")||!this.o.$video.parents(".popin").length;this.$el.append(this.o.controlsTemplate({centralPlayButton:this.o.classNames.centralPlayButton+(this.o.playClass?" "+this.o.playClass:""),diorTV:this.o.diorTV,controlsWrapper:this.o.classNames.controlsWrapper,currentTime:r(this.video.currentTime),duration:r(this.video.duration),hasFullscreen:t,hasSubtitles:this.o.subtitles,hasMute:this.o.mute,hasSoundBar:this.o.hasSoundBar,hasChapters:this.o.chapters,repeat:this.o.classNames.repeat,tiny:this.o.tiny,locale:this.o.locale})),this.$controls=this.$el.find("."+this.o.classNames.controlsWrapper),this.seeker=new c.default({$el:this.$controls.find(".js-player-seeker"),onChange:function(t){return e.setTimeFromPercents(t)}}),this.o.hasSoundBar&&(this.$volume=this.$controls.find(".js-player-volume"),this.volume=new c.default({$el:this.$volume.find(".js-player-volume-input-range"),onChange:function(t){return e.setVolume(t)}}),this.setVolume(this.o.volume)),this.$controls.find(".js-tooltip-trigger").on("mouseover",function(t){e.$controls.find('.js-tooltip[data-tooltip="'+$(t.currentTarget).data("tooltip")+'"]').addClass("visible")}).on("mouseout",function(t){e.$controls.find('.js-tooltip[data-tooltip="'+$(t.currentTarget).data("tooltip")+'"]').removeClass("visible")})}},{key:"buildStoryBoard",value:function(){this.storyBoard.el=document.createElement("div"),this.storyBoard.el.className="player-storyboard",this.$controls.find(".player-preview").append(this.storyBoard.el),this.$preview=this.$controls.find(".player-preview"),this.loadStoryBoard()}},{key:"loadStoryBoard",value:function(){var e=this;this.storyBoard.frameWidth=this.storyBoard.sequenceWidth/this.storyBoard.framesPerSequence,this.storyBoard.frameNumber=Math.ceil(this.video.duration*this.storyBoard.fps);for(var t,i=this.storyBoard.path.split("storyboard_")[0],n=0;n<this.storyBoard.sequenceNumber;++n){for(t=n.toString();t.length<4;)t="0"+t;this.storyBoard.sequenceSources.push(i+"storyboard_"+t+".jpg")}diorV7.preloader.preload(this.storyBoard.sequenceSources,function(t){e.storyBoard.sequences=t,e.$controls.find(".js-player-seeker").on("mousemove",e._updatePreview),e.$controls.find(".js-player-seeker").on("mouseout",e._hidePreview),e.storyBoardBuilt=!0})}},{key:"buildSubtitles",value:function(){var e=this;this.o.subtitles&&(this.subtitles=[],this.activeSubtitle=-1,this.$subtitlesArea=this.$el.find(".js-player-subtitles-area"),this.$subtitleContent=this.$el.find(".js-subtitle-content"),$.ajax({url:this.o.subtitles,type:"GET",dataType:"xml",success:function(t){e.TTML=new f.default(t,e.$subtitlesArea),e.o.subtitlesOn&&e.toggleSubs()}}))}},{key:"setTimeFromPercents",value:function(e){this.video.currentTime=this.video.duration*e*.01,this.trackEvent("Timeline")}},{key:"updatePreview",value:function(e){this.$preview.toggleClass("active",!0);var t=.01*this.seeker.pointerPositionToPercents(diorV7.helpers.normalizeInput.eventToCoordinate(e).x),i=Math.ceil(this.video.duration*t*this.storyBoard.fps),n=Math.floor(i/this.storyBoard.framesPerSequence);"undefined"!=typeof this.storyBoard.activeSequence&&n===this.storyBoard.activeSequence||this.$preview.find(".player-storyboard").html(this.storyBoard.sequences[n]),this.storyBoard.activeSequence=n;var o=i*this.storyBoard.frameWidth%this.storyBoard.sequenceWidth,r=t*this.$controls.width()-.5*this.$preview.width();r=Math.min(Math.max(0,r),this.$controls.width()-this.$preview.width()),this.$preview.css("left",r).find("img").css("left",-o)}},{key:"hidePreview",value:function(){this.$preview.toggleClass("active",!1)}},{key:"buildShare",value:function(){var e=this,t=this.$controls.find("li.share-open").outerWidth(!0),i=this.$controls.find(".share-container").width()-t;if(this.$controls.find(".icon-player-share").on("click",function(t){t.preventDefault(),e.$controls.find(".share-container").width(i).addClass("open")}),this.$controls.find(".icon-player-close-share").on("click",function(i){i.preventDefault(),e.$controls.find(".share-container").width(t).removeClass("open")}),this.$controls.find(".share-container").width(t),window.clipboardData)this.$el.find(".copy").on("click",function(){window.clipboardData.setData("Text",e.$el.find(".insert textarea").val())});else{var n=this.$el.find(".insert textarea")[0],o=document.createRange();o.selectNode(n),window.getSelection().addRange(o);try{document.execCommand("copy")}catch(e){console.warn(e)}window.getSelection().removeAllRanges()}this.$el.find(".icon-player-embed").on("click",function(t){t.preventDefault();var i=e.$el.find("#"+e.$el.attr("id")+"_embedLayer");i.toggle()}),this.$el.find(".share-container .icon-player-layer-close").on("click",function(t){t.preventDefault(),e.params.$el.find("#"+e.$el.attr("id")+"_embedLayer").hide()})}},{key:"trigger",value:function(e,t){this.dispatcher.trigger(e,this)}},{key:"on",value:function(e,t,i){this.dispatcher.on(e,t,i)}},{key:"off",value:function(e,t){this.dispatcher.off(e,t)}},{key:"onTimeupdate",value:function(){this.trackCompletion(),this.$controls.find(".js-player-current-time").text(r(this.video.currentTime)),this.seeker.set(this.video.currentTime/this.video.duration*100,!0),this.subtitlesActive&&this.TTML.update(this.video.currentTime)}},{key:"onMouseover",value:function(){clearTimeout(this.fadeTimeout),this.toggleControls(!0)}},{key:"onMouseout",value:function(){this.fadeTimeout=setTimeout(this._hideControls,this.o.controlsFadeTimeout)}},{key:"onFullscreenchange",value:function(){this.isFullscreen=!this.isFullscreen,this.$el.toggleClass(this.o.classNames.fullscreen,this.isFullscreen),this.onResize(),this.trackEvent("Fullscreen")}},{key:"onEnded",value:function(){this.$el.toggleClass(this.o.classNames.hasEnded,!0),this.trackEvent("Video Completion 100"),this.trigger("end")}},{key:"onResize",value:function(){this.seeker&&this.seeker.setSize(),this.volume&&this.volume.setSize()}},{key:"addListeners",value:function(){var e=this;this._togglePlayPause=function(t){return e.togglePlayPause(t)},this._toggleFullscreen=function(){return e.toggleFullscreen()},this._exitFullscreen=function(){return e.toggleFullscreen(!1)},this._onTimeupdate=function(){return e.onTimeupdate()},this._onMouseover=function(){return e.onMouseover()},this._onMouseout=function(){return e.onMouseout()},this._hideControls=function(){return e.toggleControls(!1)},this._toggleMuted=function(t){return e.toggleMuted(t)},this._toggleSubs=function(){return e.toggleSubs()},this._onEnded=function(){return e.onEnded()},this._repeat=function(){return e.repeat()},this._updatePreview=function(t){return e.updatePreview(t)},this._hidePreview=function(){return e.hidePreview()},this._onScroll=function(){return e.onScroll()},this._onResize=function(){return e.onResize()},this.o.$video.on("click",this._togglePlayPause),this.$el.on("mouseover",this._onMouseover),this.$el.on("mouseout",this._onMouseout),this.$el.find("img, ."+this.o.classNames.centralPlayButton).on("click",this._togglePlayPause),this.$el.on("click","."+this.o.classNames.repeat,this._repeat),this.$el.find(".js-player-exit-fullscreen").on("click",this._exitFullscreen),this.$controls.find(".js-player-play").on("click",this._togglePlayPause),this.$controls.find(".js-toggle-sound").on("click",this._toggleMuted),this.$controls.find(".js-toggle-subs").on("click",this._toggleSubs),this.$controls.find(".js-player-fullscreen").on("click",this._toggleFullscreen),this.video.addEventListener("timeupdate",this._onTimeupdate),this.video.addEventListener("ended",this._onEnded),this.o.autoTogglePlay&&$(window).on("scroll",this._onScroll),$(window).on("resize",this.onResize)}},{key:"removeListeners",value:function(){this.o.$video.off("click",this._togglePlayPause),this.$el.off("mouseover",this._onMouseover),this.$el.off("mouseout",this._onMouseout),this.$el.find("img, ."+this.o.classNames.centralPlayButton).off("click",this._togglePlayPause),this.$el.off("click","."+this.o.classNames.repeat,this._repeat),this.$el.find(".js-player-exit-fullscreen").off("click",this._exitFullscreen),this.$controls.find(".js-player-play").off("click",this._togglePlayPause),this.$controls.find(".js-toggle-sound").off("click",this._toggleMuted),this.$controls.find(".js-toggle-subs").off("click",this._toggleSubs),this.$controls.find(".js-player-fullscreen").off("click",this._toggleFullscreen),this.video.removeEventListener("durationchange",this._build),this.video.removeEventListener("timeupdate",this._onTimeupdate),this.video.removeEventListener("ended",this._onEnded),$(window).off("scroll",this._onScroll).off("resize",this.onResize),clearTimeout(this.fadeTimeout),this.storyBoardBuilt&&(this.$controls.find(".js-player-seeker").off("mousemove",this._updatePreview),this.$controls.find(".js-player-seeker").off("mouseout",this._hidePreview))}},{key:"onScroll",value:function(){if(!(diorV7.popinManager&&diorV7.popinManager.isPopinOpened()||this.userPaused)){var e=this.$el.height(),t=$(window).scrollTop(),i=t+$(window).height(),n=this.$el.offset().top,o=this.$el.offset().top+e,r=Math.min(o,i)-Math.max(n,t);r>=e*this.o.playVisibleThreshold?this.play():r<=e*(1-this.o.playVisibleThreshold)&&this.pause()}}},{key:"trackEvent",value:function(e){diorV7.tracking.trackEvent(e,this.o.mmmID||"MMM_"+this.o.$video.attr("id"))}},{key:"trackCompletion",value:function(){return this.video.currentTime>.5*this.video.duration&&!this.completed50?(this.completed50=!0,this.trackEvent("Video Completion 50")):this.video.currentTime>.75*this.video.duration&&!this.completed75?(this.completed75=!0,this.trackEvent("Video Completion 75")):void(this.video.currentTime>.25*this.video.duration&&(this.completed25||(this.completed25=!0,this.trackEvent("Video Completion 25"))))}}],[{key:"PauseAll",value:function(e){for(var t=v.length,i=0;i<t;++i){var n=v[i];e&&e==n||v[i].pause()}}},{key:"Get",value:function(e){for(var t=v.length,i=0;i<t;++i){var n=v[i];if(n.video.getAttribute("id")==e)return n}}},{key:"documentFullscreenchange",value:function(e){var t=document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.fullscreenElement;t?(y=diorV7.Player.Get($(t).find("video").attr("id")),y?y.onFullscreenchange():console.warn("[Player]: couldn't find an instance of player attached to the fullscreened element. Missing id on video tag?")):y&&(y.onFullscreenchange(),y=null)}},{key:"videos",get:function(){return v}}]),e}();i.default=m},{"../modules/Dispatcher.js":27,"../templates.common.js":32,"./InputRange.js":5,"./TTML.js":8}],7:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function e(t,i,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,i);
if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,i,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},u=e("./Player.js"),c=n(u),d=e("../templates.common.js"),f=n(d);e("core-js/fn/array/find");var h=function(e){function t(e,i){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.on("built",n.buildChapterSlider,n),n.o.chapters||console.warn("PlayerChaptered -> chapters are undefined"),n}return s(t,e),a(t,[{key:"buildChapterSlider",value:function(){var e=this;this.maxVisible=5,this.o.chapters.length>this.maxVisible&&(this.$el.append(f.default.player.chapterSlider({chapters:this.o.chapters})),this.$chapterSliderParent=this.$el.find(".player-chapter-slider"),this.$chapterSlider=this.$chapterSliderParent.children("ul"),this.chapterSlider=this.$chapterSlider.bxSlider(this.getSliderOptions()),this._onChapterClick=function(t){return e.onChapterClick(t)},this._updateChapter=function(t){return e.updateChapter(t)},this.$chapterSlider.find("li").on("click",this._onChapterClick),this.video.addEventListener("timeupdate",this._updateChapter))}},{key:"getSliderOptions",value:function(){var e=this;return{infiniteLoop:!1,pager:!1,moveSlides:1,minSlides:this.maxVisible,maxSlides:this.maxVisible,slideWidth:this.$chapterSliderParent.width()/this.maxVisible,onSlideBefore:function(t,i,n){n+e.maxVisible===e.o.chapters.length?e.$chapterSliderParent.find(".bx-next").addClass("disabled"):e.$chapterSliderParent.find(".bx-next").removeClass("disabled"),0===n?e.$chapterSliderParent.find(".bx-prev").addClass("disabled"):e.$chapterSliderParent.find(".bx-prev").removeClass("disabled")}}}},{key:"onChapterClick",value:function(e){this.goToChapter(parseInt($(e.currentTarget).data("index")))}},{key:"goToChapter",value:function(e){this.setActiveChapter(e),this.video.currentTime=this.o.chapters[e].time,this.trigger("chapterChange")}},{key:"setActiveChapter",value:function(e){this.activeChapter=e,this.chapterSlider.goToSlide(e),this.$chapterSlider.find("li").removeClass("active"),this.$chapterSlider.find('li[data-index="'+e+'"]').addClass("active"),this.$controls.find(".js-player-chapter").text(this.o.chapters[e].title)}},{key:"updateChapter",value:function(){this.setActiveChapter(this.findChapterForTime(this.video.currentTime))}},{key:"destroy",value:function(){this.$chapterSlider.find("li").off("click",this._onChapterClick),this.video.removeEventListener("timeupdate",this._updateChapter),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"findChapterForTime",value:function(e){for(var t=0,i=0,n=this.o.chapters.length;i<n&&!(this.o.chapters[i].time>e);++i)e>=this.o.chapters[i].time&&(t=i);return t}},{key:"onResize",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onResize",this).call(this),this.chapterSlider&&this.chapterSlider.reloadSlider(this.getSliderOptions())}}]),t}(c.default);i.default=h},{"../templates.common.js":32,"./Player.js":6,"core-js/fn/array/find":33}],8:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return e=e.split(":").map(function(e){return parseFloat(e)}),e[1]+=60*e[0],e[1]*=60,e[1]+e[2]}function r(e){var t={};for(var i in l)e.getNamedItem(i)&&(t[l[i]]=e.getNamedItem(i).nodeValue);return t}function s(e){return e.attr("id")||e.attr("xml:id")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l={textAlign:"text-align","tts:textAlign":"text-align",padding:"padding","tts:padding":"padding",color:"color","tts:color":"color","tts:backgroundColor":"background-color","tts:fontSize":"font-size","tts:fontWeight":"font-weight","tts:fontFamily":"font-family","tts:fontStyle":"font-style","tts:opacity":"opacity"},u=function(){function e(t,i){n(this,e),this.$xml=$(t),this.$container=i,this.setStyles(),this.buildRegions(),this.setSubtitles()}return a(e,[{key:"buildRegions",value:function(){this.regionsActiveSubtitle={},this.$xml.find("head > layout > region").each(this.buildRegion.bind(this))}},{key:"buildRegion",value:function(t,i){i=$(i);var n=$('<div class="player-subtitle-region"></div>');n.attr("id",s(i)),i.attr("style")&&e.applyStyle(n,this.styles[i.attr("style")]),this.$container.append(n),this.regionsActiveSubtitle[n.attr("id")]=-1}},{key:"setStyles",value:function(){this.styles={},this.$xml.find("head > styling > style").each(this.setStyle.bind(this))}},{key:"setStyle",value:function(e,t){t=$(t),this.styles[s(t)]=r(t[0].attributes)}},{key:"setSubtitles",value:function(){this.subtitles={},this.$xml.find("body p").each(this.setSubtitle.bind(this))}},{key:"setSubtitle",value:function(t,i){i=$(i);var n=o(i.attr("begin")),r=e.findSubtitleRegion(i);this.subtitles[r]||(this.subtitles[r]=[]),this.subtitles[r].push({index:t,start:n,end:i.attr("end")?o(i.attr("end")):n+o(i.attr("dur")),content:i.text(),style:i.attr("style")})}},{key:"update",value:function(e){for(var t in this.subtitles)this.subtitles.hasOwnProperty(t)&&this.updateRegion(t,this.getRegionSubtitleForTime(e,t))}},{key:"updateRegion",value:function(t,i){var n=this.$container.find($("#"+t));if(i){if(this.regionsActiveSubtitle[t]!==i.index){this.regionsActiveSubtitle[t]=i.index;var o=$("<p></p>");o.html(i.content),i.style&&e.applyStyle(o,this.styles[i.style]),n.html(o).toggleClass("active",!0)}}else n.toggleClass("active",!1).empty(),this.regionsActiveSubtitle[t]=-1}},{key:"getRegionSubtitleForTime",value:function(e,t){for(var i=0,n=this.subtitles[t].length;i<n;++i)if(e>=this.subtitles[t][i].start&&e<=this.subtitles[t][i].end)return this.subtitles[t][i]}}],[{key:"findSubtitleRegion",value:function(e){if(e.attr("region"))return e.attr("region");for(var t=e.parents(),i=0,n=t.length;i<n;++i)if(t[i].attributes.getNamedItem("region"))return t[i].attributes.getNamedItem("region").nodeValue}},{key:"applyStyle",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&e.css(i,t[i]);return e}},{key:"setRegionOrigin",value:function(e,t){return t?(t=t.split(" "),e.css("left",t[0]),e.css("top",t[1])):(e.css("bottom",55),e.css("left","50%"),e.css(Modernizr.prefixed("transform"),"translateX(-50%)")),e}},{key:"setRegionExtent",value:function(e,t){return t&&(t=t.split(" "),e.css("width",t[0]),e.css("height",t[1])),e}}]),e}();i.default=u},{}],9:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t){n(this,e);var i={identifier:null,$trigger:null,$el:null,$wrapper:$("#popin-wrapper"),manager:null,closeButtonClass:".js-popin-close",template:null,webservice:null,triggerEvents:0,fullscreen:0};this.o=$.extend(i,t),this.isOpen=!1,this.init(),this.$el.data("popin",this),this.addListeners()}return o(e,[{key:"init",value:function(){this.$el=this.o.$el}},{key:"addListeners",value:function(){var e=this;this.o.$trigger&&(this._onTriggerClick=function(t){return e.open(t)},this.o.$trigger.on("click",this._onTriggerClick)),this._onCloseClick=function(){return e.close()},this.$el.find(this.o.closeButtonClass).on("click",this._onCloseClick),this._resize=function(){return e.resize()},window.addEventListener("resize",this._resize())}},{key:"open",value:function(e){var t=this;this.isOpen||(this.isOpen=!0,diorV7.DOMStateManager.fadeToggle(this.$el,"hidden",1,function(){t.trigger("opened"),t.$el.find(".js-form").length&&t.$el.find(".js-form").each(function(){$(this).data("formValidator")&&$(this).data("formValidator").refreshListeners()})}),this.trigger("open"),this.toggleFullscreen(),this.o.manager.toggleOverlay(this.$el,1),diorV7.Player.PauseAll(this.player))}},{key:"toggleFullscreen",value:function(e){if(e||(e=this.o.fullscreen),e){var t=this.$el.css("z-index");this.$el.removeAttr("style").css("z-index",t),$("html").addClass("popin-fullscreen")}else this.setPosition(),$("html").removeClass("popin-fullscreen")}},{key:"setPosition",value:function(){var e=this,t=Math.min($("body").height()-window.innerHeight,$(document).scrollTop());setTimeout(function(){var i=.5*(window.innerHeight-e.$el.outerHeight(!0));e.$el.css("top",t+i)},50)}},{key:"close",value:function(){var e=this;this.isOpen&&(this.isOpen=!1,diorV7.DOMStateManager.fadeToggle(this.$el,"hidden",0,function(){e.o.fullscreen&&$("html").removeClass("popin-fullscreen"),e.trigger("closed")}),this.o.manager.toggleOverlay(this.$el,0),this.trigger("close"))}},{key:"resize",value:function(){this.trigger("resize")}},{key:"destroy",value:function(){this.o.$trigger&&this.o.$trigger.off("click",this._onTriggerClick),this.$el.find(this.o.closeButtonClass).off("click",this._onCloseClick),window.removeEventListener("resize",this._resize()),this.trigger("destroyed")}},{key:"trigger",value:function(e){this.o.triggerEvents&&diorV7.dispatcher.trigger("popin-"+this.o.identifier+"::"+e)}},{key:"on",value:function(e,t){this.o.triggerEvents&&diorV7.dispatcher.on("popin-"+this.o.identifier+"::"+e,t)}}]),e}();i.default=r},{}],10:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./Popin.js"),u=n(l),c=e("../../templates.common.js"),d=n(c),f=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),a(t,[{key:"init",value:function(){this.o.$wrapper.append(d.default.popin({identifier:this.o.identifier})),this.$el=this.o.$wrapper.find(".js-popin-"+this.o.identifier)}},{key:"open",value:function(){var e=this;this.hasData||this.getData(function(t){e.render(t),e.open()}),this.isOpen||(this.isOpen=!0,diorV7.DOMStateManager.fadeToggle(this.$el,"hidden",1))}},{key:"getData",value:function(e){var t=this;this.o.webservice&&this.o.webservice.url||console.warn("PopinDynamic.init -> webservice is required"),$.ajax({url:this.o.webservice.url,type:this.o.webservice.method||"GET",xhrFields:this.webservice.o.xhrFields,success:function(i){t.data=i,t.hasData=!0,e(i)},failure:function(e){console.warn("PopinDynamic.init -> "+t.o.webservice.url+" error")}})}},{key:"render",value:function(e){this.o.template||console.warn("PopinDynamic.render -> template is required"),this.$el.append(this.o.template(e))}}]),t}(u.default);i.default=f},{"../../templates.common.js":32,"./Popin.js":9}],11:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function e(t,i,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,i);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,i,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},u=e("./Popin.js"),c=n(u),d=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.$video=i.$el.find("video"),i.$video.length?i.$video.attr("id")||console.warn("[PopinPlayer]: missing id on video tag (absolutly needed by MMMM)."):console.warn("[PopinPlayer]: missing popin video element."),i.on("closed",function(){i.player&&(i.player.off("exitFullscreen",i._closeCb),i.player.off("end",i._closeCb),i.player.off("ready",i._readyCb),i.player.destroy(),delete i.player)}),i.on("opened",function(){i.o.fullscreen&&$("html").addClass("popin-fullscreen"),i.player.onResize()}),i}return s(t,e),a(t,[{key:"open",value:function(e){this.previousScrollLevel=$("html").scrollTop()||$("body").scrollTop();var t=e.currentTarget?$(e.currentTarget):$(e),i=$(t).data("options");i.autoplay=!0,this.o.fullscreen=i.fullscreen,this.player=new diorV7.Player(i,this.$video),this.player.o.triggerEvents=1,this._closeCb=this.close.bind(this),this.player.on("exitFullscreen",this._closeCb),this.player.on("end",this._closeCb),this._readyCb=this.onReady.bind(this),this.player.on("ready",this._readyCb)}},{key:"onReady",value:function(e){var i=this;setTimeout(function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",i).call(i,e),diorV7.helpers.isTactile()||i.player.play()},150)}},{key:"close",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this),$("html").removeClass("popin-fullscreen"),window.scrollTo(0,this.previousScrollLevel)}}]),t}(c.default);i.default=d},{"./Popin.js":9}],12:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=e("./helpers/registerHandlebarsHelper.js"),r=n(o),s=e("./modules/DOMStateManager.js"),a=n(s),l=e("./modules/Dispatcher.js"),u=n(l),c=e("./modules/popinManager.js"),d=n(c),f=e("./components/Accordion.js"),h=n(f),p=e("./components/AutoComplete.js"),v=n(p),y=e("./components/AutoCompleteId.js"),m=n(y),g=e("./components/AutoCompleteSearch.js"),b=n(g),_=e("./components/Player.js"),w=n(_),k=e("./components/PlayerChaptered.js"),P=n(k),j=e("./helpers/css3.js"),S=e("./helpers/fullscreen.js"),x=n(S),C=e("./helpers/getLanguage.js"),O=n(C),E=e("./helpers/normalizeInput.js"),T=n(E),M=e("./helpers/queryString.js"),V=n(M),F=e("./helpers/stringToBoolean.js"),L=n(F),I=e("./helpers/deviceDetection.js"),A=e("./modules/forms.js"),D=n(A),N=e("./modules/preloader.js"),B=n(N),z=e("./modules/tracking.js"),H=n(z);window.diorV7.dispatcher=new u.default,window.diorV7.DOMStateManager=a.default,window.diorV7.data={cart:{}},window.diorV7.helpers={transitionEnd:j.transitionEnd,isTactile:I.isTactile,isIE9:I.isIE9,isIE10:I.isIE10,isIE11:I.isIE11,isEdge:I.isEdge,isIE:I.isIE,fullscreen:x.default,getLanguage:O.default,normalizeInput:T.default,queryString:V.default,stringToBoolean:L.default,registerHandlebarsHelper:r.default},window.diorV7.Accordion=h.default,window.diorV7.AutoComplete=v.default,window.diorV7.AutoCompleteId=m.default,window.diorV7.AutoCompleteSearch=b.default,window.diorV7.Player=w.default,window.diorV7.PlayerChaptered=P.default,window.diorV7.preloader=B.default,window.diorV7.tracking=H.default,window.diorV7.forms=D.default,window.modules||(window.modules={}),window.core?window.core.signals={global:null}:window.core={signals:{global:null}},$(window).ready(function(){window.diorV7.helpers.isTactile(),window.diorV7.helpers.isIE(),document.removeEventListener("fullscreenchange",w.default.documentFullscreenchange),document.removeEventListener("webkitfullscreenchange",w.default.documentFullscreenchange),document.removeEventListener("mozfullscreenchange",w.default.documentFullscreenchange),document.removeEventListener("MSFullscreenChange",w.default.documentFullscreenchange),document.addEventListener("fullscreenchange",w.default.documentFullscreenchange),document.addEventListener("webkitfullscreenchange",w.default.documentFullscreenchange),document.addEventListener("mozfullscreenchange",w.default.documentFullscreenchange),document.addEventListener("MSFullscreenChange",w.default.documentFullscreenchange),fontSpy("dior-iconfont",{testString:"&#xea01;&#xea02;&#xea03;",success:function(){$("html").removeClass("icons-loading")},failure:function(){$("html").removeClass("icons-loading")},delay:10,timeOut:1e3}),window.diorV7.forms.init(),window.diorV7.popinManager=d.default.init()})},{"./components/Accordion.js":1,"./components/AutoComplete.js":2,"./components/AutoCompleteId.js":3,"./components/AutoCompleteSearch.js":4,"./components/Player.js":6,"./components/PlayerChaptered.js":7,"./helpers/css3.js":13,"./helpers/deviceDetection.js":14,"./helpers/fullscreen.js":15,"./helpers/getLanguage.js":16,"./helpers/normalizeInput.js":22,"./helpers/queryString.js":23,"./helpers/registerHandlebarsHelper.js":24,"./helpers/stringToBoolean.js":25,"./modules/DOMStateManager.js":26,"./modules/Dispatcher.js":27,"./modules/forms.js":28,"./modules/popinManager.js":29,"./modules/preloader.js":30,"./modules/tracking.js":31}],13:[function(e,t,i){"use strict";function n(){return o[Modernizr.prefixed("transition")]}Object.defineProperty(i,"__esModule",{value:!0}),i.transitionEnd=n;var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"}},{}],14:[function(e,t,i){"use strict";function n(){return void 0===u&&(u=/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|webOS/i.test(navigator.userAgent),u&&$("html").addClass("tablet")),u}function o(){return void 0===c&&(c=$("html")[0].className.match(/ie9/)),c}function r(){return void 0===d&&(d=navigator.appVersion.indexOf("MSIE 10")!==-1,d&&$("html").addClass("ie10")),d}function s(){return void 0===f&&(f=!!navigator.userAgent.match(/Trident\/7\./),f&&$("html").addClass("ie11")),f}function a(){return void 0===h&&(h=/Edge/.test(navigator.userAgent),h&&$("html").addClass("edge")),h}function l(){return void 0===p&&(p=o()||r()||s()||a(),p&&$("html").addClass("ie")),p}Object.defineProperty(i,"__esModule",{value:!0}),i.isTactile=n,i.isIE9=o,i.isIE10=r,i.isIE11=s,i.isEdge=a,i.isIE=l;var u=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0},{}],15:[function(e,t,i){"use strict";t.exports=function(e){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e[0].requestFullscreen?e[0].requestFullscreen():e[0].mozRequestFullScreen?e[0].mozRequestFullScreen():e[0].webkitRequestFullscreen?e[0].webkitRequestFullscreen():e[0].msRequestFullscreen&&e[0].msRequestFullscreen()}},{}],16:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){var e=/\/[^\/]*([A-Za-z]{2}_[A-Za-z]{2,3})/g,t=e.exec(window.location.href);return t?t[1]:(t=r.default.get("lang"),t?t:"fr_fr")};var o=e("./queryString.js"),r=n(o)},{"./queryString.js":23}],17:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,i,n){switch(t){case"==":return e==i?n.fn(this):n.inverse(this);case"===":return e===i?n.fn(this):n.inverse(this);case"!=":return e!=i?n.fn(this):n.inverse(this);case"!==":return e!==i?n.fn(this):n.inverse(this);case"<":return e<i?n.fn(this):n.inverse(this);case"<=":return e<=i?n.fn(this):n.inverse(this);case">":return e>i?n.fn(this):n.inverse(this);case">=":return e>=i?n.fn(this):n.inverse(this);case"&&":return e&&i?n.fn(this):n.inverse(this);case"||":return e||i?n.fn(this):n.inverse(this);case"%":return e%i?n.fn(this):n.inverse(this);default:return n.inverse(this)}}},{}],18:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){return new Handlebars.SafeString(t[e])}},{}],19:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){if(e)return JSON.stringify(e).replace(/(['])/g,"&apos;")}},{}],20:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){for(var i="",n=0;n<e;++n)i+=t.fn(this);return i}},{}],21:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){if(e.length>t&&e.length>0){var i=e+" ";return i=e.substr(0,t),i=e.substr(0,i.lastIndexOf(" ")),i=i.length>0?i:e.substr(0,t),new Handlebars.SafeString(i+"...")}return e}},{}],22:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={eventToCoordinate:function(e){return"undefined"!=typeof e.pageX?{x:e.pageX,y:e.pageY}:{x:e.originalEvent.changedTouches[0].pageX,y:e.originalEvent.changedTouches[0].pageY}}};i.default=n},{}],23:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={get:function(e){for(var t={},i=window.location.search.substring(1),n=i.split("&"),o=n.length,r=0;r<o;r++){var s=n[r].split("=");if("undefined"==typeof t[s[0]])t[s[0]]=decodeURIComponent(s[1]);else if("string"==typeof t[s[0]]){var a=[t[s[0]],decodeURIComponent(s[1])];t[s[0]]=a}else t[s[0]].push(decodeURIComponent(s[1]))}return e?t[e]:t},set:function(e,t,i,n){var o={},r=window.location.search.replace("?","");r&&(r.split("&"),r instanceof Array||(r=[r]),r.forEach(function(e){o[e[0]]="undefined"!=typeof e[1]?e[1]:""})),o[e]=t,r="?";for(var s in o)o.hasOwnProperty(s)&&(r+=e+"="+o[s]+"&");r=r.replace(/&$/,""),this.pushState(i,window.location.pathname+r,n)},pushState:function(e,t,i){diorV7.helpers.isIE9()?i&&(window.location.href=t):window.history.pushState(e||{},"",t)}};i.default=n},{}],24:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(e){if(y.indexOf(e)<0){switch(e){case"ifCond":window.diorV7.Handlebars.registerHelper("ifCond",r.default);break;case"stringify":window.diorV7.Handlebars.registerHelper("stringify",a.default);break;case"times":window.diorV7.Handlebars.registerHelper("times",u.default);break;case"truncate":window.diorV7.Handlebars.registerHelper("truncate",d.default);break;case"keyInObject":window.diorV7.Handlebars.registerHelper("keyInObject",h.default)}y.push(e)}})};var o=e("./handlebars/ifCond.js"),r=n(o),s=e("./handlebars/stringify.js"),a=n(s),l=e("./handlebars/times.js"),u=n(l),c=e("./handlebars/truncate.js"),d=n(c),f=e("./handlebars/keyInObject.js"),h=n(f),p=e("../../../node_modules/handlebars/runtime.js"),v=n(p),y=[];window.diorV7={},window.diorV7.Handlebars=v.default},{"../../../node_modules/handlebars/runtime.js":84,"./handlebars/ifCond.js":17,"./handlebars/keyInObject.js":18,"./handlebars/stringify.js":19,"./handlebars/times.js":20,"./handlebars/truncate.js":21}],25:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}},{}],26:[function(e,t,i){"use strict";var n={toggleExpanded:function(e,t){return t="undefined"==typeof t?"true"===e.attr("aria-expanded")?"false":"true":t?"true":"false",e.attr("aria-expanded",t)},expand:function(e){this.toggleExpanded(e,1)},retract:function(){this.toggleExpanded($el,0)},toggleHidden:function(e,t){return"undefined"==typeof t&&(t=!e.prop("hidden")),(diorV7.helpers.isIE9()||diorV7.helpers.isIE10())&&(t?e.attr("hidden","true"):e.removeAttr("hidden")),e.prop("hidden",t)},hide:function(e){this.toggleHidden(e,1)},show:function(e){this.toggleHidden(e,0)},toggleDisabled:function(e,t){return t="undefined"==typeof t?"true"===e.attr("aria-disabled")?"false":"true":t?"true":"false",e.is("button")||e.is("input")||e.is("option")||e.is("select")||e.is("textarea")?void e.prop("disabled","true"===t):e.attr("aria-disabled",t)},disable:function(e){this.toggleDisabled(e,1)},enable:function(e){this.toggleDisabled(e,0)},slideToggle:function(e,t,i,n){var o=this;"undefined"==typeof t&&(t="aria-expanded"),"undefined"==typeof i&&(i=!this.getVisibleStateFromAttribute(e,t)),i?e.slideDown(400,function(){o.setVisibleStateFromAttribute(e,t,1),"function"==typeof n&&n()}):e.slideUp(400,function(){o.setVisibleStateFromAttribute(e,t,0),"function"==typeof n&&n()})},slideDown:function(e,t,i){this.slideToggle(e,t,1,i)},slideUp:function(e,t,i){this.slideToggle(e,t,0,i)},fadeToggle:function(e,t,i,n){var o=this;"undefined"==typeof t&&(t="hidden"),"undefined"==typeof i&&(i=!this.getVisibleStateFromAttribute(e,t)),i?(this.setVisibleStateFromAttribute(e,t,1),e.fadeIn(400,function(){"function"==typeof n&&n()})):e.fadeOut(400,function(){o.setVisibleStateFromAttribute(e,t,0),"function"==typeof n&&n()})},fadeIn:function(e,t,i){this.fadeToggle(e,t,1)},fadeOut:function(e,t,i){this.fadeToggle(e,t,0)},getVisibleStateFromAttribute:function(e,t){switch(t){case"hidden":return!e.prop("hidden");case"aria-expanded":return e.attr("aria-expanded")&&"false"!==e.attr("aria-expanded")&&"0"!==e.attr("aria-expanded")}},setVisibleStateFromAttribute:function(e,t,i){switch("undefined"==typeof i&&(i=!this.getVisibleStateFromAttribute(e,t)),t){case"hidden":return this.toggleHidden(e,!i);case"aria-expanded":return this.toggleExpanded(e,i)}}};t.exports=n},{}],27:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){n(this,e),this.actions=[]}return o(e,[{key:"on",value:function(e,t,i){return this.actions[e]?this.actions[e].push({scope:i,callback:t}):this.actions[e]=[{scope:i,callback:t}],this}},{key:"off",value:function(e,t){this.actions[e]||console.warn("Dispatcher->"+e+" is undefined"),t||(this.actions[e]=[]);var i=this.actions[e].indexOf(t);return i>-1&&this.actions[e].splice(i,1),this}},{key:"trigger",value:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return this.actions[e]&&this.actions[e].forEach(function(e){if("function"==typeof e.callback){var t;e.scope?(t=e.callback).call.apply(t,[e.scope].concat(i)):e.callback.apply(e,i)}}),this}}]),e}();i.default=r},{}],28:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={init:function(){var e=$("input[placeholder]");diorV7.helpers.isIE9()&&this.IE9Placeholders(e),$(".js-sublist").each(function(){$(this).sublistSelect($($(this).data("sublist-target")),$(this).data("sublist"))}),this.initAutocomplete()},IE9Placeholders:function(e){e.each(function(){var e=$(this),t=e.parents('.accordion-section[aria-expanded="false"]');t.length&&t.show(),e.val()||e.parents(".form-field:first").addClass("show-placeholder");var i=document.createElement("div");i.className="form-field-placeholder",i.style.width=e.outerWidth()+"px",i.style.height=e.outerHeight()+"px",i.style.top=e.position().top+"px",i.style.paddingLeft=window.getComputedStyle(e[0]).paddingLeft,i.innerText=e.attr("placeholder"),e.after(i),e.val()&&n.IE9onFocus.call($(i)),t.length&&t.hide()}),$(".form-field-placholder").on("mousedown",this.IE9PlaceholderMouseDown),e.on("focus",this.IE9onFocus),e.on("focusout",this.IE9onFocusOut)},IE9PlaceholderMouseDown:function(){$(this).parents(".form-field:first").find("input:first").focus()},IE9onFocus:function(){$(this).parents(".form-field:first").removeClass("show-placeholder")},IE9onFocusOut:function(){var e=$(this);e.val()||e.parents(".form-field:first").addClass("show-placeholder")},IE9RefreshPlaceholders:function(e){e.find("input[placeholder]").each(function(){var e=$(this);e.val()&&n.IE9onFocus.call(e)})},initAutocomplete:function(){$(".js-autocomplete").each(function(){new diorV7.AutoComplete($(this))}),$(".js-autocomplete-id").each(function(){var e=$(this);new diorV7.AutoCompleteId(e,e.attr("data-autocomplete-id"),e.attr("data-autocomplete-label"),$(e.attr("data-autocomplete-hidden")),{restrictive:!0})});var e=$(".js-autocomplete-county");e.length&&$.ajax({url:diorV7.config.webservices.COUNTIES.url,type:diorV7.config.webservices.COUNTIES.method,success:function(t){var i=void 0,n=void 0;e.each(function(){n=$(this),i=new diorV7.AutoCompleteId(n,n.attr("data-autocomplete-id"),n.attr("data-autocomplete-label"),$(n.attr("data-autocomplete-hidden")),{restrictive:!0}),i.setValues(t)})}});var t=void 0,i=void 0;$(".js-autocomplete-update").each(function(){t=$(this),i=$(t.attr("data-autocomplete-update")),t.on("change",function(){var e=$("option:selected",this);i.val("").parents(".form-field").removeClass("has-success has-error"),i.data("AutoComplete").setValues(e.data("autocomplete-values"))}),i.data("AutoComplete").setValues(t.find("option:selected").data("autocomplete-values")),i.attr("data-value-id")&&i.data("AutoComplete").setFromId(i.attr("data-value-id"))})}};i.default=n},{}],29:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var o=e("../components/popins/Popin.js"),r=n(o),s=e("../components/popins/PopinDynamic.js"),a=n(s),l=e("../components/popins/PopinPlayer.js"),u=n(l),c=e("../templates.common.js"),d=(n(c),{popins:{},openPopins:[],init:function(){var e=this;this.currentLevel=0,this.minZIndex=50,this.$overlay=$("#page-overlay"),this.$overlay.on("click",function(){return e.onOverlayClick()}),$(document).on("keydown",function(t){return e.onKeyDown(t)}),diorV7.helpers.isTactile()&&(this._preventScroll=this.preventScroll.bind(this));var t=diorV7.helpers.queryString.get("popin");if(t&&""!==t){var i=this.popins[t];if(i)this.popinPlayer.open();else{var n=$("#popin-wrapper .popin-"+t);n.length?(i=this.instanciate({identifier:t,$el:n,triggerEvents:1}),i.open()):console.warn("popinManager.init -> popin that should be automatically opened not found")}}return this},instanciate:function(e,t){return e||console.warn("popinManager.instanciate -> options are required"),e.identifier||console.warn("popinManager.instanciate -> identifier is required"),e.manager=this,t?"dynamic"===t?this.popins[e.identifier]=new a.default(e):this.popins[e.identifier]=new t(e):this.popins[e.identifier]=new r.default(e),this.popins[e.identifier]},initVideoPopin:function(){var e=this;this.popinPlayer||(this.popinPlayer=diorV7.popinManager.instanciate({identifier:"popin-player",$el:$(".js-popin-player"),triggerEvents:1},u.default),this._openPopinPlayer=function(t){t.preventDefault(),e.popinPlayer.open(t)}),$(".js-popin-player-trigger").off("click",this._openPopinPlayer).on("click",this._openPopinPlayer)},openVideoFullscreen:function(e){this.popinPlayer||this.initVideoPopin(),this.popinPlayer.open(e)},toggleOverlay:function(e,t){var i=this;t?(this.currentLevel++,this.openPopins.push(e.data("popin")),diorV7.helpers.isTactile()&&$("body")[0].addEventListener("touchmove",this._preventScroll,!1),
$("html").addClass("popin-opened")):(this.currentLevel--,this.openPopins.pop(),diorV7.helpers.isTactile()&&$("body")[0].removeEventListener("touchmove",this._preventScroll),0===this.openPopins.length&&($("html").removeClass("popin-opened"),diorV7.helpers.isTactile()&&$("body").removeAttr("style"))),this.$overlay.css("z-index",this.minZIndex+this.currentLevel),e.css("z-index",this.minZIndex+this.currentLevel+1),this.currentLevel>0?this.$overlay.fadeIn(600):this.$overlay.fadeOut(600,function(){i.$overlay.removeAttr("style")})},preventScroll:function(e){e.preventDefault()},onOverlayClick:function(){this.openPopins.length&&this.openPopins[this.openPopins.length-1].close()},onKeyDown:function(e){27===e.which&&this.onOverlayClick()},open:function(e){this.popins[e].open()},close:function(e){this.popins[e].close()},isPopinOpened:function(){return this.openPopins.length>0}});i.default=d},{"../components/popins/Popin.js":9,"../components/popins/PopinDynamic.js":10,"../components/popins/PopinPlayer.js":11,"../templates.common.js":32}],30:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={preload:function(e,t){var i=this;!(e instanceof Array)&&e instanceof String&&(e=[e]);for(var o=0,r={},s=e.length,a=function(s){var a=e[s],l=void 0;if("string"==typeof a)l=a;else{if("object"!==("undefined"==typeof a?"undefined":n(a)))return"continue";l=a.src}++o,i.preloadImg(l,function(i){if(o--,r[l]=i,0===o){var n=e.map(function(e){return r[e]});t(n)}})},l=0;l<s;++l){a(l)}},preloadImg:function(e,t){var i=new Image;i.onload=t.bind(this,i),i.src=e}};i.default=o},{}],31:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={debug:localStorage.debug&&"tracking"===localStorage.debug,init:function(e,t){e||console.warn("tracking -> no data-track-universee defined on main element"),t||console.warn("tracking -> no data-track-page defined on main element"),this.universe=e,this.page=t,$("*[data-track-label], *[data-track-href], *[data-tpv], *[data-track-object]").off("click",this.track).on("click",this.track),$(".js-track-checkbox").on("change",this.trackCheckbox)},track:function(e,t){var i=$(this);if(i.attr("data-track-object")){if(!t){if(i.hasClass("js-noclick-track"))return;i.hasClass("js-stop-propagation")&&e.stopPropagation()}window.diorV7.tracking.trackObjectString(i.attr("data-track-object"))}else{var o="trackEvent";if("undefined"!=typeof i.data("track-event")&&(o=i.data("track-type")),"trackEvent"===o)n.trackEvent(i.data("track-action"),i.data("track-label"));else{if("trackPage"!==o)throw o+" isn't a valid function";n.trackPage(i.data("track-href"))}}},trackObjectString:function(e){var t="string"==typeof e?$.parseJSON(e.replace(/(\&apos\;)/g,"'")):e;t instanceof Array?t.forEach(function(e){n.pushToDataLayer(e)}):n.pushToDataLayer(t)},trackCheckbox:function(){if($(this).prop("checked")){var e="",t="*[data-track-checkbox-group="+$(this).attr("data-track-checkbox-group")+"]";$(t+":checked").length>0&&(e+=" ",$(t+":checked").each(function(t){t>0&&(e+=" and "),e+=$(this).attr("data-track-checked-value")}));var i=$.parseJSON($(this).attr("data-track-checked"));i.eventAction+=e,n.pushToDataLayer(i)}},trackPage:function(e){n.pushToDataLayer({event:"tpv",pageVirtualPath:e})},trackEvent:function(e,t){n.pushToDataLayer({event:"trackEvent",eventCategory:n.getEventCategory(),eventAction:e,eventLabel:t})},getEventCategory:function(){return diorV7.config.tracking.prefix+n.universe+"_"+n.page},updateTrackObject:function(e,t){var i=e.data("track-object")||{};$.extend(i,t),e.attr("data-track-object",JSON.stringify(i))},refreshListeners:function(e){e?e.off("click",this.track).on("click",this.track):$("*[data-track-label], *[data-track-href], *[data-tpv], *[data-track-object]").off("click",this.track).on("click",this.track)},pushToDataLayer:function(e){this.debug&&console.log("tracking -> ",e),dataLayer.push(e)}};i.default=n},{}],32:[function(e,t,i){"use strict";function n(){this.popin=window.diorV7.Handlebars.template({1:function(e,t,i,n,o){return"hidden"},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,r){var s,a,l=null!=t?t:{},u=i.helperMissing,c="function",d=e.escapeExpression;return'<div class="popin popin-'+d((a=null!=(a=i.identifier||(null!=t?t.identifier:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"identifier",hash:{},data:r}):a))+" js-popin-"+d((a=null!=(a=i.identifier||(null!=t?t.identifier:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"identifier",hash:{},data:r}):a))+'" '+(null!=(s=i.unless.call(l,null!=t?t.visible:t,{name:"unless",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+'> <button class="popin-close js-popin-close">Close</button> </div>'},useData:!0}),this.player=this.player||{},this.player.chapterSlider=window.diorV7.Handlebars.template({1:function(e,t,i,n,r){var s,a=null!=t?t:{},l=i.helperMissing,u="function",c=e.escapeExpression;return'        <li data-index="'+c((s=null!=(s=i.index||r&&r.index)?s:l,("undefined"==typeof s?"undefined":o(s))===u?s.call(a,{name:"index",hash:{},data:r}):s))+'"><span>'+c((s=null!=(s=i.name||(null!=t?t.name:t))?s:l,("undefined"==typeof s?"undefined":o(s))===u?s.call(a,{name:"name",hash:{},data:r}):s))+"</span></li> "},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,o){var r;return'<div class="player-chapter-slider"> <ul> '+(null!=(r=i.each.call(null!=t?t:{},null!=t?t.chapters:t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?r:"")+"    </ul> </div>"},useData:!0}),this.player=this.player||{},this.player.controls=window.diorV7.Handlebars.template({1:function(e,t,i,n,o){return'<div class="player-subtitles-area js-player-subtitles-area"></div>'},3:function(e,t,i,n,o){return'<button class="player-exit-fullscreen js-player-exit-fullscreen">Close</button>'},5:function(e,t,i,n,o){return'style="display: none;"'},7:function(e,t,i,n,o){var r;return'<span class="js-tooltip" data-tooltip="share">'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.locale:t)?r.share:r,t))+"</span>"},9:function(e,t,i,n,o){var r;return'<span class="js-tooltip" data-tooltip="subtitles" mode="on">'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.locale:t)?r.subtitles:r,t))+"</span>"},11:function(e,t,i,n,o){var r,s=null!=t?t:{};return'        <div class="share-container"> <ul class="share"> <li class="share-open"><a href="javascript:void(0);" class="icon-player-share js-tooltip-trigger png-bg" data-tooltip="share"></a></li> '+(null!=(r=i.if.call(s,null!=(r=null!=t?t.share:t)?r.embed:r,{name:"if",hash:{},fn:e.program(12,o,0),inverse:e.noop,data:o}))?r:"")+" "+(null!=(r=i.if.call(s,null!=(r=null!=t?t.share:t)?r.facebook:r,{name:"if",hash:{},fn:e.program(14,o,0),inverse:e.noop,data:o}))?r:"")+" "+(null!=(r=i.if.call(s,null!=(r=null!=t?t.share:t)?r.twitter:r,{name:"if",hash:{},fn:e.program(16,o,0),inverse:e.noop,data:o}))?r:"")+" "+(null!=(r=i.if.call(s,null!=(r=null!=t?t.share:t)?r.tumblr:r,{name:"if",hash:{},fn:e.program(18,o,0),inverse:e.noop,data:o}))?r:"")+' <li class="icon-player-close-share png-bg"></li> </ul> </div> '},12:function(e,t,i,n,o){return'<li><a href="javascript:void(0);" class="icon-player-embed png-bg"></a></li>'},14:function(e,t,i,n,o){var r;return'<li><a href="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.share:t)?r.facebook:r,t))+'" class="icon-player-facebook png-bg"></a></li>'},16:function(e,t,i,n,o){var r;return'<li><a href="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.share:t)?r.twitter:r,t))+'" class="icon-player-twitter png-bg"></a></li>'},18:function(e,t,i,n,o){var r;return'<li><a href="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.share:t)?r.tumblr:r,t))+'" class="icon-player-tumblr png-bg"></a></li>'},20:function(e,t,i,n,o){var r;return'<button class="player-subs js-toggle-subs js-tooltip-trigger" data-tooltip="subtitles" aria-label="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.locale:t)?r.subtitles:r,t))+'"></button>'},22:function(e,t,i,n,o){var r;return'<button class="player-sound js-toggle-sound" aria-label="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.locale:t)?r.volume:r,t))+'"></button>'},24:function(e,t,i,n,o){var r;return'        <div class="player-volume js-player-volume js-tooltip-trigger" data-tooltip="volume" aria-label="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.locale:t)?r.volume:r,t))+'"> <div class="player-volume-input-range js-player-volume-input-range"> </div> <ul class="player-volume-bars"> <li></li> <li></li> <li></li> <li></li> <li></li> <li></li> <li></li> <li></li> </ul> </div> '},26:function(e,t,i,n,o){var r;return'<button class="player-fullscreen js-player-fullscreen js-tooltip-trigger" data-tooltip="fullscreen" aria-label="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.locale:t)?r.fullscreen:r,t))+'"></button>'},28:function(e,t,i,n,o){return'<span class="player-chapter js-player-chapter"></span>'},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,r){var s,a,l=null!=t?t:{},u=i.helperMissing,c="function",d=e.escapeExpression,f=e.lambda;return" "+(null!=(s=i.if.call(l,null!=t?t.hasSubtitles:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+' <button class="'+d((a=null!=(a=i.centralPlayButton||(null!=t?t.centralPlayButton:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"centralPlayButton",hash:{},data:r}):a))+'">Play</button> '+(null!=(s=i.if.call(l,null!=t?t.hasFullscreen:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?s:"")+' <button class="'+d((a=null!=(a=i.repeat||(null!=t?t.repeat:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"repeat",hash:{},data:r}):a))+'">Repeat</button> <div class="'+d((a=null!=(a=i.controlsWrapper||(null!=t?t.controlsWrapper:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"controlsWrapper",hash:{},data:r}):a))+'"> <a class="player-diortv js-player-diortv" target="_blank" href="'+d((a=null!=(a=i.diorTV||(null!=t?t.diorTV:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"diorTV",hash:{},data:r}):a))+'">DiorTV</a> <div class="player-secondary-controls"> <div class="tooltips" '+(null!=(s=i.if.call(l,null!=t?t.tooltipsHidden:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))?s:"")+"> "+(null!=(s=i.if.call(l,null!=t?t.share:t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))?s:"")+" "+(null!=(s=i.if.call(l,null!=t?t.hasSubtitles:t,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r}))?s:"")+' <span class="js-tooltip" data-tooltip="volume">'+d(f(null!=(s=null!=t?t.locale:t)?s.volume:s,t))+'</span> <span class="js-tooltip" data-tooltip="fullscreen">'+d(f(null!=(s=null!=t?t.locale:t)?s.fullscreen:s,t))+"</span> </div> "+(null!=(s=i.if.call(l,null!=t?t.share:t,{name:"if",hash:{},fn:e.program(11,r,0),inverse:e.noop,data:r}))?s:"")+" "+(null!=(s=i.if.call(l,null!=t?t.hasSubtitles:t,{name:"if",hash:{},fn:e.program(20,r,0),inverse:e.noop,data:r}))?s:"")+" "+(null!=(s=i.if.call(l,null!=t?t.hasMute:t,{name:"if",hash:{},fn:e.program(22,r,0),inverse:e.noop,data:r}))?s:"")+" "+(null!=(s=i.if.call(l,null!=t?t.hasSoundBar:t,{name:"if",hash:{},fn:e.program(24,r,0),inverse:e.noop,data:r}))?s:"")+" "+(null!=(s=i.if.call(l,null!=t?t.hasFullscreen:t,{name:"if",hash:{},fn:e.program(26,r,0),inverse:e.noop,data:r}))?s:"")+' </div> <button class="player-play js-player-play"> <span class="player-play-paused">Play</span> <span class="player-play-playing">Pause</span> </button> <div class="player-time"> <span class="js-player-current-time">'+d((a=null!=(a=i.currentTime||(null!=t?t.currentTime:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"currentTime",hash:{},data:r}):a))+"</span> / "+d((a=null!=(a=i.duration||(null!=t?t.duration:t))?a:u,("undefined"==typeof a?"undefined":o(a))===c?a.call(l,{name:"duration",hash:{},data:r}):a))+" </div> "+(null!=(s=i.if.call(l,null!=t?t.hasChapters:t,{name:"if",hash:{},fn:e.program(28,r,0),inverse:e.noop,data:r}))?s:"")+' <div class="player-seeker js-player-seeker"></div> <div class="player-preview"></div> </div>'},useData:!0})}Object.defineProperty(i,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.default=new n},{}],33:[function(e,t,i){"use strict";e("../../modules/es6.array.find"),t.exports=e("../../modules/_core").Array.find},{"../../modules/_core":41,"../../modules/es6.array.find":65}],34:[function(e,t,i){"use strict";t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],35:[function(e,t,i){"use strict";var n=e("./_wks")("unscopables"),o=Array.prototype;void 0==o[n]&&e("./_hide")(o,n,{}),t.exports=function(e){o[n][e]=!0}},{"./_hide":50,"./_wks":64}],36:[function(e,t,i){"use strict";var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":54}],37:[function(e,t,i){"use strict";var n=e("./_ctx"),o=e("./_iobject"),r=e("./_to-object"),s=e("./_to-length"),a=e("./_array-species-create");t.exports=function(e,t){var i=1==e,l=2==e,u=3==e,c=4==e,d=6==e,f=5==e||d,h=t||a;return function(t,a,p){for(var v,y,m=r(t),g=o(m),b=n(a,p,3),_=s(g.length),w=0,$=i?h(t,_):l?h(t,0):void 0;_>w;w++)if((f||w in g)&&(v=g[w],y=b(v,w,m),e))if(i)$[w]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:$.push(v)}else if(c)return!1;return d?-1:u||c?c:$}}},{"./_array-species-create":39,"./_ctx":42,"./_iobject":52,"./_to-length":60,"./_to-object":61}],38:[function(e,t,i){"use strict";var n=e("./_is-object"),o=e("./_is-array"),r=e("./_wks")("species");t.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&(t=t[r],null===t&&(t=void 0))),void 0===t?Array:t}},{"./_is-array":53,"./_is-object":54,"./_wks":64}],39:[function(e,t,i){"use strict";var n=e("./_array-species-constructor");t.exports=function(e,t){return new(n(e))(t)}},{"./_array-species-constructor":38}],40:[function(e,t,i){"use strict";var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],41:[function(e,t,i){"use strict";var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},{}],42:[function(e,t,i){"use strict";var n=e("./_a-function");t.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,o){return e.call(t,i,n,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":34}],43:[function(e,t,i){"use strict";t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],44:[function(e,t,i){"use strict";t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":47}],45:[function(e,t,i){"use strict";var n=e("./_is-object"),o=e("./_global").document,r=n(o)&&n(o.createElement);t.exports=function(e){return r?o.createElement(e):{}}},{"./_global":48,"./_is-object":54}],46:[function(e,t,i){"use strict";var n=e("./_global"),o=e("./_core"),r=e("./_hide"),s=e("./_redefine"),a=e("./_ctx"),l="prototype",u=function e(t,i,u){var c,d,f,h,p=t&e.F,v=t&e.G,y=t&e.S,m=t&e.P,g=t&e.B,b=v?n:y?n[i]||(n[i]={}):(n[i]||{})[l],_=v?o:o[i]||(o[i]={}),w=_[l]||(_[l]={});v&&(u=i);for(c in u)d=!p&&b&&void 0!==b[c],f=(d?b:u)[c],h=g&&d?a(f,n):m&&"function"==typeof f?a(Function.call,f):f,b&&s(b,c,f,t&e.U),_[c]!=f&&r(_,c,h),m&&w[c]!=f&&(w[c]=f)};n.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{"./_core":41,"./_ctx":42,"./_global":48,"./_hide":50,"./_redefine":57}],47:[function(e,t,i){"use strict";t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],48:[function(e,t,i){"use strict";var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],49:[function(e,t,i){"use strict";var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],50:[function(e,t,i){"use strict";var n=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,i){return n.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},{"./_descriptors":44,"./_object-dp":55,"./_property-desc":56}],51:[function(e,t,i){"use strict";t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":44,"./_dom-create":45,"./_fails":47}],52:[function(e,t,i){"use strict";var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":40}],53:[function(e,t,i){"use strict";var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":40}],54:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function(e){return"object"===("undefined"==typeof e?"undefined":n(e))?null!==e:"function"==typeof e}},{}],55:[function(e,t,i){"use strict";var n=e("./_an-object"),o=e("./_ie8-dom-define"),r=e("./_to-primitive"),s=Object.defineProperty;i.f=e("./_descriptors")?Object.defineProperty:function(e,t,i){if(n(e),t=r(t,!0),n(i),o)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},{"./_an-object":36,"./_descriptors":44,"./_ie8-dom-define":51,"./_to-primitive":62}],56:[function(e,t,i){"use strict";t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],57:[function(e,t,i){"use strict";var n=e("./_global"),o=e("./_hide"),r=e("./_has"),s=e("./_uid")("src"),a="toString",l=Function[a],u=(""+l).split(a);e("./_core").inspectSource=function(e){return l.call(e)},(t.exports=function(e,t,i,a){var l="function"==typeof i;l&&(r(i,"name")||o(i,"name",t)),e[t]!==i&&(l&&(r(i,s)||o(i,s,e[t]?""+e[t]:u.join(String(t)))),e===n?e[t]=i:a?e[t]?e[t]=i:o(e,t,i):(delete e[t],o(e,t,i)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||l.call(this)})},{"./_core":41,"./_global":48,"./_has":49,"./_hide":50,"./_uid":63}],58:[function(e,t,i){"use strict";var n=e("./_global"),o="__core-js_shared__",r=n[o]||(n[o]={});t.exports=function(e){return r[e]||(r[e]={})}},{"./_global":48}],59:[function(e,t,i){"use strict";var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},{}],60:[function(e,t,i){"use strict";var n=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"./_to-integer":59}],61:[function(e,t,i){"use strict";var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":43}],62:[function(e,t,i){"use strict";var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var i,o;if(t&&"function"==typeof(i=e.toString)&&!n(o=i.call(e)))return o;if("function"==typeof(i=e.valueOf)&&!n(o=i.call(e)))return o;if(!t&&"function"==typeof(i=e.toString)&&!n(o=i.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":54}],63:[function(e,t,i){"use strict";var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],64:[function(e,t,i){"use strict";var n=e("./_shared")("wks"),o=e("./_uid"),r=e("./_global").Symbol,s="function"==typeof r,a=t.exports=function(e){return n[e]||(n[e]=s&&r[e]||(s?r:o)("Symbol."+e))};a.store=n},{"./_global":48,"./_shared":58,"./_uid":63}],65:[function(e,t,i){"use strict";var n=e("./_export"),o=e("./_array-methods")(5),r="find",s=!0;r in[]&&Array(1)[r](function(){s=!1}),n(n.P+n.F*s,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")(r)},{"./_add-to-unscopables":35,"./_array-methods":37,"./_export":46}],66:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(){var e=new a.HandlebarsEnvironment;return h.extend(e,a),e.SafeString=u.default,e.Exception=d.default,e.Utils=h,e.escapeExpression=h.escapeExpression,e.VM=v,e.template=function(t){return v.template(t,e)},e}i.__esModule=!0;var s=e("./handlebars/base"),a=o(s),l=e("./handlebars/safe-string"),u=n(l),c=e("./handlebars/exception"),d=n(c),f=e("./handlebars/utils"),h=o(f),p=e("./handlebars/runtime"),v=o(p),y=e("./handlebars/no-conflict"),m=n(y),g=r();g.create=r,m.default(g),g.default=g,i.default=g,t.exports=i.default},{"./handlebars/base":67,"./handlebars/exception":70,"./handlebars/no-conflict":80,"./handlebars/runtime":81,"./handlebars/safe-string":82,"./handlebars/utils":83}],67:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,i){this.helpers=e||{},this.partials=t||{},this.decorators=i||{},l.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}i.__esModule=!0,i.HandlebarsEnvironment=o;var r=e("./utils"),s=e("./exception"),a=n(s),l=e("./helpers"),u=e("./decorators"),c=e("./logger"),d=n(c),f="4.0.5";i.VERSION=f;var h=7;i.COMPILER_REVISION=h;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};i.REVISION_CHANGES=p;var v="[object Object]";o.prototype={constructor:o,logger:d.default,log:d.default.log,registerHelper:function(e,t){if(r.toString.call(e)===v){if(t)throw new a.default("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(r.toString.call(e)===v)r.extend(this.partials,e);else{if("undefined"==typeof t)throw new a.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(r.toString.call(e)===v){if(t)throw new a.default("Arg not supported with multiple decorators");r.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var y=d.default.log;i.log=y,i.createFrame=r.createFrame,i.logger=d.default},{"./decorators":68,"./exception":70,"./helpers":71,"./logger":79,"./utils":83}],68:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){s.default(e)}i.__esModule=!0,i.registerDefaultDecorators=o;var r=e("./decorators/inline"),s=n(r)},{"./decorators/inline":69}],69:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("../utils");i.default=function(e){e.registerDecorator("inline",function(e,t,i,o){var r=e;return t.partials||(t.partials={},r=function o(r,s){var a=i.partials;i.partials=n.extend({},a,t.partials);var o=e(r,s);return i.partials=a,o}),t.partials[o.args[0]]=o.fn,r})},t.exports=i.default},{"../utils":83}],70:[function(e,t,i){"use strict";function n(e,t){var i=t&&t.loc,r=void 0,s=void 0;i&&(r=i.start.line,s=i.start.column,e+=" - "+r+":"+s);for(var a=Error.prototype.constructor.call(this,e),l=0;l<o.length;l++)this[o[l]]=a[o[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),i&&(this.lineNumber=r,this.column=s)}i.__esModule=!0;var o=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,i.default=n,t.exports=i.default},{}],71:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){s.default(e),l.default(e),c.default(e),f.default(e),p.default(e),y.default(e),g.default(e)}i.__esModule=!0,i.registerDefaultHelpers=o;var r=e("./helpers/block-helper-missing"),s=n(r),a=e("./helpers/each"),l=n(a),u=e("./helpers/helper-missing"),c=n(u),d=e("./helpers/if"),f=n(d),h=e("./helpers/log"),p=n(h),v=e("./helpers/lookup"),y=n(v),m=e("./helpers/with"),g=n(m)},{"./helpers/block-helper-missing":72,"./helpers/each":73,"./helpers/helper-missing":74,"./helpers/if":75,"./helpers/log":76,"./helpers/lookup":77,"./helpers/with":78}],72:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("../utils");i.default=function(e){e.registerHelper("blockHelperMissing",function(t,i){var o=i.inverse,r=i.fn;if(t===!0)return r(this);if(t===!1||null==t)return o(this);if(n.isArray(t))return t.length>0?(i.ids&&(i.ids=[i.name]),e.helpers.each(t,i)):o(this);if(i.data&&i.ids){var s=n.createFrame(i.data);s.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:s}}return r(t,i)})},t.exports=i.default},{"../utils":83}],73:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.__esModule=!0;var r=e("../utils"),s=e("../exception"),a=n(s);i.default=function(e){e.registerHelper("each",function(e,t){function i(t,i,o){c&&(c.key=t,c.index=i,c.first=0===i,c.last=!!o,d&&(c.contextPath=d+t)),u+=n(e[t],{data:c,blockParams:r.blockParams([e[t],t],[d+t,null])})}if(!t)throw new a.default("Must pass iterator to #each");var n=t.fn,s=t.inverse,l=0,u="",c=void 0,d=void 0;if(t.data&&t.ids&&(d=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(c=r.createFrame(t.data)),e&&"object"===("undefined"==typeof e?"undefined":o(e)))if(r.isArray(e))for(var f=e.length;l<f;l++)l in e&&i(l,l,l===e.length-1);else{var h=void 0;for(var p in e)e.hasOwnProperty(p)&&(void 0!==h&&i(h,l-1),h=p,l++);void 0!==h&&i(h,l-1,!0)}return 0===l&&(u=s(this)),u})},t.exports=i.default},{"../exception":70,"../utils":83}],74:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0;var o=e("../exception"),r=n(o);i.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=i.default},{"../exception":70}],75:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("../utils");i.default=function(e){e.registerHelper("if",function(e,t){return n.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||n.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,i){return e.helpers.if.call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},t.exports=i.default},{"../utils":83}],76:[function(e,t,i){"use strict";i.__esModule=!0,i.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var o=1;null!=i.hash.level?o=i.hash.level:i.data&&null!=i.data.level&&(o=i.data.level),t[0]=o,e.log.apply(e,t)})},t.exports=i.default},{}],77:[function(e,t,i){"use strict";i.__esModule=!0,i.default=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},t.exports=i.default},{}],78:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("../utils");i.default=function(e){e.registerHelper("with",function(e,t){n.isFunction(e)&&(e=e.call(this));var i=t.fn;if(n.isEmpty(e))return t.inverse(this);var o=t.data;return t.data&&t.ids&&(o=n.createFrame(t.data),o.contextPath=n.appendContextPath(t.data.contextPath,t.ids[0])),i(e,{data:o,blockParams:n.blockParams([e],[o&&o.contextPath])})})},t.exports=i.default},{"../utils":83}],79:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("./utils"),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=n.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];console[t].apply(console,n)}}};i.default=o,t.exports=i.default},{"./utils":83}],80:[function(e,t,i){(function(e){"use strict";i.__esModule=!0,i.default=function(t){var i="undefined"!=typeof e?e:window,n=i.Handlebars;t.noConflict=function(){return i.Handlebars===t&&(i.Handlebars=n),t}},t.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],81:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){var t=e&&e[0]||1,i=g.COMPILER_REVISION;if(t!==i){if(t<i){var n=g.REVISION_CHANGES[i],o=g.REVISION_CHANGES[t];throw new m.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new m.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function s(e,t){function i(i,n,o){o.hash&&(n=v.extend({},n,o.hash),o.ids&&(o.ids[0]=!0)),i=t.VM.resolvePartial.call(this,i,n,o);var r=t.VM.invokePartial.call(this,i,n,o);if(null==r&&t.compile&&(o.partials[o.name]=t.compile(i,e.compilerOptions,t),r=o.partials[o.name](n,o)),null!=r){if(o.indent){for(var s=r.split("\n"),a=0,l=s.length;a<l&&(s[a]||a+1!==l);a++)s[a]=o.indent+s[a];r=s.join("\n")}return r}throw new m.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function n(t){function i(t){return""+e.main(o,t,o.helpers,o.partials,s,l,a)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=r.data;n._setup(r),!r.partial&&e.useData&&(s=d(t,s));var a=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(a=r.depths?t!==r.depths[0]?[t].concat(r.depths):r.depths:[t]),(i=f(e.main,i,o,r.depths||[],s,l))(t,r)}if(!t)throw new m.default("No environment passed to template");if(!e||!e.main)throw new m.default("Unknown template object: "+("undefined"==typeof e?"undefined":h(e)));e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var o={strict:function(e,t){if(!(t in e))throw new m.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var i=e.length,n=0;n<i;n++)if(e[n]&&null!=e[n][t])return e[n][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:v.escapeExpression,invokePartial:i,fn:function(t){var i=e[t];return i.decorator=e[t+"_d"],i},programs:[],program:function(e,t,i,n,o){var r=this.programs[e],s=this.fn(e);return t||o||n||i?r=a(this,e,s,t,i,n,o):r||(r=this.programs[e]=a(this,e,s)),r},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var i=e||t;return e&&t&&e!==t&&(i=v.extend({},t,e)),i},noop:t.VM.noop,compilerInfo:e.compiler};return n.isTop=!0,n._setup=function(i){i.partial?(o.helpers=i.helpers,o.partials=i.partials,o.decorators=i.decorators):(o.helpers=o.merge(i.helpers,t.helpers),e.usePartial&&(o.partials=o.merge(i.partials,t.partials)),(e.usePartial||e.useDecorators)&&(o.decorators=o.merge(i.decorators,t.decorators)))},n._child=function(t,i,n,r){if(e.useBlockParams&&!n)throw new m.default("must pass block params");if(e.useDepths&&!r)throw new m.default("must pass parent depths");return a(o,t,e[t],i,0,n,r)},n}function a(e,t,i,n,o,r,s){function a(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return s&&t!==s[0]&&(a=[t].concat(s)),i(e,t,e.helpers,e.partials,o.data||n,r&&[o.blockParams].concat(r),a)}return a=f(i,a,e,s,n,r),a.program=t,a.depth=s?s.length:0,a.blockParams=o||0,a}function l(e,t,i){return e?e.call||i.name||(i.name=e,
e=i.partials[e]):e="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],e}function u(e,t,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=void 0;if(i.fn&&i.fn!==c&&(i.data=g.createFrame(i.data),n=i.data["partial-block"]=i.fn,n.partials&&(i.partials=v.extend({},i.partials,n.partials))),void 0===e&&n&&(e=n),void 0===e)throw new m.default("The partial "+i.name+" could not be found");if(e instanceof Function)return e(t,i)}function c(){return""}function d(e,t){return t&&"root"in t||(t=t?g.createFrame(t):{},t.root=e),t}function f(e,t,i,n,o,r){if(e.decorator){var s={};t=e.decorator(t,s,i,n&&n[0],o,r,n),v.extend(t,s)}return t}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.__esModule=!0,i.checkRevision=r,i.template=s,i.wrapProgram=a,i.resolvePartial=l,i.invokePartial=u,i.noop=c;var p=e("./utils"),v=o(p),y=e("./exception"),m=n(y),g=e("./base")},{"./base":67,"./exception":70,"./utils":83}],82:[function(e,t,i){"use strict";function n(e){this.string=e}i.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},i.default=n,t.exports=i.default},{}],83:[function(e,t,i){"use strict";function n(e){return f[e]}function o(e){for(var t=1;t<arguments.length;t++)for(var i in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],i)&&(e[i]=arguments[t][i]);return e}function r(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function s(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return p.test(e)?e.replace(h,n):e}function a(e){return!e&&0!==e||!(!m(e)||0!==e.length)}function l(e){var t=o({},e);return t._parent=e,t}function u(e,t){return e.path=t,e}function c(e,t){return(e?e+".":"")+t}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.__esModule=!0,i.extend=o,i.indexOf=r,i.escapeExpression=s,i.isEmpty=a,i.createFrame=l,i.blockParams=u,i.appendContextPath=c;var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,p=/[&<>"'`=]/,v=Object.prototype.toString;i.toString=v;
// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt
/* eslint-disable func-style */
var y=function(e){return"function"==typeof e};y(/x/)&&(i.isFunction=y=function(e){return"function"==typeof e&&"[object Function]"===v.call(e)}),i.isFunction=y;var m=Array.isArray||function(e){return!(!e||"object"!==("undefined"==typeof e?"undefined":d(e)))&&"[object Array]"===v.call(e)};i.isArray=m},{}],84:[function(e,t,i){"use strict";t.exports=e("./dist/cjs/handlebars.runtime").default},{"./dist/cjs/handlebars.runtime":66}]},{},[12]);
(function( diorV7 ) {

    var _envPrefix = window.location.host.indexOf("happyend-prep")>=0 ? "/"+window.location.pathname.split("/")[1] : "";

    diorV7.config = {

        tracking: {
            prefix: 'DiorV7_',
            wishlist: {
                connected: '<Connected>',
                notConnected: '<NotConnected>'
            }
        },

        /* Max number of item in Roll */
        WISHLIST_LIMIT: 5,

        webservices: {
            ACCOUNT: {
                ADDRESS: {
                    DELETE: {url: _envPrefix + '/contrib/webservices/ws.php?ws=account/address', method: 'DELETE'}
                },

                FORGOTTEN_PASSWORD: {
                    url: _envPrefix + '/contrib/webservices/ws.php?ws=account/password',
                    method: 'GET'
                },

                ORDER: {
                    CANCEL: {url: _envPrefix + '/contrib/webservices/ws.php?ws=account/order', method: 'DELETE'}
                },

                RETURN_PICKUP_TIME: { url: _envPrefix + '/contrib/webservices/ws.php?ws=account/return-pickup-time', method: 'GET' },

                VIDEOS: {
                    GET: {url: _envPrefix + '/contrib/webservices/ws.php?ws=account/videos', method: 'GET'},
                    DELETE: {url: _envPrefix + '/contrib/webservices/ws.php?ws=account/videos', method: 'DELETE'}
                },
                WISHLIST: {
                    CDC: {
                        GET: {
                            url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product',
                            method: 'GET',
                            contentType: 'application/json'
                        },
                        DELETE: {
                            url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product',
                            method: 'DELETE',
                            contentType: 'application/json'
                        },
                        UPDATE_PRODUCT: {url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product', method: 'UPDATE'},
                        POST: {
                            url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product',
                            method: 'POST',
                            contentType: 'application/json',
                            xhrFields: {
                                withCredentials: true
                            }
                        },
                        NOT_LOGGED: {
                            LOGIN: {
                                url: '/contrib/webservices/ws.php?ws=account/wishlist-product',
                                method: 'POST'
                            },
                            CREATE: {
                                url: '/contrib/webservices/ws.php?ws=account/wishlist-product?login',
                                method: 'POST'
                            }
                        }
                    },
                    PCD: {
                        GET: {
                            url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product',
                            method: 'GET',
                            contentType: 'application/json'
                        },
                        DELETE: {
                            url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product',
                            method: 'DELETE',
                            contentType: 'application/json'
                        },
                        UPDATE_PRODUCT: {url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product', method: 'UPDATE'},
                        POST: {
                            url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product',
                            method: 'POST',
                            contentType: 'application/json',
                            xhrFields: {
                                withCredentials: true
                            }
                        },
                        NOT_LOGGED: {
                            LOGIN: {
                                url: '/pages/account/signin.php',
                                method: 'POST'
                            },
                            CREATE: {
                                url: '/pages/account/create.php',
                                method: 'POST'
                            }
                        }
                    },
                    SHARE: {url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-share', method: 'POST', contentType: 'application/json'}
                }
            },

            CART: {
                PCD: {
                    GET: {
                        url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/pcd',
                        method: 'GET',
                        contentType: 'application/json',
                        formatter: null
                    },
                    ADD: {
                        url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/add',
                        method: 'GET',
                        contentType: 'application/json',
                        formatter: null
                    },
                    DELETE: {
                        url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/pcd',
                        method: 'DELETE',
                        contentType: 'application/json',
                        formatter: null
                    },
                    // is updated in front? (instead of back)
                    jsUpdate: true
                },
                CDC: {
                    GET: {
                        url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/cdc',
                        method: 'GET',
                        contentType: 'application/json',
                        formatter: null
                    },
                    ADD: {
                        url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/add',
                        method: 'GET',
                        contentType: 'application/json',
                        formatter: null
                    },
                    DELETE: {
                        url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/cdc',
                        method: 'DELETE',
                        contentType: 'application/json',
                        formatter: null
                    }
                },
                TIMEOUT_DELAY: 5000
            },

            COUNTIES: {
                url: _envPrefix + '/contrib/webservices/ws.php?ws=uk-counties',
                method: 'GET',
            },

            HOME: {
                RANDOM: {
                    url: _envPrefix + '/contrib/webservices/ws.php?ws=home/random-product'
                }
            },

            NEWSLETTER: {url: _envPrefix + '/contrib/webservices/ws.php?ws=newsletter', method: 'POST'},

            PRODUCT: {
                STOCK_ALERT: {
                    url: _envPrefix + '/contrib/webservices/ws.php?ws=product/stock-alert',
                    method: 'POST',
                    contentType: 'application/json',
                    formatter: null
                },
                STOCK_STATUS: {
                    url: _envPrefix + '/contrib/webservices/ws.php?ws=product/stock-status',
                    method: 'POST',
                    timeout: false,
                    contentType: 'application/json',
                    formatter: null
                }
            },

            SEARCH: {
                GSA: {url: 'http://dior.com:8888/search', method: 'GET'}, //'http://gsa.dior.com/search'
                PRICESRANGE: {url: _envPrefix + '../../assets/json/pricesrange.json', method: 'GET'},
                AUTOCOMPLETE_SUGGESTIONS: {
                    url: _envPrefix + '/contrib/webservices/ws.php?ws=search/autocomplete',
                    method: 'POST'
                }, //http://gsa.dior.com/suggest //'http://dior.com:8888/suggest'
                SEARCH_SUGGESTIONS: {url: _envPrefix + '../../assets/json/suggestions.json', method: 'GET'}
            },

            SAMPLING: {
                REQUEST: {
                    url: _envPrefix + '/contrib/webservices/ws.php?ws=sampling/request', method: 'POST'
                }
            },

            ZIPCODE: {url: _envPrefix + '/contrib/webservices/ws.php?ws=zipcode', method: 'POST'}
        },

        cookies: {

            domain: window.location.host.substring(window.location.host.lastIndexOf(".", window.location.host.lastIndexOf(".") - 1) + 1),
            path: '/',
            expires: 1,

            CART: {
                PCD: {
                    name: 'CartItemsCount',
                    // is updated in front? (instead of back)
                    jsUpdate: true
                },
                CDC: {
                    name: 'cdc_cart_items_count',
                    // is updated in front? (instead of back)
                    jsUpdate: true
                }
            },
            CONNECTED: 'global_isauthenticated',
            USER: 'userData',
            WISHLIST: {
                CDC: 'cdc_wishlist_items_id',
                PCD: 'pcd_wishlist_items_id',
                // is updated in front? (instead of back)
                jsUpdate: true
            },
            UNIVERSE: 'currentUniverse'
        },

        url: {
            /* default redirection url on player DiorTV button */
            diorTV: 'http://www.dior.com/diortv',
            /* Wishlist add btn: redirection url if not connected */
            account: "https://wws.dior.com/beauty/fr_fr/account-signin.html"
        },

        MMM: {
            account: 'diorparfums',
            accounts: ['onedior','diorparfums']
        }
    };

    // QUICKBUY / ADDTOCART V6 CONFIG //
    if (!window.core) {
        window.core = {};
    }
    window.core.AjaxConfig = {
        QuickBuy: {
            url : '../../assets_v6/json/quick_buy_makeup.json',
            method: 'GET'
        },
        Cart: {
            PCD: {
                COOKIE: 'CartItemsCount'
            },
            CDC: {
                COOKIE: 'cdc_cart_items_count'
            }
        },
        Product: {
            STOCK_ALERT:            {url: '../../assets_v6/json/stockAlert.json', method: 'POST'},
            SEND_BY_MAIL:           {url: '../../assets_v6/json/sendByMail.json', method: 'POST'}
        }
    };

    //#####################################################################
    // CHINA AJAX FORMATTER
    //#####################################################################
    // AJAX INTERCEPTOR
    $.ajaxSetup({
        beforeSend: function(xhr, settings ) {
            if (settings.formatter && settings.formatter.Request) {
                settings.data = settings.formatter.Request( settings.data );
            }
        },
        // FORMAT RESPONSE
        dataFilter: function( data, type ) {
            if (this.formatter && this.formatter.Response) {
                return this.formatter.Response( JSON.parse(data) );
            } else {
                return data;
            }
        }
    });
    /**
     * Exemple of formatter object (both function takes a string and must return a string):
     * formatter: {
     *     Request: function( data ) {
     *         return data;
     *     },
     *     Response: function(response) {
     *          return response;
     *     }
     * }
     */

})( window.diorV7 = window.diorV7 || {} );

(function( diorV7 ) {

    diorV7.config.webservices.ACCOUNT.ADDRESS.EDIT = {url: '/couture/ecommerce/customer/address/edit', method: 'GET'};
    diorV7.config.webservices.ACCOUNT.ADDRESS.DELETE = {url: '/couture/ecommerce/customer/address/delete', method: 'POST'};
    diorV7.config.webservices.ACCOUNT.ORDER.CANCEL = {url: '/couture/ecommerce/sales/order/refundInipay', method: 'POST'};
    diorV7.config.webservices.ACCOUNT.FORGOTTEN_PASSWORD =  {
        url: '/couture/ecommerce/customer/account/forgotpasswordPost',
        method: 'POST'
    };
    diorV7.config.webservices.ACCOUNT.WISHLIST.CDC.GET.xhrFields = { withCredentials: true };
    diorV7.config.webservices.ACCOUNT.WISHLIST.CDC.DELETE.xhrFields = { withCredentials: true };
    diorV7.config.webservices.ACCOUNT.WISHLIST.CDC.UPDATE_PRODUCT.xhrFields = { withCredentials: true };

    diorV7.config.webservices.SEARCH.GSA.url = 'http://gsa.dior.com';
    diorV7.config.webservices.SEARCH.PRICESRANGE.url = '/search/recherche/pricesrange';
    diorV7.config.webservices.SEARCH.AUTOCOMPLETE_SUGGESTIONS = {url: 'http://gsa.dior.com/suggest' , method: 'GET'};
    diorV7.config.webservices.SEARCH.SEARCH_SUGGESTIONS = '/search/recherche/suggestions';
    diorV7.config.webservices.HOME.RANDOM = {url: '/couture/ecommerce/catalog/product/getHomePageBlocNew/category/'+$('.new-in').data('idcategory')+'/lines/'+$('.new-in').data('lines')+'/frequency/'+$('.new-in').data('frequency')
    +'/ignoredId/'+$('.new-in').data('ignoredId')+'?___store='+$('.new-in').data('store')};



    diorV7.config.webservices.PRODUCT.STOCK_ALERT.contentType = "application/x-www-form-urlencoded";
    diorV7.config.webservices.ACCOUNT.WISHLIST.CDC.GET.contentType = "application/x-www-form-urlencoded; charset=UTF-8";
    diorV7.config.webservices.ACCOUNT.WISHLIST.CDC.UPDATE_PRODUCT.contentType = "application/json";

    diorV7.config.cookies.CART.PCD.jsUpdate = false;
    diorV7.config.cookies.CART.CDC.jsUpdate = false;
    diorV7.config.cookies.WISHLIST.jsUpdate = false;
})( window.diorV7 = window.diorV7 || {} );
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _Header = require('./capsule/header/Header.js');

var _Header2 = _interopRequireDefault(_Header);

var _Footer = require('./capsule/footer/Footer.js');

var _Footer2 = _interopRequireDefault(_Footer);

var _Cart = require('./modules/Cart.js');

var _Cart2 = _interopRequireDefault(_Cart);

var _wishList = require('./modules/wishList.js');

var _wishList2 = _interopRequireDefault(_wishList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var capsule = {
    init: function init() {
        $('html').removeClass('loading');

        if (!window.diorV7) window.diorV7 = {};
        diorV7.Footer = _Footer2.default;
        diorV7.Header = _Header2.default;

        // default options for cookies
        if (!window.diorV7.helpers.isIE11()) {
            // IE11 in strict mode doesn't accept domain
            Cookies.defaults.domain = diorV7.config.cookies.domain;
        }
        Cookies.defaults.path = diorV7.config.cookies.path;
        Cookies.defaults.expires = diorV7.config.cookies.expires;

        var _cart = new _Cart2.default();
        diorV7.wishListModule = new _wishList2.default();

        _Header2.default.init();
        _Footer2.default.init();

        if (diorV7) diorV7.helpers.isIE();

        // Forms init
        var $capsule = $('#popin-wrapper');
        if (_Header2.default.$el.length) $capsule = $capsule.add(_Header2.default.$el);
        if (_Footer2.default.$footer.length) $capsule = $capsule.add(_Footer2.default.$footer);

        $capsule.find('.js-form').formValidator();

        $capsule.find('.js-select').each(function () {
            var $this = $(this);

            $this.customSelect({
                // allows customSelect to consider default option as default
                isDefault: function isDefault($option) {
                    return $option.hasClass('js-custom-select-default');
                },
                defaultInList: $this.hasClass('js-default-in-list') //should default option show in list
            });
        });

        if (diorV7.helpers.isTactile()) {
            $('.dior-v7').find('input[type="text"], input[type="email"], input[type="number"], input[type="password"], input[type="tel"], input[type="url"], textarea').on('focus', function () {
                $('html').addClass('keyboard-opened');
            }).on('blur', function () {
                $('html').removeClass('keyboard-opened');
            });
        }

        // expose method to switch from fullbrowser to fluid
        window.diorCapsule = {
            toFluid: function toFluid() {
                $('html').removeClass('fullbrowser');
                _Header2.default.toFluid();
                $('html').removeClass('header-transparent footer--light footer--transparent');
            }
        };

        //------------------------------------------------------------------------------------------------------------//
        // V6 retro-compatibilité
        //------------------------------------------------------------------------------------------------------------//
        var header = {
            cookieOptions: {},
            rolls: _Header2.default.rolls,
            error: {
                open: function open() {}
            }
        };
        header.cookieOptions = Cookies.defaults;

        if (!window.modules) window.modules = {};
        // override header
        window.modules.header = header;

        // override error on cart (quantity limit on product)
        if (modules.AddToCart) modules.AddToCart.Feedback.Error = diorV7.Header.rolls.onError.bind(diorV7.Header.rolls);
    }
};

$(window).ready(function () {
    capsule.init();
});

},{"./capsule/footer/Footer.js":2,"./capsule/header/Header.js":3,"./modules/Cart.js":18,"./modules/wishList.js":21}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _PopinNewsletter = require('../../components/popins/PopinNewsletter.js');

var _PopinNewsletter2 = _interopRequireDefault(_PopinNewsletter);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Footer = {

    $footer: null,
    footerHeight: -500,

    mouseOver: false,
    outTimeout: null,

    init: function init() {
        var _this = this;

        this.$footer = $('#dior-footer');
        this.$footer.find('.js-form-newsletter').formValidator({
            onSubmit: function onSubmit() {
                diorV7.popinManager.open('newsletter');
            }
        });

        // language selection
        this.isEcoCountry();
        this.$footer.find('.js-select').on('change', function (e) {
            _this.isEcoCountry();
            window.location.href = $(e.currentTarget).val();
        });

        // Popin Newsletter
        diorV7.popinManager.instanciate({
            identifier: 'newsletter',
            $el: $('.js-popin-newsletter'),
            triggerEvents: 1
        }, _PopinNewsletter2.default);

        // Footer Light
        if ($('html').hasClass('footer--light')) {
            // compute Footer height
            this.footerHeight = -this.$footer.outerHeight();
            this.close();

            // click outside to close
            $(document).on('click', function (e) {
                if (!$(e.target).closest('#dior-footer').length) {
                    _this.close();
                }
            });

            this.$footer.find('.js-footer-open').on('click', function (e) {
                e.preventDefault();
                e.stopPropagation();
                _this.open();
            });

            if (!diorV7.helpers.isTactile()) {
                this.$footer.mouseenter(function (e) {
                    clearTimeout(_this.outTimeout);
                }).mouseleave(function (e) {
                    clearTimeout(_this.outTimeout);
                    _this.outTimeout = setTimeout(_this.close.bind(_this), 1000);
                });
            }
        }
    },
    isEcoCountry: function isEcoCountry() {
        var $option = $('.js-countries-select-form').find('option[selected]');
        var $icon = this.$footer.find('.js-icon-select');

        if (!$icon.hasClass('icon--visible') && $option.hasClass('icon')) {
            $icon.addClass('icon--visible');
        } else {
            $icon.removeClass('icon--visible');
        }
    },
    open: function open() {
        this.$footer.addClass('opened');
    },
    close: function close() {
        this.$footer.removeClass('opened');
    },


    get email() {
        return this.$footer.find('input[type="email"]').val();
    }
};

exports.default = Footer;

},{"../../components/popins/PopinNewsletter.js":17}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
				value: true
});

var _topLayer2 = require('./blocks/topLayer.js');

var _topLayer3 = _interopRequireDefault(_topLayer2);

var _rolls = require('./blocks/rolls.js');

var _rolls2 = _interopRequireDefault(_rolls);

var _TopMenu = require('./blocks/TopMenu.js');

var _TopMenu2 = _interopRequireDefault(_TopMenu);

var _SubNav = require('./blocks/SubNav.js');

var _SubNav2 = _interopRequireDefault(_SubNav);

var _SubNavFolding = require('./blocks/SubNavFolding.js');

var _SubNavFolding2 = _interopRequireDefault(_SubNavFolding);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Header = {

				basketTotal: 0,
				subNavSlider: null,

				// the scroll level to display the scrollToTop btn (in px)
				scrollToTopThreshold: 50,

				init: function init() {
								var _this = this;

								this.$el = $('#dior-header');
								this.page = $('#container').data('page');

								// USER IS LOGGED?
								// -> hide/show the connected icon
								// -> display the concerned content in account roll
								var _connected = window.diorV7.Account.connected;

								// current universe
								// -> used in Account to preserve current universe topmenu when switching between CDC & PCD
								if (this.$el.data('current-universe')) {
												Cookies.set(diorV7.config.cookies.UNIVERSE, this.$el.data('current-universe'));
								}

								if (_connected == "1" || _connected == "true") {
												$('.js-bullet-connected').show();
												$('.js-account-roll .js-account-signin').removeClass('account--connected');
												$('.js-account-roll .js-account-nav').addClass('account--connected');
								} else {
												$('.js-account-roll .js-account-signin').addClass('account--connected');
												$('.js-account-roll .js-account-nav').removeClass('account--connected');
								}

								var _topLayer = $('.js-header-top-layer');
								if (_topLayer && _topLayer.length) {
												this.topLayer = new _topLayer3.default(_topLayer);
								}

								this.topMenu = new _TopMenu2.default();
								// slider management
								this.subNav = new _SubNav2.default(this);
								// minisite: sub nav is folded by default, and appears on hover
								this.subNavFolding = new _SubNavFolding2.default(this);
								//
								this.rolls = _rolls2.default.init();

								$(window).scroll(function () {
												//if ($('.js-header-top-layer').length) this.topLayer.onScroll();
												//this.topMenu.onScroll();
								});

								$(document).on('keydown', function (e) {
												_this.$el.find('.js-transversal-nav > .js-nav-trigger').off("focusin focusout");
												_this.$el.find('.js-transversal-nav > .js-nav-trigger').focusin(function (e) {
																var _$this = $(e.currentTarget);
																if (!_$this.parent().hasClass('transversal-nav--opened')) {
																				_this.$el.find('.js-transversal-nav ul ').removeClass('display-none');

																				_$this.attr('aria-expanded', true);
																				setTimeout(function () {
																								_$this.parent().addClass('transversal-nav--opened');
																				}, 0);
																}
												}).focusout(function (e) {
																var _$this = $(e.currentTarget);
																_$this.parents().removeClass('transversal-nav--opened');
																_$this.attr('aria-expanded', false);
																setTimeout(function () {
																				_this.$el.find('.js-transversal-nav ul ').addClass('display-none');
																}, 0);
												});

												_this.$el.find('.js-transversal-nav > ul > li').focusin(function (e) {
																var _$this = $(e.currentTarget);
																_$this.parents('.js-transversal-nav:first').addClass('transversal-nav--opened');
																_this.$el.find('.js-transversal-nav > .js-nav-trigger').attr('aria-expanded', true);
												}).focusout(function (e) {
																var _$this = $(e.currentTarget);
																_$this.parents('.js-transversal-nav:first').removeClass('transversal-nav--opened');
																_this.$el.find('.js-transversal-nav > .js-nav-trigger').attr('aria-expanded', false);
												});
								});

								this.$el.find('.js-transversal-nav > .js-nav-trigger').on('click', function (e) {
												var _$this = $(e.currentTarget);
												_$this.parent().toggleClass('transversal-nav--opened');
												_$this.attr('aria-expanded', _$this.parent().hasClass('transversal-nav--opened') ? true : false);
								});

								// Update cart length on quickbuy
								diorV7.dispatcher.on('addToCart::success', this.rolls.addedToCart, this.rolls);

								diorV7.dispatcher.on('header::close', this.closeAll, this);

								// scroll to top
								var $toTop = $('#scrollToTop');
								if ($toTop.length) {
												$(window).on('scroll', function (e) {
																if ($(window).scrollTop() > _this.scrollToTopThreshold) {
																				$toTop.addClass('active');
																} else {
																				$toTop.removeClass('active');
																}
												});

												$toTop.on('click', function () {
																$("html, body").stop().animate({ scrollTop: 0 }, '500');
												});
								}

								// Use signal to dispatch scroll to tablet
								if (diorV7.helpers.isTactile()) {
												diorV7.dispatcher.on('window::scroll', this.topLayer.onScroll, this.topLayer);
												diorV7.dispatcher.on('window::scroll', this.topMenu.onScroll, this.topMenu);
								}
				},
				closeAll: function closeAll() {
								if (this.topLayer) this.topLayer.close();
								this.rolls.closeAll();
								this.topMenu.close();
				},
				toFluid: function toFluid() {
								$('#dior-header').removeClass('header--transparent');
								this.subNavFolding.toFluid();
				}
};

exports.default = Header;

},{"./blocks/SubNav.js":4,"./blocks/SubNavFolding.js":5,"./blocks/TopMenu.js":6,"./blocks/rolls.js":7,"./blocks/topLayer.js":13}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var SubNav = function () {
	// Search autocomplete (WS GSA)
	// jshint ignore:end

	// jshint ignore:start
	function SubNav(header) {
		var _this = this;

		_classCallCheck(this, SubNav);

		this.$li = null;
		this.length = 0;
		this.totalWidth = 0;
		this.offsetIndex = 0;
		this.offset = 0;
		this.margin = 40;
		this.numVisibles = 0;
		this.autoComplete = null;


		this.$el = $('header:first .js-header-subnav:first');
		this.$container = this.$el.find('.js-subnav-items:first');
		this.$li = this.$container.find('li');
		this.length = this.$li.length;

		var _delay = !diorV7.helpers.isIE() ? 350 : 550;
		setTimeout(function () {
			if ($('html').hasClass('header--light')) {
				_this.$el.addClass('invisible').show();
			}

			_this.totalWidth = Math.ceil(_this.$container.outerWidth(true)) + 1;
			_this.$container.width(_this.totalWidth);

			if ($('html').hasClass('header--transparent')) {
				_this.$el.hide();
			}
			_this.$el.removeClass('invisible');

			$(window).resize(_this.onResize.bind(_this));
			_this.onResize();
		}, _delay);

		this.$el.find('.js-subnav-next').on('click', this.next.bind(this));
		this.$el.find('.js-subnav-previous').on('click', this.previous.bind(this));

		this.buildSearch();
	}

	_createClass(SubNav, [{
		key: 'onResize',
		value: function onResize() {
			if ($('#dior-header').hasClass('js-header-transparent')) {
				$('.js-header-subnav').addClass('invisible').show();
			}

			var _availableWidth = Math.ceil(Math.min(1440, $(window).width()) - this.margin);
			this.$el.find('nav').removeAttr('style');

			if (_availableWidth < this.totalWidth) {
				// we msut build a slider to show all items
				this.$el.addClass('subnav-slider');
				// slider width: do not crop a link!
				var _width = 0;
				var j = 0;
				for (var i = 0; i < this.length; ++i) {
					var _w = $(this.$li[i]).outerWidth(true);

					if (_width + _w < _availableWidth) {
						_width += _w;
						++j;
					} else {
						break;
					}
				}

				this.numVisibles = j;
				this.viewportWidth = Math.ceil(_width);

				this.$el.find('nav').width(this.viewportWidth);
			} else {
				// remove slider
				this.$el.removeClass('subnav-slider');
				this.$el.find('nav').width(_availableWidth);
			}

			if ($('#dior-header').hasClass('js-header-transparent')) {
				$('.js-header-subnav').hide().removeClass('invisible');
			}
		}
	}, {
		key: 'next',
		value: function next() {
			if (this.offsetIndex < this.length - this.numVisibles) {
				this.offset += $(this.$li[this.offsetIndex + this.numVisibles]).outerWidth();
				++this.offsetIndex;

				this.$container.css('margin-left', -this.offset);

				$('.js-subnav-button').removeClass('disabled');
				if (this.offsetIndex === this.length - this.numVisibles) $('.js-subnav-next').addClass('disabled');
			}
		}
	}, {
		key: 'previous',
		value: function previous() {
			if (this.offsetIndex > 0) {
				--this.offsetIndex;
				this.offset -= $(this.$li[this.offsetIndex + this.numVisibles]).outerWidth();

				this.$container.css('margin-left', -this.offset);

				$('.js-subnav-button').removeClass('disabled');
				if (this.offsetIndex === 0) $('.js-subnav-previous').addClass('disabled');
			}
		}
	}, {
		key: 'buildSearch',
		value: function buildSearch() {
			var $input = $('#search-header');
			this.autoComplete = new diorV7.AutoCompleteSearch($input);
		}
	}]);

	return SubNav;
}();

exports.default = SubNav;

},{}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * Need babel preset stage-2 to be able to declare class properties
 */
var SubNavFolding = function () {
    // jshint ignore:end

    function SubNavFolding(header) {
        var _this = this;

        _classCallCheck(this, SubNavFolding);

        this.header = null;
        this.mouseOver = false;
        this.isOpen = true;
        this.threshold = 5;
        this.$el = null;
        this.transparent = false;
        this.overTimeout = null;
        this.transitionDuration = 400;
        this.transitionTimeout = null;
        this.open = null;
        this.close = null;


        if (!header) {
            console.warn('[SubNavFolding]: need a reference of the header instance.');
        }

        this.header = header;
        this.$el = header.$el.find('.js-subnav-fold:first');

        if (!this.$el || !this.$el.length) {
            // no subnav
            // console.log('[SubNavFolding]: No class ".js-header-subnav", so nothing to do...');
            return null;
        }

        // case transparent: subnav is folded
        // on roll :
        // - 1. add background with transition
        // - 2. deploy subnav
        if (this.header.$el.hasClass('js-header-transparent')) {
            this.transparent = true;
            this.threshold = -1;

            this.$el.hide();
            this.closeSimple();

            this.open = this.openWithTrans;
            this.close = this.closeWithTrans;
            this.openSimpleProxy = this.openSimple.bind(this);
            this.onClosedProxy = this.onClosedWithTrans.bind(this);
        } else {
            if ($('html').hasClass('fullbrowser')) {
                this.threshold = -1;
            } else {
                $(window).scroll(this.onScroll.bind(this));
            }

            this.open = this.openSimple;
            this.close = this.closeSimple;

            this.isOpen = false;
            this.$el.css({ top: -this.$el.outerHeight() - 2 });
            // wait for subnav to process width & slider
            setTimeout(this.onScroll.bind(this), 500);
        }

        if (!diorV7.helpers.isTactile()) {
            this.header.$el.mouseenter(function (e) {
                clearTimeout(_this.overTimeout);

                if (!_this.mouseOver) {
                    //this.open(true);
                    _this.overTimeout = setTimeout(function () {
                        _this.open(true);
                    }, 300);
                }
                _this.mouseOver = true;
            }).mouseleave(function (e) {
                _this.mouseOver = false;

                clearTimeout(_this.overTimeout);
                _this.overTimeout = setTimeout(_this.onScroll.bind(_this), 1000);
            });
        } else {
            // first tap on header
            this.header.$el.on('touchend', function (e) {
                if (!_this.isOpen) {
                    e.preventDefault();
                    e.stopPropagation();

                    if (!_this.mouseOver) {
                        _this.open(true);
                    }
                    _this.mouseOver = true;
                }
            });
            // tap outside
            $('main').on('touchend', function (e) {
                /*if (this.isOpen) {
                 e.preventDefault();
                 }*/
                _this.mouseOver = false;

                clearTimeout(_this.overTimeout);
                _this.overTimeout = setTimeout(_this.onScroll.bind(_this), 1000);

                diorV7.dispatcher.trigger('header::close');

                _this.header.rolls.closeAll();
                _this.header.topLayer.close();
                _this.header.topMenu.close();
            });
        }
    }

    // jshint ignore:start


    _createClass(SubNavFolding, [{
        key: 'onScroll',
        value: function onScroll() {
            var _top = $(window).scrollTop();
            if (this.mouseOver) {
                this.open(true);
            } else if (_top > this.threshold) {
                this.close();
            } else {
                this.open(true);
            }
        }

        // open/close simple: only subnav is animated

    }, {
        key: 'openSimple',
        value: function openSimple(e) {
            var _this2 = this;

            if (e) clearTimeout(this.overTimeout);

            this.$el.show();
            if (this.transparent) this.header.$el.find('.header-top-bar').off(diorV7.helpers.transitionEnd(), this.openSimpleProxy);

            if (!this.isOpen) {
                // need to wait for css transition to work (display none)
                setTimeout(function () {
                    _this2.$el.css({ top: 0 });
                }, 10);
                this.isOpen = true;
            } else if (this.mouseOver) {
                this.close();
            }
        }
    }, {
        key: 'closeSimple',
        value: function closeSimple(e) {
            if (this.isOpen && !this.mouseOver) {
                // notify topMenu to close if its open
                diorV7.dispatcher.trigger('subnav::fold');

                this.$el.css({ top: -this.$el.outerHeight() - 2 });
                this.isOpen = false;
            }
        }

        // open/close with header transparent (anim header before unfold, and fold before header)

    }, {
        key: 'openWithTrans',
        value: function openWithTrans() {
            clearTimeout(this.overTimeout);
            this.header.$el.find('.header-top-bar').on(diorV7.helpers.transitionEnd(), this.openSimpleProxy);
            this.header.$el.removeClass('header--transparent');
        }
    }, {
        key: 'closeWithTrans',
        value: function closeWithTrans() {
            if (this.isOpen) {
                this.$el.on(diorV7.helpers.transitionEnd(), this.onClosedProxy);
                this.closeSimple();
            } else {
                this.onClosedWithTrans();
            }
        }
    }, {
        key: 'onClosedWithTrans',
        value: function onClosedWithTrans() {
            if (!this.mouseOver && !this.header.topLayer.isOpened) {
                this.header.$el.addClass('header--transparent');
                this.$el.hide();
            }
            this.$el.off(diorV7.helpers.transitionEnd(), this.onClosedProxy);
        }
    }, {
        key: 'toFluid',
        value: function toFluid() {
            this.open = this.openSimple;
            this.close = this.closeSimple;
        }
    }]);

    return SubNavFolding;
}();

exports.default = SubNavFolding;

},{}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Need babel preset stage-2 to be able to declare class properties
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */


var _equalHeight = require('../../../modules/equalHeight.js');

var _equalHeight2 = _interopRequireDefault(_equalHeight);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var TopMenu = function () {
	// jshint ignore:end

	function TopMenu() {
		var _this = this;

		_classCallCheck(this, TopMenu);

		this.current = null;
		this.activeMenu = $(".js-header-subnav a.active");
		this.defaultActiveIndex = 0;
		this.isOpened = false;
		this.$container = null;
		this.overlay = null;
		this.mouseTimer = null;
		this.timeOut = 350;
		this.titleTimeOut = null;
		this.needScroll = false;
		this.heightToScroll = 0;


		this.$container = $('.js-header-topmenu');
		this.activeMenu = $(".js-header-subnav a.active");

		this.$overlay = $('#page-overlay');

		if (this.$container.find(".js-nav-content").length > 0) {

			this.current = this.$container.find(".js-nav-content:first");

			$(document).on('click', '.js-header-subnav .js-topmenu-trigger[data-targettopmenu], .js-header-sticky .js-topmenu-trigger[data-targettopmenu]', function (e) {

				if (!_this.isOpened || _this.isOpened && _this.current.attr('id') != $(e.currentTarget).data('targettopmenu')) {
					e.preventDefault();
					e.stopPropagation();
					var $link = $(e.currentTarget);

					var newTopLayer = $('#' + $link.data('targettopmenu'));
					_this.toggle(newTopLayer, $link);
				} else {
					e.preventDefault();
					e.stopPropagation();
					_this.close();
				}
			});
			// click outside
			$(document).on('click', function (e) {
				if (!$(e.target).closest('.js-header-subnav').length) {
					_this.close();
				}
			});
			//
			diorV7.dispatcher.on('subnav::fold', this.close.bind(this));

			// Register default active topmenu li
			this.defaultActiveIndex = $(".js-header-subnav li.active").index();

			/* MEDIAS ROLL */
			$(document).on('mouseover', '.js-medias-roll a', function (e) {
				e.preventDefault();
				var _$this = $(e.currentTarget);
				var src = _$this.attr('data-img');
				_$this.parents('.js-medias-roll').find('img:first').attr('src', src);

				if (_$this.data('player')) _$this.parents('.js-medias-roll').find('.picto-play').show();else _$this.parents('.js-medias-roll').find('.picto-play').hide();
			});

			$(document).on('mouseleave', '.js-medias-roll', function (e) {
				var _$this = $(e.currentTarget);
				var src = _$this.find('img:first').parent().data('img');
				_$this.find('img:first').attr('src', src);

				var _player = _$this.find('img:first').parent().data('player');
				if (_player) _$this.find('.picto-play').show();else _$this.find('.picto-play').hide();
			});

			$(document).find('.js-medias-roll').trigger('mouseleave');

			/* Media Roll Multi column */
			$(document).on('mouseover', '.js-nav-content *[data-targetcolumn] a', function (e) {
				var $link = $(e.currentTarget),
				    target = $link.parents('*[data-targetcolumn]').attr('data-targetcolumn');

				if ($link.attr('data-img') && $('#' + target).length > 0) {
					// Update Image src
					var $target = $('#' + target);

					// update with current
					$target.find('img:first').attr('src', $link.data('img'));

					if ($link.data('player')) $target.find('.picto-play').show();else $target.find('.picto-play').hide();

					// Show / Hide Availibility
					if ($target.find('.js-topmenu-availibility').length > 0 && $link.attr('data-availibility')) {
						if ($link.attr('data-availibility') == "true") {
							$target.find('.js-topmenu-availibility').removeClass('hidden');
						} else {
							$target.find('.js-topmenu-availibility').addClass('hidden');
						}
					}
				}
			});

			$(document).on('mouseleave', '.js-header *[data-targetcolumn]', function (e) {
				var target = $(e.currentTarget).attr('data-targetcolumn'),
				    $target = $('#' + target),
				    $img = $target.find('img:first');

				// reset src
				$img.attr('src', $img.parent().data('img'));
				if ($img.parent().data('player')) {
					$target.find('.picto-play').show();
				} else {
					$target.find('.picto-play').hide();
				}

				// reset availibility
				if ($img.attr('data-availibility') == "true") {
					$target.find('.js-topmenu-availibility').removeClass('hidden');
				} else {
					$target.find('.js-topmenu-availibility').addClass('hidden');
				}
			});

			$(document).find('.js-header *[data-targetcolumn]').trigger('mouseleave');
		}

		$(window).resize(this.onResize.bind(this));
		this.onResize();
	}

	// jshint ignore:start


	_createClass(TopMenu, [{
		key: 'checkMouseOver',
		value: function checkMouseOver(e) {
			var $el = $(e.currentTarget);

			var newthis = null,
			    active = null;

			if ($el.data('targettopmenu')) {
				newthis = $('#' + $el.data('targettopmenu'));
				active = $el;
			} else if ($el.hasClass('nav-content')) {
				newthis = $el;
				active = this.activeMenu;
			}

			if (newthis) {
				this.toggle(newthis, active);
			} else {
				this.close();
			}
		}

		/*
   *
   */

	}, {
		key: 'onScroll',
		value: function onScroll(e, top) {
			if (this.needScroll) {
				if (this.isOpened && $(window).scrollTop() > this.heightToScroll) {
					this.needScroll = false;

					window.clearTimeout(this.mouseTimer);
					window.clearTimeout(this.timerOver);

					this.close();
				}
			} else {
				/*
    if (!core.ie6 && modules.header.hasSticky) {
    //modules.header.sticky.onScrollStickTop(e, top);
    }
    */
			}
		}
	}, {
		key: 'open',
		value: function open() {
			// position topmenu depending on metanav
			/*if (core.$header.hasClass('metanav-open') && !core.$header.hasClass('fixed')) {
   	this.$container.css('top',core.$header.height());
   }
   else {
   	this.$container.attr('style','');
   }*/

			// Get New this height
			this.current.addClass('invisible');
			// add padding: scrollable content is absolute (.overview)
			var newHeight = this.current.outerHeight(true);
			this.current.removeClass('invisible');

			// If already opened no animation
			if (this.isOpened) {
				this.$container.css('height', newHeight);
			} else {
				this.$container.stop().animate({ height: newHeight }, 300);
			}

			this.checkHeight(newHeight);

			this.current.addClass('open');
			this.$overlay.fadeIn(50);

			this.$container.addClass('opened-topMenu');
			$(".js-header-subnav li.active").removeClass('active');
			this.activeMenu.parent().addClass('active');
			this.isOpened = true;
		}
	}, {
		key: 'close',
		value: function close() {
			var _this2 = this;

			if (this.isOpened) {
				// animate container
				this.$container.stop().animate({ height: 0 }, 300, function () {
					_this2.$container.removeClass('opened-topMenu');
					_this2.current.removeClass('open');
					_this2.activeMenu.parent().removeClass('active');

					// reset default active
					if (_this2.defaultActiveIndex > -1) {
						$(".js-header-subnav li").eq(_this2.defaultActiveIndex).addClass('active');
					}

					_this2.$overlay.fadeOut(50);

					_this2.isOpened = false;
					_this2.needScroll = false;

					_this2.onScroll();
				});
			}
		}
	}, {
		key: 'toggle',
		value: function toggle(newTopLayer, active) {
			if (this.activeMenu.length > 0 && newTopLayer.attr('id') != this.current.attr('id')) {
				if (this.isOpened) {
					this.current.removeClass('open');
				}
				this.activeMenu.parent().removeClass('active');
			}

			this.current = newTopLayer;
			this.activeMenu = active;
			this.open();

			var newHeight = this.current.outerHeight(true);

			this.checkHeight(newHeight);
		}
	}, {
		key: 'checkHeight',
		value: function checkHeight(newHeight) {
			var extraHeight = 0; // the height to scroll to see completely the topMenu
			var margin = 100;

			extraHeight = $("#dior-header").height() + newHeight - $(window).height();

			if (extraHeight > 0) {
				// set viewport height
				this.heightToScroll = extraHeight + margin;
				this.needScroll = true;
			} else {
				this.needScroll = false;
			}
		}
	}, {
		key: 'onResize',
		value: function onResize() {
			if ($('#dior-header').hasClass('js-header-transparent')) {
				$('.js-header-subnav').addClass('invisible').show();
			}
			//Equalize all cols
			_equalHeight2.default.equalize('.js-dior-header .js-equalize', '.js-equal-col');
			//Equalize all titles
			_equalHeight2.default.equalize('.js-dior-header .js-equalize', '.js-equal-title');
			//Equalize all availibility titles
			_equalHeight2.default.equalize('.js-dior-header .js-equalize', '.js-equal-availibility');

			this.checkHeight();

			if ($('#dior-header').hasClass('js-header-transparent')) {
				$('.js-header-subnav').hide().removeClass('invisible');
			}
		}
	}]);

	return TopMenu;
}();

exports.default = TopMenu;

},{"../../../modules/equalHeight.js":20}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _Wishlist = require('./rolls/Wishlist.js');

var _Wishlist2 = _interopRequireDefault(_Wishlist);

var _Account = require('./rolls/Account.js');

var _Account2 = _interopRequireDefault(_Account);

var _Error = require('./rolls/Error.js');

var _Error2 = _interopRequireDefault(_Error);

var _Cart = require('./rolls/Cart.js');

var _Cart2 = _interopRequireDefault(_Cart);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var rolls = {
    instances: [],

    current: null,
    isOpened: false,

    init: function init() {
        var _this = this;

        if ($('.js-cart-roll ').length) {
            this.cart = new _Cart2.default();
            this.instances.push(this.cart);
        }
        if (!$('html').hasClass('no-wishlist') && $('.js-wishlist-roll ').length) {
            this.wishlist = new _Wishlist2.default();
            this.instances.push(this.wishlist);
        }
        if ($('.js-account-roll ').length) {
            this.account = new _Account2.default();
            this.instances.push(this.account);
        }
        if ($('.js-error-roll ').length) {
            this.error = new _Error2.default($('.js-error-roll'));
            this.instances.push(this.error);
        }

        if (diorV7.helpers.isTactile()) {
            $(document).on('touchstart', function (event) {
                if (!$(event.target).closest('.header-roll').length) {
                    _this.closeAll();
                }
            });
        }

        return this;
    },


    /**
     * Update cart length on quickbuy
     */
    addedToCart: function addedToCart() {
        this.cart.dirty = true;
        this.cart.get();
    },
    closeAll: function closeAll() {
        this.instances.forEach(function (roll) {
            roll.close();
        });
    },


    //----------------------------------------------------------------------------------------------------------------//
    /* FOR V6 ONLY */
    //----------------------------------------------------------------------------------------------------------------//
    close: function close() {
        this.closeAll();
    },
    open: function open() {
        if (this.current) this.current.open();
    },
    toggle: function toggle(newRoll, active) {
        /* IF CART: open only if carts not empty */
        if (!newRoll || !newRoll.length) {
            this.cart.open();
        } else {
            var _id = newRoll.attr('id');

            if (_id.indexOf('account') != -1) this.account.open();else if (_id.indexOf('wishlist') != -1) this.wishlist.open();else if (_id.indexOf('error') != -1) this.error.open();
        }
    },
    onError: function onError(data) {
        if (data) {
            $('#errorRoll .default-message').html(data.errorMessages.join('<br/>'));
        }
        this.toggle($('#errorRoll'), true);
    }
};

exports.default = rolls;

},{"./rolls/Account.js":8,"./rolls/Cart.js":9,"./rolls/Error.js":10,"./rolls/Wishlist.js":12}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Roll2 = require('./Roll.js');

var _Roll3 = _interopRequireDefault(_Roll2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Account = function (_Roll) {
    _inherits(Account, _Roll);

    function Account() {
        _classCallCheck(this, Account);

        var _this = _possibleConstructorReturn(this, (Account.__proto__ || Object.getPrototypeOf(Account)).call(this, $('.js-account-roll')));

        if (diorV7.Account.connected) {
            diorV7.DOMStateManager.show(_this.$el.find('.js-account-nav'));
            diorV7.DOMStateManager.show(_this.$el.parents('li:first').find('.js-account-connected'));

            // inject user name
            var _cookieData = Cookies.get(diorV7.config.cookies.USER);
            if (_cookieData) {
                var _userData = JSON.parse(_cookieData.replace(/\+/g, ' '));
                $('.js-user-name').text(_userData.name);
            } else {
                console.warn('[Account]: something went wrong: you\'re connected but without user data. The cookie "' + diorV7.config.cookies.USER + '" is missing.');
            }
        } else {
            diorV7.DOMStateManager.show(_this.$el.find('.js-account-signin'));
        }
        return _this;
    }

    _createClass(Account, null, [{
        key: 'connected',
        get: function get() {
            var _connected = Cookies.get(diorV7.config.cookies.CONNECTED);
            if (_connected !== undefined) {
                return diorV7.helpers.stringToBoolean(_connected);
            } else {
                return false;
            }
        }
    }]);

    return Account;
}(_Roll3.default);

// expose static methods


window.diorV7.Account = Account;

exports.default = Account;

},{"./Roll.js":11}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Roll2 = require('./Roll.js');

var _Roll3 = _interopRequireDefault(_Roll2);

var _templates = require('../../../templates.js');

var _templates2 = _interopRequireDefault(_templates);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Private instance of Cart
 */
var _inst = void 0;

var Cart = function (_Roll) {
    _inherits(Cart, _Roll);

    function Cart() {
        _classCallCheck(this, Cart);

        var _this = _possibleConstructorReturn(this, (Cart.__proto__ || Object.getPrototypeOf(Cart)).call(this, $('.js-cart-roll')));

        _this.init();
        _inst = _this;
        return _this;
    }

    _createClass(Cart, [{
        key: 'init',
        value: function init() {
            var _this2 = this;

            this.reset();
            this.closeTimeout = 2000;

            this.maxHeight = 300;

            // Empty Cart disable cart link
            this.$parent.find('.js-cart-link').on('click', function (e) {
                var currentCartTotal = parseInt(_this2.$el.parent().find('.js-cart-total').text().replace(/[\(\)]/g, ''));
                if (!currentCartTotal) {
                    e.preventDefault();
                }
            });

            this.dispatcher.on('show', function () {
                _this2.$el.addClass('loading');
                diorV7.CartModule.get();
            });

            diorV7.helpers.registerHandlebarsHelper('stringify', 'truncate');

            this.refreshUniverses();

            this.$el.on('click', '.js-cart-item-remove', function (e) {
                return diorV7.CartModule.remove(e);
            });

            diorV7.CartModule.on('origin', function (origin, data) {
                _this2.renderOrigin(origin, data);
            });
            diorV7.CartModule.on('complete', this.render.bind(this));
            diorV7.CartModule.on('removed', function ($product) {
                $product.remove();
                _this2.refreshUniverses();
                _this2.setScroller();
            });
            diorV7.CartModule.on('added', function (silent) {
                if (!silent) {
                    _this2.open();
                    _this2.timeout = setTimeout(function () {
                        return _this2.close();
                    }, _this2.closeTimeout);
                }
                _this2.refreshUniverses();
            });
            diorV7.CartModule.on('error', this.setError.bind(this));
        }
    }, {
        key: 'reset',
        value: function reset() {
            this.rendered = 0;
            this.$el.removeClass('has-pcd has-cdc has-double-cart has-error');
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            this.rendered = 1;
            this.$el.removeClass('loading has-error');

            if (this.totalCDC > 0 && this.totalPCD > 0) {
                this.$el.addClass('has-double-cart');
            } else {
                this.$el.removeClass('has-double-cart');
            }

            this.setScroller();
            diorV7.preloader.preload(this.$el.find('img'), function (images) {
                _this3.setScroller();
            });
        }

        /**
         * Renders cart products for origin and refreshes scroller
         * @param origin {'PCD' | 'CDC'}
         * @param data
         */

    }, {
        key: 'renderOrigin',
        value: function renderOrigin(origin, data) {
            origin = origin.toUpperCase();
            var _origin = origin.toLowerCase();

            this.$el.toggleClass('has-' + _origin, data.basket.productsQuantity > 0);

            var $cart = this.$el.find('.js-cart-' + _origin);
            $cart.find('.js-cart-items').html(_templates2.default.cart(data));
            $cart.find('.js-cart-quantity').text(data.basket.productsQuantity);
            $cart.find('.js-subtotal-quantity').text(data.basket.subTotalWithCurrency);
        }

        /**
         * Check if we have products for each universe
         */

    }, {
        key: 'refreshUniverses',
        value: function refreshUniverses() {
            var _total = diorV7.CartModule.total;
            var _origins = ['CDC', 'PCD'];

            for (var i = 0; i < 2; ++i) {
                var _origin = _origins[i];

                if (diorV7.data.cart[_origin]) {
                    var $cart = this.$el.find('.js-cart-' + _origin.toLowerCase());
                    $cart.find('.js-cart-quantity').text(diorV7.data.cart[_origin].basket.productsQuantity);
                    $cart.find('.js-subtotal-quantity').text(diorV7.data.cart[_origin].basket.subTotalWithCurrency);
                }
            }

            diorV7.DOMStateManager.toggleHidden(this.$parent.find('.js-cart-total').text(_total > 9 ? '9+' : _total), !_total);

            this.$el.toggleClass('has-pcd', diorV7.CartModule.totalFor('PCD') > 0);
            this.$el.toggleClass('has-cdc', diorV7.CartModule.totalFor('CDC') > 0);
        }
    }, {
        key: 'setScroller',
        value: function setScroller() {
            if (this.scroller) {
                this.scroller._reset();
            }

            var $scrollerWrapper = this.$el.find('.js-cart-scroller-wrapper');
            var $scroller = $scrollerWrapper.find('.js-cart-scroller');

            $scrollerWrapper.height(Math.min(this.maxHeight, Math.ceil($scroller.height())));

            if (!this.scroller) {
                this.scroller = $scroller.scroller({
                    preventDefaultScroll: true,
                    axis: 'y'
                }).data('scroller');
            } else {
                this.scroller.refresh();
            }
        }
    }, {
        key: 'setError',
        value: function setError(data) {
            this.$el.addClass('has-error');
            if (data.message) this.$el.find('.js-roll-error').text(data.message);

            diorV7.Header.rolls.onError(data);
        }
    }]);

    return Cart;
}(_Roll3.default);

// expose static methods


window.diorV7.Cart = Cart;

exports.default = Cart;

},{"../../../templates.js":14,"./Roll.js":11}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _Roll2 = require('./Roll.js');

var _Roll3 = _interopRequireDefault(_Roll2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ErrorRoll = function (_Roll) {
	_inherits(ErrorRoll, _Roll);

	function ErrorRoll() {
		_classCallCheck(this, ErrorRoll);

		return _possibleConstructorReturn(this, (ErrorRoll.__proto__ || Object.getPrototypeOf(ErrorRoll)).apply(this, arguments));
	}

	_createClass(ErrorRoll, [{
		key: 'open',
		value: function open() {
			var _this2 = this;

			_get(ErrorRoll.prototype.__proto__ || Object.getPrototypeOf(ErrorRoll.prototype), 'open', this).call(this);

			this.timer = window.setTimeout(function () {
				clearTimeout(_this2.timer);
				_this2.close();
			}, 4000);
		}
	}]);

	return ErrorRoll;
}(_Roll3.default);

exports.default = ErrorRoll;

},{"./Roll.js":11}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Dispatcher = require('./../../../../modules/Dispatcher.js');

var _Dispatcher2 = _interopRequireDefault(_Dispatcher);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Roll = function () {
    function Roll($el) {
        var _this = this;

        _classCallCheck(this, Roll);

        this.$el = $el;
        this.$parent = this.$el.parent('li:first');
        this.dispatcher = new _Dispatcher2.default();
        this.autoclose = !this.$el.attr('data-auto-close') || this.$el.attr('data-auto-close') && this.$el.attr('data-auto-close') === 'true';
        this.closeDelay = 1000;

        this._close = function (e) {
            if (!_this.$el.is(e.target) && !_this.$el.has(e.target).length) {
                _this.close();
            }
        };

        this._addListeners();
    }

    _createClass(Roll, [{
        key: '_addListeners',
        value: function _addListeners() {
            var _this2 = this;

            if (!diorV7.helpers.isTactile()) {
                this.$parent.hoverIntent({
                    over: this.open.bind(this),
                    out: function out() {
                        if (_this2.autoclose) {
                            if (_this2.closeDelay) _this2.closeDelayTimeout = setTimeout(_this2.close.bind(_this2), _this2.closeDelay);else _this2.close();
                        }
                    }
                });
            } else {
                this.$parent.children('a').on('click', this.toggle.bind(this));
            }
            // ADA keypress nav 
            $(document).on('keydown', function (e) {

                _this2.$parent.focusin(_this2.open.bind(_this2)).focusout(function () {
                    if (_this2.autoclose) {
                        _this2.close();
                    }
                });
            });
        }
    }, {
        key: 'init',
        value: function init() {}
    }, {
        key: 'toggle',
        value: function toggle() {
            if (this.$parent.hasClass('active')) this.close();else this.open();
        }
    }, {
        key: 'open',
        value: function open() {
            var _this3 = this;

            if (this.closeDelayTimeout) clearTimeout(this.closeDelayTimeout);
            diorV7.Header.rolls.closeAll();
            if (!this.$parent.hasClass('active')) {
                this.$parent.addClass('active');
                diorV7.DOMStateManager.show(this.$el);
                this.dispatcher.trigger('show', this);
            }
            setTimeout(function () {
                $(document).one('click', _this3._close);
            }, 1);
        }
    }, {
        key: 'close',
        value: function close() {
            this.$parent.removeClass('active');
            diorV7.DOMStateManager.hide(this.$el);
            this.dispatcher.trigger('hide', this);
            $(document).off('click ', this._close);
        }
    }]);

    return Roll;
}();

exports.default = Roll;

},{"./../../../../modules/Dispatcher.js":19}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _Roll2 = require('./Roll.js');

var _Roll3 = _interopRequireDefault(_Roll2);

var _templates = require('../../../templates.js');

var _templates2 = _interopRequireDefault(_templates);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Wishlist = function (_Roll) {
    _inherits(Wishlist, _Roll);

    function Wishlist() {
        _classCallCheck(this, Wishlist);

        var _this = _possibleConstructorReturn(this, (Wishlist.__proto__ || Object.getPrototypeOf(Wishlist)).call(this, $('.js-wishlist-roll')));

        _this.init();
        return _this;
    }

    _createClass(Wishlist, [{
        key: 'init',
        value: function init() {
            var _this2 = this;

            this.dirty = true;
            this.limit = diorV7.config.WISHLIST_LIMIT;
            this.closeTimeout = 2000;

            if (diorV7.Account.connected) {
                diorV7.WishListModule.on('complete', this.render.bind(this));
                diorV7.WishListModule.on('error', this.setError.bind(this));
                diorV7.WishListModule.on('added', function () {
                    _this2.dirty = true;
                    _this2.open();
                    _this2.timeout = setTimeout(function () {
                        return _this2.close();
                    }, _this2.closeTimeout);
                });
                diorV7.WishListModule.on('removed', function () {
                    _this2.dirty = true;
                    // wait for cookie to be updated
                    setTimeout(function () {
                        _this2.updateTotal(diorV7.WishListModule.total);
                    }, 50);
                });

                this.dispatcher.on('show', function () {
                    if (diorV7.Account.connected) {
                        if (_this2.dirty) {
                            // clear: assume we have items, and display loading
                            _this2.$el.addClass('is-connected loading has-items').find('.js-wishlist-products').empty();

                            diorV7.WishListModule.get();
                            _this2.dirty = false;
                        }
                    }
                });

                this.updateTotal(diorV7.WishListModule.total);

                // is the WS wishlist already done (actually very rare case, only he staging possible issue)
                if (diorV7.data.account && diorV7.data.account.wishlist) {
                    this.render(diorV7.data.account.wishlist);
                }

                diorV7.DOMStateManager.show(this.$el.find('.wishlist-products'));
            } else {
                diorV7.DOMStateManager.hide(this.$parent.find('.js-wishlist-total'));
                diorV7.DOMStateManager.show(this.$el.find('.wishlist-signin'));
            }
        }
    }, {
        key: 'open',
        value: function open() {
            _get(Wishlist.prototype.__proto__ || Object.getPrototypeOf(Wishlist.prototype), 'open', this).call(this);
            clearTimeout(this.timeout);
        }
    }, {
        key: 'close',
        value: function close() {
            _get(Wishlist.prototype.__proto__ || Object.getPrototypeOf(Wishlist.prototype), 'close', this).call(this);
            clearTimeout(this.timeout);
        }
    }, {
        key: 'render',
        value: function render(data) {
            this.$el.removeClass('loading');

            if (data.length) {
                this.$el.addClass('has-items');
                // only 5 items max
                var _items = data.slice(0, Math.min(5, data.length));
                this.$el.find('.js-wishlist-products').html(_templates2.default.wishlist(_items));
            } else {
                this.$el.removeClass('has-items').find('.js-wishlist-products').empty();
            }
            this.updateTotal(data.length);
        }

        /**
         * Updates wishlist total 'bullet' and displays it if more than 0
         * @param total {int}
         */

    }, {
        key: 'updateTotal',
        value: function updateTotal(total) {
            diorV7.DOMStateManager.toggleHidden(this.$parent.find('.js-wishlist-total').text(total > 9 ? '9+' : total), !total);
        }
    }, {
        key: 'setError',
        value: function setError(data) {
            this.$el.removeClass('loading');
            this.$el.addClass('has-error');
            if (data.message) this.$el.find('.js-roll-error').text(data.message);
        }
    }]);

    return Wishlist;
}(_Roll3.default);

exports.default = Wishlist;

},{"../../../templates.js":14,"./Roll.js":11}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var TopLayer = function () {
	// jshint ignore:end

	// jshint ignore:start
	function TopLayer($el) {
		var _this = this;

		_classCallCheck(this, TopLayer);

		this.isOpened = false;
		this.onClickClose = false;
		this.autoOpen = undefined;
		this.autoReOpen = false;
		this.timesOpened = 0;
		this.maxTimesOpen = 2;
		this.expiration = 1;
		this.timer = null;
		this.linkArray = {};
		this.height = 40;


		this.$el = $el;

		this.mode = 'init';
		this.autoReOpen = this.$el;

		// READ PARAMS
		this.autoOpen = this.$el.data('auto-open');

		if (this.autoOpen) {
			this.maxTimesOpen = this.$el.data('capping');
			// DEFAULT: 1 open every 15 days
			if (!this.maxTimesOpen) {
				this.maxTimesOpen = 1;
			}

			var cookieOptions = window.Cookies ? $.extend({}, Cookies.defaults) : {};

			this.expiration = parseInt(this.$el.data('cookie-expiration'));
			if (this.expiration && this.expiration > 0) {
				cookieOptions.expires = this.expiration;
			}

			this.timesOpened = Cookies.get('advantages_opened');
			// first time we go to dior.com?
			if (!this.timesOpened || this.timesOpened === undefined) {
				this.timesOpened = 0;
			}

			if (this.timesOpened < this.maxTimesOpen) {
				this.autoOpen = true;
				//IE9 warning: $.extends create an invalid object for cookie
				Cookies.set('advantages_opened', ++this.timesOpened, cookieOptions);
			} else {
				this.autoOpen = false;
				this.autoReOpen = false;
			}
		}

		/* FIRST TIME OPEN */
		if (this.autoOpen) this.open();

		this.$el.on('mouseover', function () {
			clearTimeout(_this.timer);
		});

		this.$el.find('.js-top-layer-close').on('click touch', function (e) {
			_this.onClickClose = true;
			var cookieOptions = void 0;
			if (diorV7) {
				cookieOptions = $.extend({}, diorV7.cookieOptions);
			} else {
				cookieOptions = {};
			}
			Cookies.set('advantages_opened', _this.maxTimesOpen, cookieOptions);
			_this.close(e);
		});
	}

	// could be a signal listener 


	// only one line of text, so height is constant

	// store which topLayer to reopen, or false if nothing to open on scroll top


	_createClass(TopLayer, [{
		key: 'onScroll',
		value: function onScroll(e, top) {
			var _scrollTop = $(window).scrollTop();
			if (_scrollTop === 0 && this.autoReOpen) {
				this.open();
			} else if (this.isOpened) {
				this.close();
			}
		}
	}, {
		key: 'open',
		value: function open() {
			if (this.isOpened) return;
			if (this.onClickClose === true) return;
			// autoReOpen could be a boolean or a jQuery element
			if (!this.autoReOpen) return;

			this.isOpened = true;

			if (Modernizr.csstransitions) {
				this.$el.off(diorV7.helpers.transitionEnd()).on(diorV7.helpers.transitionEnd(), this.onOpened.bind(this));
				if (this.timesOpened < this.maxTimesOpen && this.isOpened === true) {
					this.$el.addClass('open');
				}
			} else {
				this.$el.stop().css({ height: this.height });
				this.onOpened.bind(this);
			}

			$(document.body).addClass('toplayer--opened');
		}
	}, {
		key: 'onOpened',
		value: function onOpened() {
			if (diorV7 && diorV7.dispatcher) {
				diorV7.dispatcher.trigger('header::topLayerOpening', this.height);
			}
		}
	}, {
		key: 'close',
		value: function close(e) {
			if (e) {
				e.preventDefault();
				this.autoReOpen = false;
			}
			if (!this.isOpened) return;

			this.isOpened = false;

			if (Modernizr.csstransitions) {
				this.$el.off(diorV7.helpers.transitionEnd()).on(diorV7.helpers.transitionEnd(), this.onClosed.bind(this));
				this.$el.removeClass('open');
			} else {
				this.$el.animate({ height: 0 }, 'slow');
				this.$el.stop().animate({ height: 0 }, 'slow', this.onClosed.bind(this));
			}

			$(document.body).removeClass('toplayer--opened');
		}
	}, {
		key: 'onClosed',
		value: function onClosed() {
			if (diorV7 && diorV7.dispatcher) {
				diorV7.dispatcher.trigger('header::topLayerClosed');
			}
			//modules.header.rolls.positionRollsTop();
		}
	}]);

	return TopLayer;
}();

exports.default = TopLayer;

},{}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function tpl() {
    this["cart"] = window.diorV7.Handlebars.template({ "1": function _(container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.free : depth0, { "name": "unless", "hash": {}, "fn": container.program(2, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "2": function _(container, depth0, helpers, partials, data) {
            var stack1,
                helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = helpers.helperMissing,
                alias3 = "function",
                alias4 = container.escapeExpression,
                alias5 = container.lambda;

            return "    <tr class=\"cart-item js-cart-item\" data-sku=\"" + alias4((helper = (helper = helpers.sku || (depth0 != null ? depth0.sku : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "sku", "hash": {}, "data": data }) : helper)) + "\" data-id=\"" + alias4((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "id", "hash": {}, "data": data }) : helper)) + "\" data-origin=\"" + alias4(alias5((stack1 = data && data.root) && stack1.origin, depth0)) + "\" " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.form_key : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " > <td class=\"item-packshot\"> " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.url : depth0, { "name": "if", "hash": {}, "fn": container.program(5, data, 0), "inverse": container.program(7, data, 0), "data": data })) != null ? stack1 : "") + "        </td> <td class=\"item-description\"> <span class=\"item-title\">" + alias4((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "name", "hash": {}, "data": data }) : helper)) + "</span> <span class=\"item-subtitle\">" + alias4((helpers.truncate || depth0 && depth0.truncate || alias2).call(alias1, depth0 != null ? depth0.title : depth0, 40, { "name": "truncate", "hash": {}, "data": data })) + "</span> <span class=\"item-variant\">" + alias4((helper = (helper = helpers.description || (depth0 != null ? depth0.description : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "description", "hash": {}, "data": data }) : helper)) + "</span> </td> <td class=\"item-quantity\"> " + alias4(alias5((stack1 = (stack1 = data && data.root) && stack1.wording) && stack1.quantity, depth0)) + ": " + alias4((helper = (helper = helpers.quantity || (depth0 != null ? depth0.quantity : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "quantity", "hash": {}, "data": data }) : helper)) + " </td> <td class=\"item-price\"> " + alias4((helper = (helper = helpers.subTotalWithCurrency || (depth0 != null ? depth0.subTotalWithCurrency : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "subTotalWithCurrency", "hash": {}, "data": data }) : helper)) + " <button type=\"button\" class=\"item-remove js-cart-item-remove icon-cart-close icon icon-cross\" " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.removeTrackObject : depth0, { "name": "if", "hash": {}, "fn": container.program(9, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " > Delete </button> </td> </tr> ";
        }, "3": function _(container, depth0, helpers, partials, data) {
            var helper;

            return "data-key=\"" + container.escapeExpression((helper = (helper = helpers.form_key || (depth0 != null ? depth0.form_key : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "form_key", "hash": {}, "data": data }) : helper)) + "\"";
        }, "5": function _(container, depth0, helpers, partials, data) {
            var helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = helpers.helperMissing,
                alias3 = "function",
                alias4 = container.escapeExpression;

            return "            <a href=\"" + alias4((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "url", "hash": {}, "data": data }) : helper)) + "\"> <img src=\"" + alias4((helper = (helper = helpers.packshot || (depth0 != null ? depth0.packshot : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "packshot", "hash": {}, "data": data }) : helper)) + "\" alt=\"" + alias4((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "name", "hash": {}, "data": data }) : helper)) + "\"> </a> ";
        }, "7": function _(container, depth0, helpers, partials, data) {
            var helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = helpers.helperMissing,
                alias3 = "function",
                alias4 = container.escapeExpression;

            return "            <img src=\"" + alias4((helper = (helper = helpers.packshot || (depth0 != null ? depth0.packshot : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "packshot", "hash": {}, "data": data }) : helper)) + "\" alt=\"" + alias4((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "name", "hash": {}, "data": data }) : helper)) + "\"> ";
        }, "9": function _(container, depth0, helpers, partials, data) {
            return " data-track-object='" + container.escapeExpression((helpers.stringify || depth0 && depth0.stringify || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.removeTrackObject : depth0, { "name": "stringify", "hash": {}, "data": data })) + "' ";
        }, "compiler": [7, ">= 4.0.0"], "main": function main(container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.basket : depth0) != null ? stack1.products : stack1, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "useData": true });
    this["test"] = window.diorV7.Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function main(container, depth0, helpers, partials, data) {
            return "ecrin";
        }, "useData": true });
    this["wishlist"] = window.diorV7.Handlebars.template({ "1": function _(container, depth0, helpers, partials, data) {
            var stack1,
                helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = helpers.helperMissing,
                alias3 = "function",
                alias4 = container.escapeExpression;

            return " <tr class=\"wishlist-product\"> <td class=\"product-image\"> <img src=\"" + alias4((helper = (helper = helpers.imgSmall || (depth0 != null ? depth0.imgSmall : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "imgSmall", "hash": {}, "data": data }) : helper)) + "\" alt=\"\" /> </td> <td class=\"product-description\"> <p>" + alias4((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "title", "hash": {}, "data": data }) : helper)) + "</p> " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.description : depth0, { "name": "if", "hash": {}, "fn": container.program(2, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.selectedVariant : depth0, { "name": "if", "hash": {}, "fn": container.program(4, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.configuration : depth0, { "name": "if", "hash": {}, "fn": container.program(6, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "    </td> <td class=\"product-price\"> " + alias4((helper = (helper = helpers.unitPriceWithCurrency || (depth0 != null ? depth0.unitPriceWithCurrency : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "unitPriceWithCurrency", "hash": {}, "data": data }) : helper)) + " </td> </tr> ";
        }, "2": function _(container, depth0, helpers, partials, data) {
            return "<span>" + container.escapeExpression((helpers.truncate || depth0 && depth0.truncate || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.description : depth0, 40, { "name": "truncate", "hash": {}, "data": data })) + "</span>";
        }, "4": function _(container, depth0, helpers, partials, data) {
            var helper;

            return "<span class=\"product-variant\">" + container.escapeExpression((helper = (helper = helpers.selectedVariant || (depth0 != null ? depth0.selectedVariant : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "selectedVariant", "hash": {}, "data": data }) : helper)) + "</span>";
        }, "6": function _(container, depth0, helpers, partials, data) {
            var stack1,
                alias1 = depth0 != null ? depth0 : {};

            return "            " + ((stack1 = helpers["if"].call(alias1, (stack1 = depth0 != null ? depth0.configuration : depth0) != null ? stack1.shade : stack1, { "name": "if", "hash": {}, "fn": container.program(7, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " " + ((stack1 = helpers["if"].call(alias1, (stack1 = depth0 != null ? depth0.configuration : depth0) != null ? stack1.capacity : stack1, { "name": "if", "hash": {}, "fn": container.program(9, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " " + ((stack1 = helpers["if"].call(alias1, (stack1 = depth0 != null ? depth0.configuration : depth0) != null ? stack1.intensity : stack1, { "name": "if", "hash": {}, "fn": container.program(11, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " ";
        }, "7": function _(container, depth0, helpers, partials, data) {
            var stack1;

            return "<span class=\"product-variant\">" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.configuration : depth0) != null ? stack1.shade : stack1, depth0)) + "</span>";
        }, "9": function _(container, depth0, helpers, partials, data) {
            var stack1;

            return "<span class=\"product-variant\">" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.configuration : depth0) != null ? stack1.capacity : stack1, depth0)) + "</span>";
        }, "11": function _(container, depth0, helpers, partials, data) {
            var stack1;

            return "<span class=\"product-variant\">" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.configuration : depth0) != null ? stack1.intensity : stack1, depth0)) + "</span>";
        }, "compiler": [7, ">= 4.0.0"], "main": function main(container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "useData": true });
}exports.default = new tpl();

},{}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var LegalForm = function () {
    function LegalForm($el, callback) {
        _classCallCheck(this, LegalForm);

        this.$el = $el;
        this.$form = this.$el.find('.js-form');
        this.initAccordion();
        if (callback) this.$form.on('submit', callback);
        this.initCheckboxes();
    }

    _createClass(LegalForm, [{
        key: 'initAccordion',
        value: function initAccordion() {
            var _this = this;

            var $scroll = this.$el.find('.js-scroll');

            if ($scroll.length && !$scroll.data('scroller')) {
                $scroll.scroller({
                    preventDefaultScroll: true
                });
            }

            /**
             * When user opens legal accordion
             */
            this.$el.find('.js-legal-accordion').each(function (i, el) {
                new diorV7.Accordion($(el), {
                    scroll: false,
                    onToggle: function onToggle(toggled, $section) {

                        if (toggled) {

                            // refresh formValidator
                            if (_this.$form.data('formValidator')) {
                                _this.$form.data('formValidator').refreshListeners();
                            }

                            //refresh scroller
                            var _$scroll = $section.find('.js-scroll');

                            if (_$scroll.length && _$scroll.data('scroller')) {
                                _$scroll.data('scroller').refresh();
                            }
                        }
                    }
                });
            });
        }
    }, {
        key: 'initCheckboxes',
        value: function initCheckboxes() {

            this.$el.find('.js-open-next-accordion').on('change', function (e) {

                var $checkbox = $(e.currentTarget);
                var $parent = $checkbox.parents('.accordion-section');
                if ($checkbox.prop('checked')) {
                    $parent.next('.js-legal-accordion').trigger('click');
                }
            });
        }
    }, {
        key: 'updateScroll',
        value: function updateScroll() {
            if (!this.$el.find('.js-scroll:visible').data('scroller')) this.$el.find('.js-scroll').scroller();else this.$el.find('.js-scroll:visible').data('scroller').refresh();
        }
    }, {
        key: 'show',
        value: function show() {
            diorV7.DOMStateManager.show(this.$el);
            this.updateScroll();
            this.$form.data('formValidator').refreshListeners();
        }
    }, {
        key: 'hide',
        value: function hide() {
            diorV7.DOMStateManager.hide(this.$el);
        }
    }]);

    return LegalForm;
}();

exports.default = LegalForm;

},{}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * Dependencies:
 * - diorV7.Player.PauseAll()
 */
var Popin = function () {

    /**
     * @param {object} options
     * {
     *        identifier: null,                    // the name of the popin, used in its class name, its selectors and events
     *        $trigger: null,                      // the element that will trigger the open method
     *        $el: null,                           // the $popin itself, only required for stat popin
     *        $wrapper: $('#popin-wrapper'),       // the wrapper in which every popin is injected at bottom of body
     *        manager: null,                       // a reference to popinManager
     *        closeButtonClass: '.js-popin-close',
     *        triggerEvents: 0                     // whether or not the popin triggers events
        }
     */
    function Popin(options) {
        _classCallCheck(this, Popin);

        var _defaults = {
            identifier: null,
            $trigger: null,
            $el: null,
            $wrapper: $('#popin-wrapper'),
            manager: null,
            closeButtonClass: '.js-popin-close',
            template: null,
            webservice: null,
            triggerEvents: 0,
            fullscreen: 0
        };

        this.o = $.extend(_defaults, options);
        this.isOpen = false;

        this.init();
        this.$el.data('popin', this);
        this.addListeners();
    }

    /**
     * This method is useful for PopinDynamic that extends Popin
     */


    _createClass(Popin, [{
        key: 'init',
        value: function init() {
            this.$el = this.o.$el;
        }
    }, {
        key: 'addListeners',
        value: function addListeners() {
            var _this = this;

            if (this.o.$trigger) {

                this._onTriggerClick = function (e) {
                    return _this.open(e);
                };

                this.o.$trigger.on('click', this._onTriggerClick);
            }

            this._onCloseClick = function () {
                return _this.close();
            };
            this.$el.find(this.o.closeButtonClass).on('click', this._onCloseClick);
            this._resize = function () {
                return _this.resize();
            };
            window.addEventListener('resize', this._resize());
        }
    }, {
        key: 'open',
        value: function open(e) {
            var _this2 = this;

            if (!this.isOpen) {
                this.isOpen = true;

                diorV7.DOMStateManager.fadeToggle(this.$el, 'hidden', 1, function () {
                    _this2.trigger('opened');
                    if (_this2.$el.find('.js-form').length) _this2.$el.find('.js-form').each(function () {
                        if ($(this).data('formValidator')) $(this).data('formValidator').refreshListeners();
                    });
                });
                this.trigger('open');
                this.toggleFullscreen();

                this.o.manager.toggleOverlay(this.$el, 1);

                diorV7.Player.PauseAll(this.player);
            }
        }
    }, {
        key: 'toggleFullscreen',
        value: function toggleFullscreen(fullscreen) {

            if (!fullscreen) fullscreen = this.o.fullscreen;

            if (!fullscreen) {
                this.setPosition();
                $('html').removeClass('popin-fullscreen');
            } else {
                var _zIndex = this.$el.css('z-index');
                this.$el.removeAttr('style').css('z-index', _zIndex);
                $('html').addClass('popin-fullscreen');
            }
        }
    }, {
        key: 'setPosition',
        value: function setPosition() {
            var _this3 = this;

            var _scrollTop = Math.min($('body').height() - window.innerHeight, $(document).scrollTop());
            setTimeout(function () {
                var _marginTop = (window.innerHeight - _this3.$el.outerHeight(true)) * 0.5;
                _this3.$el.css('top', _scrollTop + _marginTop);
            }, 50);
        }
    }, {
        key: 'close',
        value: function close() {
            var _this4 = this;

            if (this.isOpen) {
                this.isOpen = false;
                diorV7.DOMStateManager.fadeToggle(this.$el, 'hidden', 0, function () {
                    if (_this4.o.fullscreen) $('html').removeClass('popin-fullscreen');
                    _this4.trigger('closed');
                });
                this.o.manager.toggleOverlay(this.$el, 0);
                this.trigger('close');
            }
        }
    }, {
        key: 'resize',
        value: function resize() {
            this.trigger('resize');
        }
    }, {
        key: 'destroy',
        value: function destroy() {

            if (this.o.$trigger) {
                this.o.$trigger.off('click', this._onTriggerClick);
            }

            this.$el.find(this.o.closeButtonClass).off('click', this._onCloseClick);
            window.removeEventListener('resize', this._resize());
            this.trigger('destroyed');
        }
    }, {
        key: 'trigger',
        value: function trigger(event) {
            if (this.o.triggerEvents) diorV7.dispatcher.trigger('popin-' + this.o.identifier + '::' + event);
        }
    }, {
        key: 'on',
        value: function on(event, callback) {
            if (this.o.triggerEvents) diorV7.dispatcher.on('popin-' + this.o.identifier + '::' + event, callback);
        }
    }]);

    return Popin;
}();

exports.default = Popin;

},{}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _Popin2 = require('./Popin.js');

var _Popin3 = _interopRequireDefault(_Popin2);

var _LegalForm = require('../LegalForm.js');

var _LegalForm2 = _interopRequireDefault(_LegalForm);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PopinNewsletter = function (_Popin) {
    _inherits(PopinNewsletter, _Popin);

    function PopinNewsletter(options) {
        _classCallCheck(this, PopinNewsletter);

        options.triggerEvents = true;
        return _possibleConstructorReturn(this, (PopinNewsletter.__proto__ || Object.getPrototypeOf(PopinNewsletter)).call(this, options));
    }

    _createClass(PopinNewsletter, [{
        key: 'init',
        value: function init() {
            var _this2 = this;

            _get(PopinNewsletter.prototype.__proto__ || Object.getPrototypeOf(PopinNewsletter.prototype), 'init', this).call(this);
            var $newsletterForm = this.$el.find('.js-newsletter-form');
            var $legalForm = this.$el.find('.js-legal-form');
            var $confirm = this.$el.find('.js-newsletter-confirm');

            if ($legalForm.length) {
                (function () {

                    var legalAccepted = false;
                    /**
                     * Newsletter legal form calls a callback on submit
                     * On submit, set conditions to accepted and call
                     * submit on the form below popin to send information
                     * If legalAccepted is false the form below will not be
                     * sent
                     */
                    var newsletterLegal = new _LegalForm2.default($legalForm, function (e) {
                        e.preventDefault();
                        legalAccepted = true;
                        $newsletterForm.submit();
                    });

                    $newsletterForm.on('submit', function (e) {
                        if (!legalAccepted) {
                            e.preventDefault();
                            diorV7.DOMStateManager.hide($newsletterForm);
                            newsletterLegal.show();
                        } else {
                            _this2.send(e);
                        }
                    });
                })();
            } else {
                $newsletterForm.on('submit', function (e) {
                    return _this2.send(e);
                });
            }

            this.on('closed', function () {
                diorV7.DOMStateManager.show($newsletterForm);
                if (typeof newsletterLegal !== 'undefined') newsletterLegal.hide();
                diorV7.DOMStateManager.hide($confirm);
            });
        }
    }, {
        key: 'open',
        value: function open() {
            _get(PopinNewsletter.prototype.__proto__ || Object.getPrototypeOf(PopinNewsletter.prototype), 'open', this).call(this);

            // reset form
            var _formValidator = this.$el.find('form').data('formValidator');
            _formValidator.reset();

            diorV7.DOMStateManager.hide(this.$el.find('.js-popin-error'));

            // & inject e-mail value in popin form
            var $email = this.$el.find('input[type="email"]');
            $email.val(diorV7.Footer.email);

            _formValidator.validate($email);
        }
    }, {
        key: 'send',
        value: function send(e) {
            var _this3 = this;

            e.preventDefault();
            $.ajax({
                url: diorV7.config.webservices.NEWSLETTER.url,
                type: diorV7.config.webservices.NEWSLETTER.method,
                xhrFields: diorV7.config.webservices.NEWSLETTER.xhrFields,
                data: this.$el.find('.js-newsletter-form').serialize(),
                success: function success(data) {
                    //V6 - V7 Support
                    if (data.status && data.status !== 'ok' || data.errorCode) return _this3.onError(data);
                    _this3.onSuccess(data);
                }
            });
        }
    }, {
        key: 'onSuccess',
        value: function onSuccess(data) {
            //V6 - V7 Support
            if (data.status && data.status !== 'ok' || data.errorCode) return this.onError(data);

            diorV7.DOMStateManager.hide(this.$el.find('.js-legal-form, .js-newsletter-form'));
            diorV7.DOMStateManager.show(this.$el.find('.js-newsletter-confirm'));
        }
    }, {
        key: 'onError',
        value: function onError(data) {
            console.warn('PopinNewsletter -> Error', data);
            var $err = this.$el.find('.js-popin-error');
            if ($err.length) {
                // V6 - V7 error message support
                var _errorMessage = data.message ? data.message : data.errorMessages.join(' ');
                $err.text(_errorMessage);
                diorV7.DOMStateManager.show($err);
            } else {
                console.warn('PopinNewsletter -> No js-popin-error element in popin');
            }
        }
    }]);

    return PopinNewsletter;
}(_Popin3.default);

exports.default = PopinNewsletter;

},{"../LegalForm.js":15,"./Popin.js":16}],18:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Dispatcher = require('./Dispatcher.js');

var _Dispatcher2 = _interopRequireDefault(_Dispatcher);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * Private instance of Cart
 */
var _inst = void 0;

var CartModule = function () {
    // jshint ignore:end

    function CartModule() {
        _classCallCheck(this, CartModule);

        this.dirty = true;
        this.selector = ".js-direct-addtocart";
        this.dispatcher = null;
        this.total = 0;
        this.totalCDC = 0;
        this.totalPCD = 0;
        this.cookieOptions = { expires: 15 };

        _inst = this;
        this.dispatcher = new _Dispatcher2.default();

        this.addTriggers();
    }
    // jshint ignore:start


    _createClass(CartModule, [{
        key: 'addTriggers',
        value: function addTriggers() {
            var _this = this;

            _inst.cookieOptions.domain = Cookies.defaults.domain;
            _inst.cookieOptions.path = Cookies.defaults.path;

            $('body').on('click', this.selector, function (e) {
                var $btn = $(e.currentTarget);

                var sku = $btn.data('sku');
                var quantity = $btn.data('quantities') || $btn.data('quantity');
                var origin = $btn.data('origin');

                if (sku === undefined) {
                    console.warn('[Cart]: missing sku code on ' + $btn[0]);
                    return;
                }

                if (origin === undefined) {
                    origin = $('body').data('origin');
                    if (origin === undefined) {
                        console.warn('[Cart]: missing origin on body, and nothing set in trigger data-origin.');
                        return;
                    }
                }

                if (quantity === undefined) {
                    console.warn('[Cart]: missing quantity on ' + $btn[0] + '. Add 1 by default.');
                    quantity = '1';
                }

                // we don't have sticky header, so unable to display a confirm layer... need a lightbox absolute top-right?
                diorV7.CartModule.add(sku, quantity, origin, true, e.currentTarget);
            });

            // V6 ADDTOCART FROM QUICKBUY
            // - signals is loaded in addToCart.build.js
            if (window.signals) {
                window.core.signals.global = new signals.Signal();
                window.core.signals.global.add(function (event, data, origin) {
                    if (event === 'addToCart::success') {
                        _this.onAdded.call(_this, data, origin, true);
                    }
                });
            }
        }

        /**
         * Gets both carts (PCD and CDC) and renders them
         * Always trigger a 'complete' event, we have 3 case:
         * - cart is empty
         * - cart is dirty: need to make ajax calls
         * - cart is not dirty
         */

    }, {
        key: 'get',
        value: function get() {
            if (this.dirty) {
                this.getTotal();

                if (this.total > 0) {
                    this._needed = 0;
                    if (this.totalPCD > 0) {
                        ++this._needed;
                        this.getForOrigin('PCD');
                    }
                    if (this.totalCDC > 0) {
                        ++this._needed;
                        this.getForOrigin('CDC');
                    }
                } else {
                    this.dispatcher.trigger('complete');
                }
            } else {
                this.dispatcher.trigger('complete');
            }
        }

        /**
         * Gets basket content for universe (origin)
         * @param origin {'PCD' | 'CDC'}
         * @returns {*}
         */

    }, {
        key: 'getForOrigin',
        value: function getForOrigin(origin) {
            var _this2 = this;

            origin = origin.toUpperCase();

            return $.ajax({
                url: diorV7.config.webservices.CART[origin].GET.url,
                type: diorV7.config.webservices.CART[origin].GET.method,
                // DEFINE A FORMATTER OBJECT FOR THE CALL
                // must have a Request method that format the settings data object directly
                // must have a Response method that format the data, and return a stringified object
                // @see diorV7.config.js
                // @seealso pcis.AjaxFormat.js (http://www.dior.cn/medias/version-6.9.1488558669739/pcis/js/custom_cn.js)
                formatter: diorV7.config.webservices.CART[origin].GET.formatter,
                contentType: diorV7.config.webservices.CART[origin].GET.contentType,

                success: function success(data) {
                    // inject origin (for templating)
                    data.origin = origin;
                    _this2.onSuccess(data, origin);
                },
                error: function error(data) {
                    return _this2.onError(data);
                }
            });
        }
    }, {
        key: 'onSuccess',
        value: function onSuccess(data, origin) {
            --this._needed;

            if (data.errorCode || data.status == "nok") return this.onError(data);else {
                diorV7.data.cart[origin] = data;
                this.dispatcher.trigger('origin', origin, data);
            }

            if (this._needed === 0) {
                // data are up-to-date
                this.dirty = false;

                // dispatch complete, used by:
                // - roll WishList
                this.dispatcher.trigger('complete');
            }
        }
    }, {
        key: 'onError',
        value: function onError(data) {
            console.warn('[CartModule]: ws failed.');
            // dispatch complete, used by:
            // - roll WishList
            this.dispatcher.trigger('error', data);
        }

        /**
         * getTotal reads cookies to find out how many products are in cart
         * and displays number next to cart icon
         * @return total {int}
         */

    }, {
        key: 'getTotal',
        value: function getTotal() {
            var cookieCDC = Cookies.get(diorV7.config.cookies.CART.CDC.name) || 0;
            var cookiePCD = Cookies.get(diorV7.config.cookies.CART.PCD.name) || 0;

            this.totalCDC = parseInt(cookieCDC);
            this.totalPCD = parseInt(cookiePCD);
            this.total = this.totalCDC + this.totalPCD;

            return this.total;
        }
    }, {
        key: 'buildSkuString',
        value: function buildSkuString(skuCodes, quantities) {
            var skus = "";
            for (var i = 0; i <= skuCodes.length - 1; ++i) {

                skus += "sku=" + skuCodes[i] + ":quantity=" + quantities[i] + ',';
            }

            skus = "skus=" + skus.replace(/,$/, "");

            return skus;
        }

        /**
         * Fires an ajax request to delete product and re renders basket
         * @param e {Event} triggered by button with data attributes depending on
         *                  origin using idToDelete or form_key and sku
         */

    }, {
        key: 'onAdded',
        value: function onAdded(data, origin, silent, button) {
            if (!data) return;

            // support v7 format or v6 format
            if (data.errorCode || data.status === "nok") {
                this.onError(data);
            } else {
                this.dirty = true;

                // do we need to update cookie value?
                if (origin && diorV7.config.cookies.CART[origin].jsUpdate) {
                    // for now, you can't choose quantity on addToCart
                    this['total' + origin] += 1;
                    this.total += 1;
                    Cookies.set(diorV7.config.cookies.CART[origin].name, this['total' + origin], this.cookieOptions);
                }

                if (button) {
                    if (window.modules && modules.AddToCart) {
                        // display popin (not roll)
                        // -> use the v6 popin (included in addToCart.build.js)
                        // -> let the v6 addToCart track
                        modules.AddToCart.PopinData = data;
                        modules.AddToCart.$currentButton = $(button);
                        modules.AddToCart.Confirm(data.basketsize, $(button), origin, true);
                    } else {
                        // force tracking for the addToCart button (it has the class .js-no-click-track to track only on success
                        window.diorV7.tracking.track.call(button, null, true);
                    }
                }

                this.dispatcher.trigger('added', silent);
            }
        }
    }], [{
        key: 'remove',
        value: function remove(e) {

            var $cartProduct = $(e.currentTarget).parents('.js-cart-item:first');

            var params = [];
            var origin = $cartProduct.data('origin');
            if (origin === undefined) {
                origin = $('body').data('origin');
                if (origin === undefined) {
                    console.warn('[Cart]: missing origin on body, and nothing set in trigger data-origin.');
                    return;
                }
            }

            if ($cartProduct.data('id')) params.push('idToDelete=' + $cartProduct.data('id'));
            if ($cartProduct.data('key')) params.push('form_key=' + $cartProduct.data('key'));
            if ($cartProduct.data('sku')) params.push('sku=' + $cartProduct.data('sku'));

            params = params.join('&');

            $.ajax({
                url: diorV7.config.webservices.CART[origin].DELETE.url,
                type: diorV7.config.webservices.CART[origin].DELETE.method,
                data: params,
                // DEFINE A FORMATTER OBJECT FOR THE CALL
                // must have a Request method that format the settings data object directly
                // must have a Response method that format the data, and return a stringified object
                // @see diorV7.config.js
                // @seealso pcis.AjaxFormat.js (http://www.dior.cn/medias/version-6.9.1488558669739/pcis/js/custom_cn.js)
                xhrFields: diorV7.config.webservices.CART[origin].DELETE.xhrFields,
                formatter: diorV7.config.webservices.CART[origin].DELETE.formatter,
                contentType: diorV7.config.webservices.CART[origin].DELETE.contentType,

                success: function success(data) {
                    if (!data.erroCode || data.status) {
                        // update store
                        diorV7.data.cart[origin] = data;

                        // do we need to update cookie value?
                        if (diorV7.config.cookies.CART[origin].jsUpdate) {
                            _inst['total' + origin] = data.basket.productsQuantity;
                            Cookies.set(diorV7.config.cookies.CART[origin].name, _inst['total' + origin], _inst.cookieOptions);

                            _inst.total = _inst.totalCDC + _inst.totalPCD;
                        } else {
                            _inst.getTotal();
                        }

                        _inst.dispatcher.trigger('removed', $cartProduct, data);
                        _inst.dirty = true;
                    } else {
                        _inst.onError(data);
                    }
                },
                error: function error(data) {
                    return _inst.onError(data);
                }
            });
        }
    }, {
        key: 'get',
        value: function get() {
            _inst.get();
        }

        /**
         * Static method to adds products to cart
         * @param skuCodes {string} : a list of skus separated by commas
         * @param quantities        : a list of quantities separated by commas
         * @param origin {string}   : PCD | CDC
         * @param silent {bool}     : if set to true, doesn't toggle roll on addition
         */

    }, {
        key: 'add',
        value: function add(skuCodes, quantities, origin, silent, button) {
            skuCodes = String(skuCodes).split(",");
            quantities = String(quantities).split(",");

            jQuery.ajax({
                type: diorV7.config.webservices.CART[origin].ADD.method,
                url: diorV7.config.webservices.CART[origin].ADD.url,
                data: _inst.buildSkuString(skuCodes, quantities),

                // DEFINE A FORMATTER OBJECT FOR THE CALL
                // must have a Request method that format the settings data object directly
                // must have a Response method that format the data, and return a stringified object
                // @see diorV7.config.js
                // @seealso pcis.AjaxFormat.js (http://www.dior.cn/medias/version-6.9.1488558669739/pcis/js/custom_cn.js)
                formatter: diorV7.config.webservices.CART[origin].ADD.formatter,
                contentType: diorV7.config.webservices.CART[origin].ADD.contentType,

                success: function success(data) {
                    return _inst.onAdded.call(_inst, data, origin, silent, button);
                },
                error: _inst.onError.bind(_inst)
            });
        }
    }, {
        key: 'on',
        value: function on(event, cb) {
            _inst.dispatcher.on(event, cb);
        }
    }, {
        key: 'off',
        value: function off(event, cb) {
            _inst.dispatcher.off(event, cb);
        }
    }, {
        key: 'totalFor',
        value: function totalFor(origin) {
            return _inst['total' + origin];
        }
    }, {
        key: 'total',
        get: function get() {
            return _inst.getTotal();
        }
    }, {
        key: 'data',
        get: function get() {
            return diorV7.data.cart;
        }
    }]);

    return CartModule;
}();

/* expose static members */


window.diorV7.CartModule = CartModule;

exports.default = CartModule;

},{"./Dispatcher.js":19}],19:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Dispatcher = function () {
    function Dispatcher() {
        _classCallCheck(this, Dispatcher);

        this.actions = [];
    }
    /**
     * Registers a callback with an action
     * scope defines the scope on wich callback
     * will be called
     * @param {string} action
     * @param {function} callback
     * @param {context} scope
     */


    _createClass(Dispatcher, [{
        key: 'on',
        value: function on(action, callback, scope) {

            if (!this.actions[action]) this.actions[action] = [{
                scope: scope,
                callback: callback
            }];else this.actions[action].push({
                scope: scope,
                callback: callback
            });
            return this;
        }

        /**
         * Removes a registered callback from an action
         * @param {string} action
         * @param {function} callback
         */

    }, {
        key: 'off',
        value: function off(action, callback) {
            if (!this.actions[action]) console.warn('Dispatcher->' + action + ' is undefined');
            if (!callback) this.actions[action] = [];

            var _index = this.actions[action].indexOf(callback);
            if (_index > -1) this.actions[action].splice(_index, 1);
            return this;
        }

        /**
         * Triggers an action and all associated callbacks
         * @param {string} action
         * @param {any} params - any number of optionnal params passed to the callbacks
         */

    }, {
        key: 'trigger',
        value: function trigger(action) {
            for (var _len = arguments.length, params = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                params[_key - 1] = arguments[_key];
            }

            if (this.actions[action]) {
                this.actions[action].forEach(function (_action) {
                    if (typeof _action.callback === 'function') {
                        var _action$callback;

                        if (_action.scope) (_action$callback = _action.callback).call.apply(_action$callback, [_action.scope].concat(params));else _action.callback.apply(_action, params);
                    }
                });
            }

            return this;
        }
    }]);

    return Dispatcher;
}();

exports.default = Dispatcher;

},{}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var equalHeight = {

    defaultContainer: '#container',
    defaultSelector: '.js-equal-height',
    defaultMainSelector: '.js-equal-height-main',

    /**
     * Function to set equal height on all items of a container
     * @param itemContainer {string}
     * @param itemSelector {string}
     * @param mainSelector {string} Specify the reference element: all others items will be sized to match this element
     * @param removePadding {boolean}
     */
    equalize: function equalize(itemContainer, itemSelector, mainSelector, removePadding) {
        var container = itemContainer ? itemContainer : this.defaultContainer;
        var selector = itemSelector ? itemSelector : this.defaultSelector;
        var main = mainSelector ? mainSelector : this.defaultMainSelector;

        $(container).each(function () {
            var $items = $(this).find(selector);
            var maxH = $items.find(main).length > 0 ? $items.find(main).outerHeight() : 0;

            if ($items.find(main).length <= 0) {
                // if no main get max
                $items.each(function () {
                    // save old style
                    var _$item = $(this);
                    var oldStyle = _$item.attr('style');
                    _$item.attr('style', '');
                    var itemH = parseFloat(_$item.outerHeight()) - parseFloat(_$item.css('padding-top')) - parseFloat(_$item.css('padding-bottom'));
                    maxH = itemH > maxH ? itemH : maxH;
                    // reset style
                    _$item.attr('style', oldStyle);
                });
            }

            if (!removePadding) {
                $items.height(maxH);
            } else {
                $items.each(function () {
                    var $this = $(this);
                    $this.height(maxH - parseFloat($this.css('padding-top')) - parseFloat($this.css('padding-bottom')));
                });
            }
        });
    }
};

exports.default = equalHeight;

},{}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Dispatcher = require('./Dispatcher.js');

var _Dispatcher2 = _interopRequireDefault(_Dispatcher);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * Private instance of Cart
 */
var _inst = void 0;

var WishListModule = function () {
    // jshint ignore:end

    function WishListModule() {
        var _this = this;

        _classCallCheck(this, WishListModule);

        this.dirty = true;
        this.selector = '.js-wishlist-toggle, .js-wishlist-add, .js-wishlist-delete';
        this.selectorAdd = '.js-wishlist-add';
        this.selectorDelete = '.js-wishlist-delete';
        this.dispatcher = null;

        _inst = this;
        this.dispatcher = new _Dispatcher2.default();

        if (!$('html').hasClass('no-wishlist')) {
            this.origin = $('body').data('origin').toUpperCase();

            if (diorV7.Account.connected) {
                // no need to have all wishlist informations (only used by Roll/Wishlist
                // just read coonkies to update triggers
                this.updateTriggers();
            } else {
                this.popinDisconnected = diorV7.popinManager.instanciate({
                    $el: $('.js-popin-wishlist-disconnected'),
                    identifier: 'wishlist-disconnected'
                });
                this.popinDisconnected.$el.find('.js-create-account').on('click', function () {
                    _this.notLoggedPost('CREATE', _this.popinDisconnected.universe);
                });
                this.popinDisconnected.$el.find('.js-login').on('click', function () {
                    _this.notLoggedPost('LOGIN', _this.popinDisconnected.universe);
                });
            }
            this.addTriggers();
        }
    }
    // jshint ignore:start


    _createClass(WishListModule, [{
        key: 'get',
        value: function get() {
            var _data = {
                market: $('body').data('market'),
                limit: diorV7.config.WISHLIST_LIMIT
            };
            if (diorV7.config.webservices.ACCOUNT.WISHLIST[this.origin].GET.contentType && diorV7.config.webservices.ACCOUNT.WISHLIST[this.origin].GET.contentType === 'application/json') {
                _data = JSON.stringify(_data);
            }

            $.ajax({
                url: diorV7.config.webservices.ACCOUNT.WISHLIST[this.origin].GET.url,
                type: diorV7.config.webservices.ACCOUNT.WISHLIST[this.origin].GET.method,
                contentType: diorV7.config.webservices.ACCOUNT.WISHLIST[this.origin].GET.contentType,
                xhrFields: diorV7.config.webservices.ACCOUNT.WISHLIST[this.origin].GET.xhrFields,
                data: _data,
                cache: false,
                success: this.onSuccess.bind(this),
                error: this.onError.bind(this)
            });
        }
    }, {
        key: 'onSuccess',
        value: function onSuccess(data) {
            if (data.errorCode) return this.onError(data);

            // data are up-to-date
            this.dirty = false;
            // update all triggers (update star icon)
            this.updateTriggers();

            // expose data, used by:
            // - page Account
            if (!diorV7.data.account) diorV7.data.account = {};

            // empty wishlist
            if (data.data) {
                diorV7.data.account.wishlist = data.data;
            } else {
                diorV7.data.account.wishlist = [];
            }

            // dispatch complete, used by:
            // - roll WishList
            this.dispatcher.trigger('complete', diorV7.data.account.wishlist);
        }
    }, {
        key: 'onError',
        value: function onError(data) {
            console.warn('[Wishlist]: ws failed.');
            // dispatch complete, used by:
            // - roll WishList
            this.dispatcher.trigger('error', data);
        }
    }, {
        key: 'addOrDelete',


        /**
         * Generic function that adds or removes product from wishlist
         * @param action {'POST' | 'DELETE'}
         * @param universe {'PCD' | 'CDC'}
         * @param identifier {string}
         * @param market {string}
         * @param silent {bool}
         */
        value: function addOrDelete(action, universe, identifier, market, _tracking, silent) {
            var _this2 = this;

            var _data = {
                universe: universe,
                identifier: identifier
            };
            if (market) {
                _data.market = market;
            }

            // we use uppercase in config
            var wsUniverse = universe.toUpperCase();

            if (diorV7.config.webservices.ACCOUNT.WISHLIST[wsUniverse][action].contentType && diorV7.config.webservices.ACCOUNT.WISHLIST[wsUniverse][action].contentType === 'application/json') {
                _data = JSON.stringify(_data);
            }

            $.ajax({
                url: diorV7.config.webservices.ACCOUNT.WISHLIST[wsUniverse][action].url,
                type: diorV7.config.webservices.ACCOUNT.WISHLIST[wsUniverse][action].method,
                contentType: diorV7.config.webservices.ACCOUNT.WISHLIST[wsUniverse][action].contentType,
                xhrFields: diorV7.config.webservices.ACCOUNT.WISHLIST[wsUniverse][action].xhrFields,
                data: _data,
                success: function success(data) {
                    if (!data.errorCode) {
                        // mark the data "dirty": if we want to open the roll, we need a get
                        _this2.dirty = true;

                        if (action === 'POST') {
                            // do we need to update cookie value?
                            if (diorV7.config.cookies.WISHLIST.jsUpdate) {
                                var _string = Cookies.get(diorV7.config.cookies.WISHLIST[wsUniverse]) || "";
                                if (_string.length) {
                                    _string = decodeURIComponent(_string);
                                    _string += ',';
                                }
                                _string += identifier;
                                Cookies.remove(diorV7.config.cookies.WISHLIST[wsUniverse]);
                                Cookies.set(diorV7.config.cookies.WISHLIST[wsUniverse], _string);
                                if (_tracking) {
                                    diorV7.tracking.trackObjectString(_tracking.replace(diorV7.config.tracking.wishlist.notConnected, diorV7.config.tracking.wishlist.connected));
                                }
                            }
                            // do we need to open the roll?
                            if (!silent) {
                                _this2.dispatcher.trigger('added', universe, identifier);
                            }
                        } else {
                            // do we need to update cookie value?
                            if (diorV7.config.cookies.WISHLIST.jsUpdate) {
                                var _string2 = Cookies.get(diorV7.config.cookies.WISHLIST[wsUniverse]) || "";
                                if (_string2.length) {
                                    _string2 = decodeURIComponent(_string2);
                                } else {
                                    return;
                                }

                                _string2 = _string2.replace(identifier, '');
                                _string2 = _string2.replace(',,', ',');
                                // first item case
                                if (_string2.charAt(0) === ',') {
                                    _string2 = _string2.substring(1);
                                }
                                // last item case
                                var _length = _string2.length - 1;
                                if (_string2.charAt(_length) === ',') {
                                    _string2 = _string2.substring(0, _length);
                                }

                                // IE11: default options are not passed...
                                Cookies.set(diorV7.config.cookies.WISHLIST[wsUniverse], _string2);
                            }

                            _this2.dispatcher.trigger('removed', universe, identifier);
                        }

                        _this2.updateTriggers();
                    } else if (data.errorCode === "USER_NOT_LOGGED") {

                        _this2.popinDisconnected.postData = {
                            sku: identifier,
                            url: document.location.href,
                            universe: universe
                        };
                        _this2.notLoggedPost('LOGIN', universe);
                    } else {
                        _this2.onError(data);
                    }
                },
                error: this.onError.bind(this)
            });
        }

        /**
         * Adds listeners to js-wishlist-add triggers
         * Only works if product isn't already in wishlist
         */

    }, {
        key: 'addTriggers',
        value: function addTriggers() {
            var _this3 = this;

            var _popin = diorV7.popinManager.instanciate({
                identifier: 'delete-wishlist-product',
                $el: $('.js-popin-delete-wishlist-product'),
                triggerEvents: true
            });

            // deletion relies on in-wishlist class, once popin is closed add it back to button
            _popin.on('close', function () {
                _popin.$el.find('.js-wishlist-delete').toggleClass('in-wishlist', true);
            });

            this._onClick = function (e) {
                _this3.onClick.call(_this3, e, _popin);
            };
            $('body').on('click', this.selector, this._onClick).on('click', this.selectorAdd, this._onClick);
        }
    }, {
        key: 'onClick',
        value: function onClick(e, _popin) {

            e.preventDefault();
            e.stopPropagation();
            e.stopImmediatePropagation();

            var $this = $(e.currentTarget);
            var _universe = $this.data('universe');
            var _id = $this.attr('data-identifier'); // updated by v6 on FP through 'attr' method

            var _market = $this.data('market') || $('body').data('market');
            var _tracking = $this.attr('data-wishlist-tracking');

            if (!diorV7.Account.connected) {
                this.popinDisconnected.universe = _universe;
                this.openDisconnectedPopin(_universe, _id, document.location.href);
                if (_tracking) diorV7.tracking.trackObjectString(_tracking);
                return;
            }

            var _confirm = $this.data('confirm');

            if (!_universe) {
                console.warn('[Wishlist] missing data-universe on trigger ' + $this[0]);
                return;
            }
            if (!_id) {
                console.warn('[Wishlist] missing data-identifier on trigger ' + $this[0]);
                return;
            }

            if (_confirm) {
                _popin.open();

                var $button = _popin.$el.find('.js-wishlist-delete');
                $button.attr('data-universe', _universe);
                $button.attr('data-identifier', _id);
                $button.attr('data-market', _market);
            } else {
                // if not in wishlist => Add
                if (!$this.hasClass('in-wishlist')) {
                    if (!$this.hasClass(this.selectorDelete.replace('.', ''))) {
                        diorV7.WishListModule.add(_universe, _id, _market, _tracking);
                    }
                } else {
                    if (!$this.hasClass(this.selectorAdd.replace('.', ''))) {
                        diorV7.WishListModule.remove(_universe, _id, _market, _tracking);
                    }
                }
            }
        }
    }, {
        key: 'openDisconnectedPopin',
        value: function openDisconnectedPopin(universe, id, href) {
            this.popinDisconnected.open();
            this.popinDisconnected.postData = {
                sku: id,
                url: href,
                universe: universe
            };
        }
    }, {
        key: 'notLoggedPost',
        value: function notLoggedPost(action, universe) {
            universe = universe.toUpperCase();
            // make a post with current url and sku
            var form = document.createElement("form");
            form.setAttribute("method", diorV7.config.webservices.ACCOUNT.WISHLIST[universe].NOT_LOGGED[action].method);
            form.setAttribute("action", diorV7.config.webservices.ACCOUNT.WISHLIST[universe].NOT_LOGGED[action].url);

            for (var key in this.popinDisconnected.postData) {
                if (this.popinDisconnected.postData.hasOwnProperty(key)) {
                    var hiddenField = document.createElement("input");
                    hiddenField.setAttribute("type", "hidden");
                    hiddenField.setAttribute("name", key);
                    hiddenField.setAttribute("value", this.popinDisconnected.postData[key]);
                    form.appendChild(hiddenField);
                }
            }

            document.body.appendChild(form);
            form.submit();
        }

        /**
         * Updates triggers, depending on their presence in wishlist, toggles in-wishlist class
         */

    }, {
        key: 'updateTriggers',
        value: function updateTriggers() {
            var _this4 = this;

            $(this.selector).each(function (i, el) {
                var $this = $(el);
                if ($this.attr('data-universe') && $this.attr('data-identifier')) {
                    $this.toggleClass('in-wishlist', _this4.isInWishlist($this.attr('data-universe'), $this.attr('data-identifier')));
                }
            });
        }

        /**
         * Wishlist products are stored in separate cookies for PCD and CDC
         * Each cookie contains a list of identifiers separated by commas
         * @param universe ('cdc' | 'pcd')
         * @param identifier
         * @returns {boolean}
         */

    }, {
        key: 'isInWishlist',
        value: function isInWishlist(universe, identifier) {
            universe = universe.toUpperCase();
            var _wishlistProducts = Cookies.get(diorV7.config.cookies.WISHLIST[universe]);

            if (_wishlistProducts) {
                _wishlistProducts = _wishlistProducts.split(',');
            } else {
                return false;
            }

            this.totalProducts = _wishlistProducts.length;

            if (this.totalProducts > 0) {
                for (var i = 0; i < this.totalProducts; ++i) {
                    if (_wishlistProducts[i] === identifier) {
                        return true;
                    }
                }
            }
            return false;
        }
    }], [{
        key: 'get',
        value: function get() {
            _inst.get();
        }

        /**
         * adds a product|video to wishlist and open
         * @param universe {'PCD' | 'CDC'}
         * @param identifier {string}
         */

    }, {
        key: 'add',
        value: function add(universe, identifier, market, _tracking, silent) {
            _inst.addOrDelete('POST', universe, identifier, market, _tracking, silent);
        }

        /**
         * removed a product|video from wishlist
         * @param universe {'PCD' | 'CDC'}
         * @param identifier {string}
         */

    }, {
        key: 'remove',
        value: function remove(universe, identifier, market, _tracking) {
            _inst.addOrDelete('DELETE', universe, identifier, market, _tracking);
        }
    }, {
        key: 'on',
        value: function on(event, cb) {
            _inst.dispatcher.on(event, cb);
        }
    }, {
        key: 'off',
        value: function off(event, cb) {
            _inst.dispatcher.off(event, cb);
        }
    }, {
        key: 'refreshTriggers',


        /* used on V6: FP */
        value: function refreshTriggers() {
            _inst.updateTriggers();
        }
    }, {
        key: 'total',
        get: function get() {
            if (_inst.dirty) {
                _inst.total = 0;
                if (Cookies.get(diorV7.config.cookies.WISHLIST.CDC)) _inst.total += Cookies.get(diorV7.config.cookies.WISHLIST.CDC).split(',').length;
                if (Cookies.get(diorV7.config.cookies.WISHLIST.PCD)) _inst.total += Cookies.get(diorV7.config.cookies.WISHLIST.PCD).split(',').length;
            }
            return _inst.total;
        }
    }]);

    return WishListModule;
}();

/* expose static members */


window.diorV7.WishListModule = WishListModule;

exports.default = WishListModule;

},{"./Dispatcher.js":19}]},{},[1])
;//Smile
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvanMvY2Fwc3VsZS5qcyIsImFzc2V0cy9qcy9jYXBzdWxlL2Zvb3Rlci9Gb290ZXIuanMiLCJhc3NldHMvanMvY2Fwc3VsZS9oZWFkZXIvSGVhZGVyLmpzIiwiYXNzZXRzL2pzL2NhcHN1bGUvaGVhZGVyL2Jsb2Nrcy9TdWJOYXYuanMiLCJhc3NldHMvanMvY2Fwc3VsZS9oZWFkZXIvYmxvY2tzL1N1Yk5hdkZvbGRpbmcuanMiLCJhc3NldHMvanMvY2Fwc3VsZS9oZWFkZXIvYmxvY2tzL1RvcE1lbnUuanMiLCJhc3NldHMvanMvY2Fwc3VsZS9oZWFkZXIvYmxvY2tzL3JvbGxzLmpzIiwiYXNzZXRzL2pzL2NhcHN1bGUvaGVhZGVyL2Jsb2Nrcy9yb2xscy9BY2NvdW50LmpzIiwiYXNzZXRzL2pzL2NhcHN1bGUvaGVhZGVyL2Jsb2Nrcy9yb2xscy9DYXJ0LmpzIiwiYXNzZXRzL2pzL2NhcHN1bGUvaGVhZGVyL2Jsb2Nrcy9yb2xscy9FcnJvci5qcyIsImFzc2V0cy9qcy9jYXBzdWxlL2hlYWRlci9ibG9ja3Mvcm9sbHMvUm9sbC5qcyIsImFzc2V0cy9qcy9jYXBzdWxlL2hlYWRlci9ibG9ja3Mvcm9sbHMvV2lzaGxpc3QuanMiLCJhc3NldHMvanMvY2Fwc3VsZS9oZWFkZXIvYmxvY2tzL3RvcExheWVyLmpzIiwiYXNzZXRzL2pzL2NhcHN1bGUvdGVtcGxhdGVzLmpzIiwiYXNzZXRzL2pzL2NvbXBvbmVudHMvTGVnYWxGb3JtLmpzIiwiYXNzZXRzL2pzL2NvbXBvbmVudHMvcG9waW5zL1BvcGluLmpzIiwiYXNzZXRzL2pzL2NvbXBvbmVudHMvcG9waW5zL1BvcGluTmV3c2xldHRlci5qcyIsImFzc2V0cy9qcy9tb2R1bGVzL0NhcnQuanMiLCJhc3NldHMvanMvbW9kdWxlcy9EaXNwYXRjaGVyLmpzIiwiYXNzZXRzL2pzL21vZHVsZXMvZXF1YWxIZWlnaHQuanMiLCJhc3NldHMv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QUExRTtBQUN4RDtBQUNELG1CQUFPLE1BQU0sS0FBYjtBQUNIOzs7Ozs7QUFRTDs7O0FBQ0EsT0FBTyxNQUFQLENBQWMsY0FBZCxHQUErQixjQUEvQjs7a0JBRWUsYyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgSGVhZGVyIGZyb20gJy4vY2Fwc3VsZS9oZWFkZXIvSGVhZGVyLmpzJztcbmltcG9ydCBGb290ZXIgZnJvbSAnLi9jYXBzdWxlL2Zvb3Rlci9Gb290ZXIuanMnO1xuXG5pbXBvcnQgQ2FydE1vZHVsZSBmcm9tICcuL21vZHVsZXMvQ2FydC5qcyc7XG5pbXBvcnQgV2lzaExpc3RNb2R1bGUgZnJvbSAnLi9tb2R1bGVzL3dpc2hMaXN0LmpzJztcblxuXG5sZXQgY2Fwc3VsZSA9IHtcblxuICAgIGluaXQoKSB7XG4gICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnbG9hZGluZycpO1xuXG4gICAgICAgIGlmICghd2luZG93LmRpb3JWNykgd2luZG93LmRpb3JWNyA9IHt9O1xuXHRcdGRpb3JWNy5Gb290ZXIgPSBGb290ZXI7XG4gICAgICAgIGRpb3JWNy5IZWFkZXIgPSBIZWFkZXI7XG5cbiAgICAgICAgLy8gZGVmYXVsdCBvcHRpb25zIGZvciBjb29raWVzXG4gICAgICAgIGlmICghd2luZG93LmRpb3JWNy5oZWxwZXJzLmlzSUUxMSgpKSB7XG4gICAgICAgICAgICAvLyBJRTExIGluIHN0cmljdCBtb2RlIGRvZXNuJ3QgYWNjZXB0IGRvbWFpblxuICAgICAgICAgICAgQ29va2llcy5kZWZhdWx0cy5kb21haW4gPSBkaW9yVjcuY29uZmlnLmNvb2tpZXMuZG9tYWluO1xuICAgICAgICB9XG4gICAgICAgIENvb2tpZXMuZGVmYXVsdHMucGF0aCA9IGRpb3JWNy5jb25maWcuY29va2llcy5wYXRoO1xuICAgICAgICBDb29raWVzLmRlZmF1bHRzLmV4cGlyZXMgPSBkaW9yVjcuY29uZmlnLmNvb2tpZXMuZXhwaXJlcztcblxuICAgICAgICBsZXQgX2NhcnQgPSBuZXcgQ2FydE1vZHVsZSgpO1xuICAgICAgICBkaW9yVjcud2lzaExpc3RNb2R1bGUgPSBuZXcgV2lzaExpc3RNb2R1bGUoKTtcblxuICAgICAgICBIZWFkZXIuaW5pdCgpO1xuICAgICAgICBGb290ZXIuaW5pdCgpO1xuXG4gICAgICAgIGlmIChkaW9yVjcpIGRpb3JWNy5oZWxwZXJzLmlzSUUoKTtcblxuICAgICAgICAvLyBGb3JtcyBpbml0XG4gICAgICAgIGxldCAkY2Fwc3VsZSA9ICQoJyNwb3Bpbi13cmFwcGVyJyk7XG4gICAgICAgIGlmIChIZWFkZXIuJGVsLmxlbmd0aCkgJGNhcHN1bGUgPSAkY2Fwc3VsZS5hZGQoSGVhZGVyLiRlbCk7XG4gICAgICAgIGlmIChGb290ZXIuJGZvb3Rlci5sZW5ndGgpICRjYXBzdWxlID0gJGNhcHN1bGUuYWRkKEZvb3Rlci4kZm9vdGVyKTtcblxuICAgICAgICAkY2Fwc3VsZS5maW5kKCcuanMtZm9ybScpLmZvcm1WYWxpZGF0b3IoKTtcblxuICAgICAgICAkY2Fwc3VsZS5maW5kKCcuanMtc2VsZWN0JykuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsZXQgJHRoaXMgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAkdGhpcy5jdXN0b21TZWxlY3Qoe1xuICAgICAgICAgICAgICAgIC8vIGFsbG93cyBjdXN0b21TZWxlY3QgdG8gY29uc2lkZXIgZGVmYXVsdCBvcHRpb24gYXMgZGVmYXVsdFxuICAgICAgICAgICAgICAgIGlzRGVmYXVsdDogZnVuY3Rpb24oJG9wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJG9wdGlvbi5oYXNDbGFzcygnanMtY3VzdG9tLXNlbGVjdC1kZWZhdWx0Jyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0SW5MaXN0OiAkdGhpcy5oYXNDbGFzcygnanMtZGVmYXVsdC1pbi1saXN0JykgLy9zaG91bGQgZGVmYXVsdCBvcHRpb24gc2hvdyBpbiBsaXN0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGRpb3JWNy5oZWxwZXJzLmlzVGFjdGlsZSgpKSB7XG4gICAgICAgICAgICAkKCcuZGlvci12NycpLmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdLCBpbnB1dFt0eXBlPVwiZW1haWxcIl0sIGlucHV0W3R5cGU9XCJudW1iZXJcIl0sIGlucHV0W3R5cGU9XCJwYXNzd29yZFwiXSwgaW5wdXRbdHlwZT1cInRlbFwiXSwgaW5wdXRbdHlwZT1cInVybFwiXSwgdGV4dGFyZWEnKVxuICAgICAgICAgICAgICAgIC5vbignZm9jdXMnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICQoJ2h0bWwnKS5hZGRDbGFzcygna2V5Ym9hcmQtb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgfSkub24oJ2JsdXInLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygna2V5Ym9hcmQtb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuXHRcdC8vIGV4cG9zZSBtZXRob2QgdG8gc3dpdGNoIGZyb20gZnVsbGJyb3dzZXIgdG8gZmx1aWRcbiAgICAgICAgd2luZG93LmRpb3JDYXBzdWxlID0ge1xuICAgICAgICAgICAgdG9GbHVpZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnZnVsbGJyb3dzZXInKTtcbiAgICAgICAgICAgICAgICBIZWFkZXIudG9GbHVpZCgpO1xuICAgICAgICAgICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnaGVhZGVyLXRyYW5zcGFyZW50IGZvb3Rlci0tbGlnaHQgZm9vdGVyLS10cmFuc3BhcmVudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy9cbiAgICAgICAgLy8gVjYgcmV0cm8tY29tcGF0aWJpbGl0w6lcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xuICAgICAgICBsZXQgaGVhZGVyID0ge1xuICAgICAgICAgICAgY29va2llT3B0aW9uczoge30sXG4gICAgICAgICAgICByb2xsczogSGVhZGVyLnJvbGxzLFxuICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICBvcGVuOiAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGhlYWRlci5jb29raWVPcHRpb25zID0gQ29va2llcy5kZWZhdWx0cztcblxuICAgICAgICBpZiAoIXdpbmRvdy5tb2R1bGVzKSB3aW5kb3cubW9kdWxlcyA9IHt9O1xuICAgICAgICAvLyBvdmVycmlkZSBoZWFkZXJcbiAgICAgICAgd2luZG93Lm1vZHVsZXMuaGVhZGVyID0gaGVhZGVyO1xuXG4gICAgICAgIC8vIG92ZXJyaWRlIGVycm9yIG9uIGNhcnQgKHF1YW50aXR5IGxpbWl0IG9uIHByb2R1Y3QpXG4gICAgICAgIGlmIChtb2R1bGVzLkFkZFRvQ2FydCkgbW9kdWxlcy5BZGRUb0NhcnQuRmVlZGJhY2suRXJyb3IgPSBkaW9yVjcuSGVhZGVyLnJvbGxzLm9uRXJyb3IuYmluZChkaW9yVjcuSGVhZGVyLnJvbGxzKTtcbiAgICB9XG59O1xuXG4kKHdpbmRvdykucmVhZHkoICgpID0+IHtcbiAgICBjYXBzdWxlLmluaXQoKTtcbn0pOyIsImltcG9ydCBQb3Bpbk5ld3NsZXR0ZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9wb3BpbnMvUG9waW5OZXdzbGV0dGVyLmpzJztcbmxldCBGb290ZXIgPSB7XG5cbiAgICAkZm9vdGVyOiBudWxsLFxuICAgIGZvb3RlckhlaWdodDogLTUwMCxcblxuICAgIG1vdXNlT3ZlcjogZmFsc2UsXG4gICAgb3V0VGltZW91dDogbnVsbCxcblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuJGZvb3RlciA9ICQoJyNkaW9yLWZvb3RlcicpO1xuICAgICAgICB0aGlzLiRmb290ZXIuZmluZCgnLmpzLWZvcm0tbmV3c2xldHRlcicpLmZvcm1WYWxpZGF0b3Ioe1xuICAgICAgICAgICAgb25TdWJtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGRpb3JWNy5wb3Bpbk1hbmFnZXIub3BlbiggJ25ld3NsZXR0ZXInICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGxhbmd1YWdlIHNlbGVjdGlvblxuICAgICAgICB0aGlzLmlzRWNvQ291bnRyeSgpO1xuICAgICAgICB0aGlzLiRmb290ZXIuZmluZCgnLmpzLXNlbGVjdCcpLm9uKCdjaGFuZ2UnLCAoZSk9PiB7XG4gICAgICAgICAgICB0aGlzLmlzRWNvQ291bnRyeSgpO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAkKGUuY3VycmVudFRhcmdldCkudmFsKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFBvcGluIE5ld3NsZXR0ZXJcbiAgICAgICAgZGlvclY3LnBvcGluTWFuYWdlci5pbnN0YW5jaWF0ZSh7XG4gICAgICAgICAgICBpZGVudGlmaWVyOiAnbmV3c2xldHRlcicsXG4gICAgICAgICAgICAkZWw6ICQoJy5qcy1wb3Bpbi1uZXdzbGV0dGVyJyksXG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnRzOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFBvcGluTmV3c2xldHRlcik7XG5cbiAgICAgICAgLy8gRm9vdGVyIExpZ2h0XG4gICAgICAgIGlmICgkKCdodG1sJykuaGFzQ2xhc3MoJ2Zvb3Rlci0tbGlnaHQnKSkge1xuICAgICAgICAgICAgLy8gY29tcHV0ZSBGb290ZXIgaGVpZ2h0XG4gICAgICAgICAgICB0aGlzLmZvb3RlckhlaWdodCA9IC10aGlzLiRmb290ZXIub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcblxuICAgICAgICAgICAgLy8gY2xpY2sgb3V0c2lkZSB0byBjbG9zZVxuICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZighJChlLnRhcmdldCkuY2xvc2VzdCgnI2Rpb3ItZm9vdGVyJykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy4kZm9vdGVyLmZpbmQoJy5qcy1mb290ZXItb3BlbicpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFkaW9yVjcuaGVscGVycy5pc1RhY3RpbGUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGZvb3Rlci5tb3VzZWVudGVyKCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5vdXRUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9KS5tb3VzZWxlYXZlKCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5vdXRUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRUaW1lb3V0ID0gc2V0VGltZW91dCggdGhpcy5jbG9zZS5iaW5kKHRoaXMpLCAxMDAwICk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaXNFY29Db3VudHJ5KCkge1xuICAgICAgICBsZXQgJG9wdGlvbiA9ICQoJy5qcy1jb3VudHJpZXMtc2VsZWN0LWZvcm0nKS5maW5kKCdvcHRpb25bc2VsZWN0ZWRdJyk7XG4gICAgICAgIGxldCAkaWNvbiA9IHRoaXMuJGZvb3Rlci5maW5kKCcuanMtaWNvbi1zZWxlY3QnKTtcblxuICAgICAgICBpZiggISRpY29uLmhhc0NsYXNzKCdpY29uLS12aXNpYmxlJykgJiYgJG9wdGlvbi5oYXNDbGFzcygnaWNvbicpICkge1xuICAgICAgICAgICAgJGljb24uYWRkQ2xhc3MoJ2ljb24tLXZpc2libGUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRpY29uLnJlbW92ZUNsYXNzKCdpY29uLS12aXNpYmxlJyk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb3BlbigpIHtcbiAgICAgICAgdGhpcy4kZm9vdGVyLmFkZENsYXNzKCdvcGVuZWQnKTtcblxuICAgIH0sXG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy4kZm9vdGVyLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcbiAgICB9LFxuXG4gICAgZ2V0IGVtYWlsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kZm9vdGVyLmZpbmQoJ2lucHV0W3R5cGU9XCJlbWFpbFwiXScpLnZhbCgpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZvb3RlcjtcbiIsIlxuaW1wb3J0IFRvcExheWVyIGZyb20gJy4vYmxvY2tzL3RvcExheWVyLmpzJztcbmltcG9ydCByb2xscyBmcm9tICcuL2Jsb2Nrcy9yb2xscy5qcyc7XG5cbmltcG9ydCBUb3BNZW51IGZyb20gJy4vYmxvY2tzL1RvcE1lbnUuanMnO1xuaW1wb3J0IFN1Yk5hdiBmcm9tICcuL2Jsb2Nrcy9TdWJOYXYuanMnO1xuaW1wb3J0IFN1Yk5hdkZvbGRpbmcgZnJvbSAnLi9ibG9ja3MvU3ViTmF2Rm9sZGluZy5qcyc7XG5cblxubGV0IEhlYWRlciA9IHtcblxuXHRiYXNrZXRUb3RhbDogMCxcblx0c3ViTmF2U2xpZGVyOiBudWxsLFxuXG4gICAgLy8gdGhlIHNjcm9sbCBsZXZlbCB0byBkaXNwbGF5IHRoZSBzY3JvbGxUb1RvcCBidG4gKGluIHB4KVxuICAgIHNjcm9sbFRvVG9wVGhyZXNob2xkOiA1MCxcblx0XG5cdGluaXQoKSB7XG5cdFx0XHRcblx0XHR0aGlzLiRlbCA9ICQoJyNkaW9yLWhlYWRlcicpO1xuXHRcdHRoaXMucGFnZSA9ICQoJyNjb250YWluZXInKS5kYXRhKCdwYWdlJyk7XG5cblx0XHQvLyBVU0VSIElTIExPR0dFRD9cblx0XHQvLyAtPiBoaWRlL3Nob3cgdGhlIGNvbm5lY3RlZCBpY29uXG5cdFx0Ly8gLT4gZGlzcGxheSB0aGUgY29uY2VybmVkIGNvbnRlbnQgaW4gYWNjb3VudCByb2xsXG5cdFx0bGV0IF9jb25uZWN0ZWQgPSB3aW5kb3cuZGlvclY3LkFjY291bnQuY29ubmVjdGVkO1xuXG5cdFx0Ly8gY3VycmVudCB1bml2ZXJzZVxuICAgICAgICAvLyAtPiB1c2VkIGluIEFjY291bnQgdG8gcHJlc2VydmUgY3VycmVudCB1bml2ZXJzZSB0b3BtZW51IHdoZW4gc3dpdGNoaW5nIGJldHdlZW4gQ0RDICYgUENEXG4gICAgICAgIGlmICh0aGlzLiRlbC5kYXRhKCdjdXJyZW50LXVuaXZlcnNlJykpIHtcbiAgICAgICAgICAgIENvb2tpZXMuc2V0KCBkaW9yVjcuY29uZmlnLmNvb2tpZXMuVU5JVkVSU0UsIHRoaXMuJGVsLmRhdGEoJ2N1cnJlbnQtdW5pdmVyc2UnKSApO1xuICAgICAgICB9XG5cblx0XHRpZiAoIF9jb25uZWN0ZWQgPT0gXCIxXCIgfHwgX2Nvbm5lY3RlZCA9PSBcInRydWVcIiApIHtcblx0XHRcdCQoJy5qcy1idWxsZXQtY29ubmVjdGVkJykuc2hvdygpO1xuXHRcdFx0JCgnLmpzLWFjY291bnQtcm9sbCAuanMtYWNjb3VudC1zaWduaW4nKS5yZW1vdmVDbGFzcygnYWNjb3VudC0tY29ubmVjdGVkJyk7XG5cdFx0XHQkKCcuanMtYWNjb3VudC1yb2xsIC5qcy1hY2NvdW50LW5hdicpLmFkZENsYXNzKCdhY2NvdW50LS1jb25uZWN0ZWQnKTtcblx0XHR9IGVsc2Uge1xuICAgICAgICAgICAgJCgnLmpzLWFjY291bnQtcm9sbCAuanMtYWNjb3VudC1zaWduaW4nKS5hZGRDbGFzcygnYWNjb3VudC0tY29ubmVjdGVkJyk7XG4gICAgICAgICAgICAkKCcuanMtYWNjb3VudC1yb2xsIC5qcy1hY2NvdW50LW5hdicpLnJlbW92ZUNsYXNzKCdhY2NvdW50LS1jb25uZWN0ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBfdG9wTGF5ZXIgPSAkKCcuanMtaGVhZGVyLXRvcC1sYXllcicpO1xuXHRcdGlmIChfdG9wTGF5ZXIgJiYgX3RvcExheWVyLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy50b3BMYXllciA9IG5ldyBUb3BMYXllciggX3RvcExheWVyICk7XG4gICAgICAgIH1cblx0XHRcblx0XHR0aGlzLnRvcE1lbnUgPSBuZXcgVG9wTWVudSgpO1xuXHRcdC8vIHNsaWRlciBtYW5hZ2VtZW50XG5cdFx0dGhpcy5zdWJOYXYgPSBuZXcgU3ViTmF2KCB0aGlzICk7XG5cdFx0Ly8gbWluaXNpdGU6IHN1YiBuYXYgaXMgZm9sZGVkIGJ5IGRlZmF1bHQsIGFuZCBhcHBlYXJzIG9uIGhvdmVyXG5cdFx0dGhpcy5zdWJOYXZGb2xkaW5nID0gbmV3IFN1Yk5hdkZvbGRpbmcoIHRoaXMgKTtcblx0XHQvL1xuXHRcdHRoaXMucm9sbHMgPSByb2xscy5pbml0KCk7XG5cblx0XHQkKHdpbmRvdykuc2Nyb2xsKCBmdW5jdGlvbigpe1xuXHRcdFx0Ly9pZiAoJCgnLmpzLWhlYWRlci10b3AtbGF5ZXInKS5sZW5ndGgpIHRoaXMudG9wTGF5ZXIub25TY3JvbGwoKTtcblx0XHRcdC8vdGhpcy50b3BNZW51Lm9uU2Nyb2xsKCk7XG5cdFx0fSk7XG5cblx0XHQkKGRvY3VtZW50KS5vbigna2V5ZG93bicsIChlKSA9PiB7XG5cdFx0XHR0aGlzLiRlbC5maW5kKCcuanMtdHJhbnN2ZXJzYWwtbmF2ID4gLmpzLW5hdi10cmlnZ2VyJykub2ZmKCBcImZvY3VzaW4gZm9jdXNvdXRcIik7XG5cdFx0XHR0aGlzLiRlbC5maW5kKCcuanMtdHJhbnN2ZXJzYWwtbmF2ID4gLmpzLW5hdi10cmlnZ2VyJykuZm9jdXNpbiggKGUpID0+IHtcblx0XHRcdCAgICBsZXQgXyR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXHRcdFx0ICAgIGlmICghXyR0aGlzLnBhcmVudCgpLmhhc0NsYXNzKCd0cmFuc3ZlcnNhbC1uYXYtLW9wZW5lZCcpKSB7XHRcblx0XHRcdCAgICBcdHRoaXMuJGVsLmZpbmQoJy5qcy10cmFuc3ZlcnNhbC1uYXYgdWwgJykucmVtb3ZlQ2xhc3MoJ2Rpc3BsYXktbm9uZScpO1x0XHQgICAgXHRcblx0XHRcdCAgICBcdFxuXHQgICAgICAgICAgICBcdF8kdGhpcy5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSApO1xuXHQgICAgICAgICAgICBcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdCAgICAgICAgICAgIFx0XyR0aGlzLnBhcmVudCgpLmFkZENsYXNzKCd0cmFuc3ZlcnNhbC1uYXYtLW9wZW5lZCcpO1xuXHRcdCAgICAgICAgICAgIH0sIDApO1xuXHRcdFx0ICAgIH0gICAgICAgICAgICBcblx0ICAgICAgICB9KS5mb2N1c291dCggKGUpID0+IHtcblx0XHRcdCAgICBsZXQgXyR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXHQgICAgICAgICAgICBfJHRoaXMucGFyZW50cygpLnJlbW92ZUNsYXNzKCd0cmFuc3ZlcnNhbC1uYXYtLW9wZW5lZCcpO1xuXHQgICAgICAgICAgICBfJHRoaXMuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlICk7XG5cdCAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuXHQgICAgICAgICAgICBcdHRoaXMuJGVsLmZpbmQoJy5qcy10cmFuc3ZlcnNhbC1uYXYgdWwgJykuYWRkQ2xhc3MoJ2Rpc3BsYXktbm9uZScpO1xuXHQgICAgICAgICAgICB9LCAwKTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5qcy10cmFuc3ZlcnNhbC1uYXYgPiB1bCA+IGxpJykuZm9jdXNpbiggKGUpID0+IHtcblx0XHRcdCAgICBsZXQgXyR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXHQgICAgICAgICAgICBfJHRoaXMucGFyZW50cygnLmpzLXRyYW5zdmVyc2FsLW5hdjpmaXJzdCcpLmFkZENsYXNzKCd0cmFuc3ZlcnNhbC1uYXYtLW9wZW5lZCcpO1xuXHQgICAgICAgICAgICB0aGlzLiRlbC5maW5kKCcuanMtdHJhbnN2ZXJzYWwtbmF2ID4gLmpzLW5hdi10cmlnZ2VyJykuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUgKTtcblx0ICAgICAgICB9KS5mb2N1c291dCggKGUpID0+IHtcblx0XHRcdCAgICBsZXQgXyR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXHQgICAgICAgICAgICBfJHRoaXMucGFyZW50cygnLmpzLXRyYW5zdmVyc2FsLW5hdjpmaXJzdCcpLnJlbW92ZUNsYXNzKCd0cmFuc3ZlcnNhbC1uYXYtLW9wZW5lZCcpO1xuXHQgICAgICAgICAgICB0aGlzLiRlbC5maW5kKCcuanMtdHJhbnN2ZXJzYWwtbmF2ID4gLmpzLW5hdi10cmlnZ2VyJykuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlICk7XG5cdCAgICAgICAgfSk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLiRlbC5maW5kKCcuanMtdHJhbnN2ZXJzYWwtbmF2ID4gLmpzLW5hdi10cmlnZ2VyJykub24oJ2NsaWNrJywgKGUpID0+IHtcblx0XHQgICAgbGV0IF8kdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgIF8kdGhpcy5wYXJlbnQoKS50b2dnbGVDbGFzcygndHJhbnN2ZXJzYWwtbmF2LS1vcGVuZWQnKTtcbiAgICAgICAgICAgIF8kdGhpcy5hdHRyKCdhcmlhLWV4cGFuZGVkJywgKF8kdGhpcy5wYXJlbnQoKS5oYXNDbGFzcygndHJhbnN2ZXJzYWwtbmF2LS1vcGVuZWQnKSA/IHRydWUgOiBmYWxzZSkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBcblxuXG4gICAgICAgIC8vIFVwZGF0ZSBjYXJ0IGxlbmd0aCBvbiBxdWlja2J1eVxuICAgICAgICBkaW9yVjcuZGlzcGF0Y2hlci5vbignYWRkVG9DYXJ0OjpzdWNjZXNzJywgdGhpcy5yb2xscy5hZGRlZFRvQ2FydCwgdGhpcy5yb2xscyk7XG5cbiAgICAgICAgZGlvclY3LmRpc3BhdGNoZXIub24oJ2hlYWRlcjo6Y2xvc2UnLCB0aGlzLmNsb3NlQWxsLCB0aGlzKTtcblxuICAgICAgICAvLyBzY3JvbGwgdG8gdG9wXG4gICAgICAgIGxldCAkdG9Ub3AgPSAkKCcjc2Nyb2xsVG9Ub3AnKTtcbiAgICAgICAgaWYgKCR0b1RvcC5sZW5ndGgpIHtcbiAgICAgICAgICAgICQod2luZG93KS5vbignc2Nyb2xsJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gdGhpcy5zY3JvbGxUb1RvcFRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICAkdG9Ub3AuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICR0b1RvcC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICR0b1RvcC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgJChcImh0bWwsIGJvZHlcIikuc3RvcCgpLmFuaW1hdGUoe3Njcm9sbFRvcDogMH0sICc1MDAnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cblx0XHQvLyBVc2Ugc2lnbmFsIHRvIGRpc3BhdGNoIHNjcm9sbCB0byB0YWJsZXRcblx0XHRpZiAoZGlvclY3LmhlbHBlcnMuaXNUYWN0aWxlKCkpIHtcbiAgICAgICAgICAgIGRpb3JWNy5kaXNwYXRjaGVyLm9uKCd3aW5kb3c6OnNjcm9sbCcsIHRoaXMudG9wTGF5ZXIub25TY3JvbGwsIHRoaXMudG9wTGF5ZXIpO1xuICAgICAgICAgICAgZGlvclY3LmRpc3BhdGNoZXIub24oJ3dpbmRvdzo6c2Nyb2xsJywgdGhpcy50b3BNZW51Lm9uU2Nyb2xsLCB0aGlzLnRvcE1lbnUpO1xuICAgICAgICB9XG5cdH0sXG5cblx0Y2xvc2VBbGwoKSB7XG4gICAgICAgIGlmICggdGhpcy50b3BMYXllciApICB0aGlzLnRvcExheWVyLmNsb3NlKCk7XG4gICAgICAgIHRoaXMucm9sbHMuY2xvc2VBbGwoKTtcbiAgICAgICAgdGhpcy50b3BNZW51LmNsb3NlKCk7XG4gICAgfSxcblxuICAgIHRvRmx1aWQoKSB7XG4gICAgICAgICQoJyNkaW9yLWhlYWRlcicpLnJlbW92ZUNsYXNzKCdoZWFkZXItLXRyYW5zcGFyZW50Jyk7XG4gICAgICAgIHRoaXMuc3ViTmF2Rm9sZGluZy50b0ZsdWlkKCk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgSGVhZGVyOyIsImNsYXNzIFN1Yk5hdiB7XG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuXHQkbGkgPSBudWxsO1xuXHRsZW5ndGggPSAwO1xuXHR0b3RhbFdpZHRoID0gMDtcblxuXHRvZmZzZXRJbmRleCA9IDA7XG5cdG9mZnNldCA9IDA7XG5cblx0bWFyZ2luID0gNDA7XG5cblx0bnVtVmlzaWJsZXMgPSAwO1xuXG5cdGF1dG9Db21wbGV0ZSA9IG51bGw7IC8vIFNlYXJjaCBhdXRvY29tcGxldGUgKFdTIEdTQSlcblx0Ly8ganNoaW50IGlnbm9yZTplbmRcblxuICAgIGNvbnN0cnVjdG9yKCBoZWFkZXIgKSB7XG5cdFx0XG5cdFx0dGhpcy4kZWwgPSAkKCdoZWFkZXI6Zmlyc3QgLmpzLWhlYWRlci1zdWJuYXY6Zmlyc3QnKTtcblx0XHR0aGlzLiRjb250YWluZXIgPSB0aGlzLiRlbC5maW5kKCcuanMtc3VibmF2LWl0ZW1zOmZpcnN0Jyk7XG5cdFx0dGhpcy4kbGkgPSB0aGlzLiRjb250YWluZXIuZmluZCgnbGknKTtcblx0XHR0aGlzLmxlbmd0aCA9IHRoaXMuJGxpLmxlbmd0aDtcblxuXHRcdGxldCBfZGVsYXkgPSAhZGlvclY3LmhlbHBlcnMuaXNJRSgpID8gMzUwIDogNTUwO1xuXHRcdHNldFRpbWVvdXQoICgpID0+IHtcblx0XHQgICAgaWYgKCQoJ2h0bWwnKS5oYXNDbGFzcygnaGVhZGVyLS1saWdodCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2ludmlzaWJsZScpLnNob3coKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50b3RhbFdpZHRoID0gTWF0aC5jZWlsKCB0aGlzLiRjb250YWluZXIub3V0ZXJXaWR0aCh0cnVlKSApICsgMTtcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci53aWR0aCggdGhpcy50b3RhbFdpZHRoICk7XG5cbiAgICAgICAgICAgIGlmICgkKCdodG1sJykuaGFzQ2xhc3MoJ2hlYWRlci0tdHJhbnNwYXJlbnQnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdpbnZpc2libGUnKTtcblxuICAgICAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZSggdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpICk7XG5cdFx0XHR0aGlzLm9uUmVzaXplKCk7XG5cblx0XHR9LCBfZGVsYXkpO1xuXHRcdFxuXHRcdHRoaXMuJGVsLmZpbmQoJy5qcy1zdWJuYXYtbmV4dCcpLm9uKCdjbGljaycsIHRoaXMubmV4dC5iaW5kKHRoaXMpICk7XG5cdFx0dGhpcy4kZWwuZmluZCgnLmpzLXN1Ym5hdi1wcmV2aW91cycpLm9uKCdjbGljaycsIHRoaXMucHJldmlvdXMuYmluZCh0aGlzKSApO1xuXG5cdFx0dGhpcy5idWlsZFNlYXJjaCgpO1xuICAgIH1cblx0XG5cdG9uUmVzaXplKCkge1xuICAgICAgICBpZiAoJCgnI2Rpb3ItaGVhZGVyJykuaGFzQ2xhc3MoJ2pzLWhlYWRlci10cmFuc3BhcmVudCcpKSB7XG4gICAgICAgICAgICAkKCcuanMtaGVhZGVyLXN1Ym5hdicpLmFkZENsYXNzKCdpbnZpc2libGUnKS5zaG93KCk7XG4gICAgICAgIH1cblxuXHRcdGxldCBfYXZhaWxhYmxlV2lkdGggPSBNYXRoLmNlaWwoIE1hdGgubWluKDE0NDAsICQod2luZG93KS53aWR0aCgpKSAtIHRoaXMubWFyZ2luICk7XG5cdFx0dGhpcy4kZWwuZmluZCgnbmF2JykucmVtb3ZlQXR0cignc3R5bGUnKTtcblx0XHRcblx0XHRpZiggX2F2YWlsYWJsZVdpZHRoIDwgdGhpcy50b3RhbFdpZHRoICkge1x0XHRcdFx0XG5cdFx0XHQvLyB3ZSBtc3V0IGJ1aWxkIGEgc2xpZGVyIHRvIHNob3cgYWxsIGl0ZW1zXG5cdFx0XHR0aGlzLiRlbC5hZGRDbGFzcygnc3VibmF2LXNsaWRlcicpO1xuXHRcdFx0Ly8gc2xpZGVyIHdpZHRoOiBkbyBub3QgY3JvcCBhIGxpbmshXG5cdFx0XHRsZXQgX3dpZHRoID0gMDtcblx0XHRcdGxldCBqID0gMDtcblx0XHRcdGZvciAobGV0IGk9MDsgaTx0aGlzLmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdGxldCBfdyA9ICQodGhpcy4kbGlbaV0pLm91dGVyV2lkdGgodHJ1ZSk7XG5cblx0XHRcdFx0aWYgKF93aWR0aCArIF93IDwgX2F2YWlsYWJsZVdpZHRoKSB7XG5cdFx0XHRcdFx0X3dpZHRoICs9IF93O1xuXHRcdFx0XHRcdCsrajsgXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0dGhpcy5udW1WaXNpYmxlcyA9IGo7XG5cdFx0XHR0aGlzLnZpZXdwb3J0V2lkdGggPSBNYXRoLmNlaWwoIF93aWR0aCApO1xuXHRcdFx0XG5cdFx0XHR0aGlzLiRlbC5maW5kKCduYXYnKS53aWR0aCggdGhpcy52aWV3cG9ydFdpZHRoICk7XG5cdFx0XHRcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcmVtb3ZlIHNsaWRlclxuXHRcdFx0dGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ3N1Ym5hdi1zbGlkZXInKTtcblx0XHRcdHRoaXMuJGVsLmZpbmQoJ25hdicpLndpZHRoKCBfYXZhaWxhYmxlV2lkdGggKTtcblx0XHR9XG5cbiAgICAgICAgaWYgKCQoJyNkaW9yLWhlYWRlcicpLmhhc0NsYXNzKCdqcy1oZWFkZXItdHJhbnNwYXJlbnQnKSkge1xuICAgICAgICAgICAgJCgnLmpzLWhlYWRlci1zdWJuYXYnKS5oaWRlKCkucmVtb3ZlQ2xhc3MoJ2ludmlzaWJsZScpO1xuICAgICAgICB9XG5cdH1cblxuXHRuZXh0KCkge1xuXHRcdGlmICh0aGlzLm9mZnNldEluZGV4IDwgdGhpcy5sZW5ndGggLSB0aGlzLm51bVZpc2libGVzKSB7XG5cdFx0XHR0aGlzLm9mZnNldCArPSAkKHRoaXMuJGxpW3RoaXMub2Zmc2V0SW5kZXgrdGhpcy5udW1WaXNpYmxlc10pLm91dGVyV2lkdGgoKTtcblx0XHRcdCsrdGhpcy5vZmZzZXRJbmRleDtcblx0XHRcdFxuXHRcdFx0dGhpcy4kY29udGFpbmVyLmNzcygnbWFyZ2luLWxlZnQnLCAtdGhpcy5vZmZzZXQgKTtcblx0XHRcdFxuXHRcdFx0JCgnLmpzLXN1Ym5hdi1idXR0b24nKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcblx0XHRcdGlmKCB0aGlzLm9mZnNldEluZGV4ID09PSB0aGlzLmxlbmd0aCAtIHRoaXMubnVtVmlzaWJsZXMgKSAkKCcuanMtc3VibmF2LW5leHQnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcblx0XHR9XG5cdH1cblxuXHRwcmV2aW91cygpIHtcblx0XHRpZiAodGhpcy5vZmZzZXRJbmRleCA+IDApIHtcblx0XHRcdC0tdGhpcy5vZmZzZXRJbmRleDtcblx0XHRcdHRoaXMub2Zmc2V0IC09ICQodGhpcy4kbGlbdGhpcy5vZmZzZXRJbmRleCt0aGlzLm51bVZpc2libGVzXSkub3V0ZXJXaWR0aCgpO1xuXHRcdFx0XG5cdFx0XHR0aGlzLiRjb250YWluZXIuY3NzKCdtYXJnaW4tbGVmdCcsIC10aGlzLm9mZnNldCk7XG5cdFx0XHRcblx0XHRcdCQoJy5qcy1zdWJuYXYtYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHRpZiggdGhpcy5vZmZzZXRJbmRleCA9PT0gMCApICQoJy5qcy1zdWJuYXYtcHJldmlvdXMnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcblx0XHR9XG5cdH1cblxuXHRidWlsZFNlYXJjaCgpIHtcbiAgICAgICAgbGV0ICRpbnB1dCA9ICQoJyNzZWFyY2gtaGVhZGVyJyk7XG4gICAgICAgIHRoaXMuYXV0b0NvbXBsZXRlID0gbmV3IGRpb3JWNy5BdXRvQ29tcGxldGVTZWFyY2goICRpbnB1dCApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3ViTmF2OyIsIi8qKlxuICogTmVlZCBiYWJlbCBwcmVzZXQgc3RhZ2UtMiB0byBiZSBhYmxlIHRvIGRlY2xhcmUgY2xhc3MgcHJvcGVydGllc1xuICovXG5jbGFzcyBTdWJOYXZGb2xkaW5nIHtcblxuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICBoZWFkZXIgPSBudWxsO1xuXG4gICAgbW91c2VPdmVyID0gZmFsc2U7XG4gICAgaXNPcGVuID0gdHJ1ZTtcbiAgICB0aHJlc2hvbGQgPSA1O1xuICAgICRlbCA9IG51bGw7XG5cbiAgICB0cmFuc3BhcmVudCA9IGZhbHNlO1xuXG4gICAgb3ZlclRpbWVvdXQgPSBudWxsO1xuICAgIHRyYW5zaXRpb25EdXJhdGlvbiA9IDQwMDtcblxuICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDtcblxuICAgIG9wZW4gPSBudWxsO1xuICAgIGNsb3NlID0gbnVsbDtcbiAgICAvLyBqc2hpbnQgaWdub3JlOmVuZFxuXG4gICAgY29uc3RydWN0b3IoIGhlYWRlciApIHtcblxuICAgICAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbU3ViTmF2Rm9sZGluZ106IG5lZWQgYSByZWZlcmVuY2Ugb2YgdGhlIGhlYWRlciBpbnN0YW5jZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaGVhZGVyID0gaGVhZGVyO1xuICAgICAgICB0aGlzLiRlbCA9IGhlYWRlci4kZWwuZmluZCgnLmpzLXN1Ym5hdi1mb2xkOmZpcnN0Jyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLiRlbCB8fCAhdGhpcy4kZWwubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBubyBzdWJuYXZcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdbU3ViTmF2Rm9sZGluZ106IE5vIGNsYXNzIFwiLmpzLWhlYWRlci1zdWJuYXZcIiwgc28gbm90aGluZyB0byBkby4uLicpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYXNlIHRyYW5zcGFyZW50OiBzdWJuYXYgaXMgZm9sZGVkXG4gICAgICAgIC8vIG9uIHJvbGwgOlxuICAgICAgICAvLyAtIDEuIGFkZCBiYWNrZ3JvdW5kIHdpdGggdHJhbnNpdGlvblxuICAgICAgICAvLyAtIDIuIGRlcGxveSBzdWJuYXZcbiAgICAgICAgaWYgKHRoaXMuaGVhZGVyLiRlbC5oYXNDbGFzcygnanMtaGVhZGVyLXRyYW5zcGFyZW50JykpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwYXJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50aHJlc2hvbGQgPSAtMTtcblxuICAgICAgICAgICAgdGhpcy4kZWwuaGlkZSgpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNpbXBsZSgpO1xuXG4gICAgICAgICAgICB0aGlzLm9wZW4gPSB0aGlzLm9wZW5XaXRoVHJhbnM7XG4gICAgICAgICAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZVdpdGhUcmFucztcbiAgICAgICAgICAgIHRoaXMub3BlblNpbXBsZVByb3h5ID0gdGhpcy5vcGVuU2ltcGxlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2VkUHJveHkgPSB0aGlzLm9uQ2xvc2VkV2l0aFRyYW5zLmJpbmQodGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoJCgnaHRtbCcpLmhhc0NsYXNzKCdmdWxsYnJvd3NlcicpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aHJlc2hvbGQgPSAtMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLnNjcm9sbCggdGhpcy5vblNjcm9sbC5iaW5kKHRoaXMpICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMub3BlbiA9IHRoaXMub3BlblNpbXBsZTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UgPSB0aGlzLmNsb3NlU2ltcGxlO1xuXG4gICAgICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy4kZWwuY3NzKCB7dG9wOiAtdGhpcy4kZWwub3V0ZXJIZWlnaHQoKS0yfSApO1xuICAgICAgICAgICAgLy8gd2FpdCBmb3Igc3VibmF2IHRvIHByb2Nlc3Mgd2lkdGggJiBzbGlkZXJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoIHRoaXMub25TY3JvbGwuYmluZCh0aGlzKSwgNTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGlvclY3LmhlbHBlcnMuaXNUYWN0aWxlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyLiRlbC5tb3VzZWVudGVyKCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLm92ZXJUaW1lb3V0KTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5tb3VzZU92ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLm9wZW4odHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3ZlclRpbWVvdXQgPSBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW4odHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDMwMCApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlT3ZlciA9IHRydWU7XG4gICAgICAgICAgICB9KS5tb3VzZWxlYXZlKCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VPdmVyID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5vdmVyVGltZW91dCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vdmVyVGltZW91dCA9IHNldFRpbWVvdXQoIHRoaXMub25TY3JvbGwuYmluZCh0aGlzKSwgMTAwMCApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBmaXJzdCB0YXAgb24gaGVhZGVyXG4gICAgICAgICAgICB0aGlzLmhlYWRlci4kZWwub24oJ3RvdWNoZW5kJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW91c2VPdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW4odHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gdGFwIG91dHNpZGVcbiAgICAgICAgICAgICQoJ21haW4nKS5vbigndG91Y2hlbmQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8qaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgfSovXG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLm92ZXJUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLm92ZXJUaW1lb3V0ID0gc2V0VGltZW91dCggdGhpcy5vblNjcm9sbC5iaW5kKHRoaXMpLCAxMDAwICk7XG5cbiAgICAgICAgICAgICAgICBkaW9yVjcuZGlzcGF0Y2hlci50cmlnZ2VyKCdoZWFkZXI6OmNsb3NlJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmhlYWRlci5yb2xscy5jbG9zZUFsbCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyLnRvcExheWVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWFkZXIudG9wTWVudS5jbG9zZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblNjcm9sbCgpIHtcbiAgICAgICAgbGV0IF90b3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlT3Zlcikge1xuICAgICAgICAgICAgdGhpcy5vcGVuKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKF90b3AgPiB0aGlzLnRocmVzaG9sZCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vcGVuKHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gb3Blbi9jbG9zZSBzaW1wbGU6IG9ubHkgc3VibmF2IGlzIGFuaW1hdGVkXG4gICAgb3BlblNpbXBsZSggZSApIHtcbiAgICAgICAgaWYgKGUpIGNsZWFyVGltZW91dCggdGhpcy5vdmVyVGltZW91dCApO1xuXG4gICAgICAgIHRoaXMuJGVsLnNob3coKTtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNwYXJlbnQpIHRoaXMuaGVhZGVyLiRlbC5maW5kKCcuaGVhZGVyLXRvcC1iYXInKS5vZmYoIGRpb3JWNy5oZWxwZXJzLnRyYW5zaXRpb25FbmQoKSwgdGhpcy5vcGVuU2ltcGxlUHJveHkgKTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICAvLyBuZWVkIHRvIHdhaXQgZm9yIGNzcyB0cmFuc2l0aW9uIHRvIHdvcmsgKGRpc3BsYXkgbm9uZSlcbiAgICAgICAgICAgIHNldFRpbWVvdXQoICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5jc3MoIHt0b3A6IDB9ICk7XG4gICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tb3VzZU92ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsb3NlU2ltcGxlKCBlICkge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4gJiYgIXRoaXMubW91c2VPdmVyKSB7XG4gICAgICAgICAgICAvLyBub3RpZnkgdG9wTWVudSB0byBjbG9zZSBpZiBpdHMgb3BlblxuICAgICAgICAgICAgZGlvclY3LmRpc3BhdGNoZXIudHJpZ2dlcignc3VibmF2Ojpmb2xkJyk7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLmNzcygge3RvcDogLXRoaXMuJGVsLm91dGVySGVpZ2h0KCktMn0gKTtcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBvcGVuL2Nsb3NlIHdpdGggaGVhZGVyIHRyYW5zcGFyZW50IChhbmltIGhlYWRlciBiZWZvcmUgdW5mb2xkLCBhbmQgZm9sZCBiZWZvcmUgaGVhZGVyKVxuICAgIG9wZW5XaXRoVHJhbnMoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCggdGhpcy5vdmVyVGltZW91dCApO1xuICAgICAgICB0aGlzLmhlYWRlci4kZWwuZmluZCgnLmhlYWRlci10b3AtYmFyJykub24oIGRpb3JWNy5oZWxwZXJzLnRyYW5zaXRpb25FbmQoKSwgdGhpcy5vcGVuU2ltcGxlUHJveHkgKTtcbiAgICAgICAgdGhpcy5oZWFkZXIuJGVsLnJlbW92ZUNsYXNzKCdoZWFkZXItLXRyYW5zcGFyZW50Jyk7XG4gICAgfVxuXG4gICAgY2xvc2VXaXRoVHJhbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgdGhpcy4kZWwub24oIGRpb3JWNy5oZWxwZXJzLnRyYW5zaXRpb25FbmQoKSwgdGhpcy5vbkNsb3NlZFByb3h5ICk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlU2ltcGxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2VkV2l0aFRyYW5zKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkNsb3NlZFdpdGhUcmFucygpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1vdXNlT3ZlciAmJiAhdGhpcy5oZWFkZXIudG9wTGF5ZXIuaXNPcGVuZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyLiRlbC5hZGRDbGFzcygnaGVhZGVyLS10cmFuc3BhcmVudCcpO1xuICAgICAgICAgICAgdGhpcy4kZWwuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJGVsLm9mZiggZGlvclY3LmhlbHBlcnMudHJhbnNpdGlvbkVuZCgpLCB0aGlzLm9uQ2xvc2VkUHJveHkgKTtcbiAgICB9XG5cbiAgICB0b0ZsdWlkKCkge1xuICAgICAgICB0aGlzLm9wZW4gPSB0aGlzLm9wZW5TaW1wbGU7XG4gICAgICAgIHRoaXMuY2xvc2UgPSB0aGlzLmNsb3NlU2ltcGxlO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3ViTmF2Rm9sZGluZzsiLCIvKipcbiAqIE5lZWQgYmFiZWwgcHJlc2V0IHN0YWdlLTIgdG8gYmUgYWJsZSB0byBkZWNsYXJlIGNsYXNzIHByb3BlcnRpZXNcbiAqL1xuaW1wb3J0IGVxdWFsSGVpZ2h0IGZyb20gJy4uLy4uLy4uL21vZHVsZXMvZXF1YWxIZWlnaHQuanMnO1xuXG5cbmNsYXNzIFRvcE1lbnUge1xuXG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuXHRjdXJyZW50ID0gICAgICAgICAgIFx0bnVsbDtcblx0YWN0aXZlTWVudSA9ICAgICAgICBcdCQoXCIuanMtaGVhZGVyLXN1Ym5hdiBhLmFjdGl2ZVwiKTtcblx0ZGVmYXVsdEFjdGl2ZUluZGV4ID0gXHQwO1xuXHRpc09wZW5lZCA9ICAgICAgICAgICBcdGZhbHNlO1xuXHQkY29udGFpbmVyID0gICAgICAgICBcdG51bGw7XG5cdG92ZXJsYXkgPSAgICAgICAgICAgIFx0bnVsbDtcblxuXHRtb3VzZVRpbWVyID0gICAgICAgICBcdG51bGw7XG5cdHRpbWVPdXQgPSAgICAgICAgICAgIFx0MzUwO1xuXG5cdHRpdGxlVGltZU91dCA9ICAgICAgIFx0bnVsbDtcblxuXHRuZWVkU2Nyb2xsID0gICAgICAgICBcdGZhbHNlO1xuXHRoZWlnaHRUb1Njcm9sbCA9ICAgICBcdDA7XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcblxuXHRjb25zdHJ1Y3RvcigpIHtcblxuXHQgICAgdGhpcy4kY29udGFpbmVyID0gJCgnLmpzLWhlYWRlci10b3BtZW51Jyk7XG5cdCAgICB0aGlzLmFjdGl2ZU1lbnUgPSAkKFwiLmpzLWhlYWRlci1zdWJuYXYgYS5hY3RpdmVcIik7XG5cbiAgICAgICAgdGhpcy4kb3ZlcmxheSA9ICQoJyNwYWdlLW92ZXJsYXknKTtcblxuXHRcdGlmICh0aGlzLiRjb250YWluZXIuZmluZChcIi5qcy1uYXYtY29udGVudFwiKS5sZW5ndGggPiAwKSB7XG5cblx0XHRcdHRoaXMuY3VycmVudCA9IHRoaXMuJGNvbnRhaW5lci5maW5kKFwiLmpzLW5hdi1jb250ZW50OmZpcnN0XCIpO1xuXG5cdFx0XHQkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLWhlYWRlci1zdWJuYXYgLmpzLXRvcG1lbnUtdHJpZ2dlcltkYXRhLXRhcmdldHRvcG1lbnVdLCAuanMtaGVhZGVyLXN0aWNreSAuanMtdG9wbWVudS10cmlnZ2VyW2RhdGEtdGFyZ2V0dG9wbWVudV0nLCAoZSkgPT4ge1xuXG5cdFx0XHRcdGlmICghdGhpcy5pc09wZW5lZCB8fCAodGhpcy5pc09wZW5lZCAmJiB0aGlzLmN1cnJlbnQuYXR0cignaWQnKSAhPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgndGFyZ2V0dG9wbWVudScpKSkge1xuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdGxldCAkbGluayA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuXHRcdFx0XHRcdGxldCBuZXdUb3BMYXllciA9ICQoJyMnICsgJGxpbmsuZGF0YSgndGFyZ2V0dG9wbWVudScpKTtcblx0XHRcdFx0XHR0aGlzLnRvZ2dsZShuZXdUb3BMYXllciwgJGxpbmspO1xuXHRcdFx0XHR9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdC8vIGNsaWNrIG91dHNpZGVcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qcy1oZWFkZXItc3VibmF2JykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBkaW9yVjcuZGlzcGF0Y2hlci5vbignc3VibmF2Ojpmb2xkJywgdGhpcy5jbG9zZS5iaW5kKHRoaXMpICk7XG5cblx0XHRcdC8vIFJlZ2lzdGVyIGRlZmF1bHQgYWN0aXZlIHRvcG1lbnUgbGlcblx0XHRcdHRoaXMuZGVmYXVsdEFjdGl2ZUluZGV4ID0gJChcIi5qcy1oZWFkZXItc3VibmF2IGxpLmFjdGl2ZVwiKS5pbmRleCgpO1xuXG5cdFx0XHQvKiBNRURJQVMgUk9MTCAqL1xuXHRcdFx0JChkb2N1bWVudCkub24oJ21vdXNlb3ZlcicsICcuanMtbWVkaWFzLXJvbGwgYScsIChlKSA9PiB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0bGV0IF8kdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblx0XHRcdFx0bGV0IHNyYyA9IF8kdGhpcy5hdHRyKCdkYXRhLWltZycpO1xuICAgICAgICAgICAgICAgIF8kdGhpcy5wYXJlbnRzKCcuanMtbWVkaWFzLXJvbGwnKS5maW5kKCdpbWc6Zmlyc3QnKS5hdHRyKCdzcmMnLCBzcmMpO1xuXG5cdFx0XHRcdGlmIChfJHRoaXMuZGF0YSgncGxheWVyJykpIF8kdGhpcy5wYXJlbnRzKCcuanMtbWVkaWFzLXJvbGwnKS5maW5kKCcucGljdG8tcGxheScpLnNob3coKTtcblx0XHRcdFx0ZWxzZSBfJHRoaXMucGFyZW50cygnLmpzLW1lZGlhcy1yb2xsJykuZmluZCgnLnBpY3RvLXBsYXknKS5oaWRlKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0JChkb2N1bWVudCkub24oJ21vdXNlbGVhdmUnLCAnLmpzLW1lZGlhcy1yb2xsJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgXyR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXHRcdFx0XHRsZXQgc3JjID0gXyR0aGlzLmZpbmQoJ2ltZzpmaXJzdCcpLnBhcmVudCgpLmRhdGEoJ2ltZycpO1xuICAgICAgICAgICAgICAgIF8kdGhpcy5maW5kKCdpbWc6Zmlyc3QnKS5hdHRyKCdzcmMnLCBzcmMpO1xuXG5cdFx0XHRcdGxldCBfcGxheWVyID0gXyR0aGlzLmZpbmQoJ2ltZzpmaXJzdCcpLnBhcmVudCgpLmRhdGEoJ3BsYXllcicpO1xuXHRcdFx0XHRpZiAoX3BsYXllcikgXyR0aGlzLmZpbmQoJy5waWN0by1wbGF5Jykuc2hvdygpO1xuXHRcdFx0XHRlbHNlIF8kdGhpcy5maW5kKCcucGljdG8tcGxheScpLmhpZGUoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQkKGRvY3VtZW50KS5maW5kKCcuanMtbWVkaWFzLXJvbGwnKS50cmlnZ2VyKCdtb3VzZWxlYXZlJyk7XG5cblx0XHRcdC8qIE1lZGlhIFJvbGwgTXVsdGkgY29sdW1uICovXG5cdFx0XHQkKGRvY3VtZW50KS5vbignbW91c2VvdmVyJywgJy5qcy1uYXYtY29udGVudCAqW2RhdGEtdGFyZ2V0Y29sdW1uXSBhJywgKGUpID0+IHtcblx0XHRcdFx0bGV0ICRsaW5rID0gJChlLmN1cnJlbnRUYXJnZXQpLFxuXHRcdFx0XHRcdHRhcmdldCA9ICRsaW5rLnBhcmVudHMoJypbZGF0YS10YXJnZXRjb2x1bW5dJykuYXR0cignZGF0YS10YXJnZXRjb2x1bW4nKTtcblxuXHRcdFx0XHRpZiAoJGxpbmsuYXR0cignZGF0YS1pbWcnKSAmJiAkKCcjJyt0YXJnZXQpLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdFx0Ly8gVXBkYXRlIEltYWdlIHNyY1xuXHRcdFx0XHRcdGxldCAkdGFyZ2V0ID0gJCgnIycrdGFyZ2V0KTtcblxuXHRcdFx0XHRcdC8vIHVwZGF0ZSB3aXRoIGN1cnJlbnRcblx0XHRcdFx0XHQkdGFyZ2V0LmZpbmQoJ2ltZzpmaXJzdCcpLmF0dHIoJ3NyYycsICRsaW5rLmRhdGEoJ2ltZycpKTtcblxuXHRcdFx0XHRcdGlmICgkbGluay5kYXRhKCdwbGF5ZXInKSkgJHRhcmdldC5maW5kKCcucGljdG8tcGxheScpLnNob3coKTtcblx0XHRcdFx0XHRlbHNlICR0YXJnZXQuZmluZCgnLnBpY3RvLXBsYXknKS5oaWRlKCk7XG5cblx0XHRcdFx0XHQvLyBTaG93IC8gSGlkZSBBdmFpbGliaWxpdHlcblx0XHRcdFx0XHRpZiAoJHRhcmdldC5maW5kKCcuanMtdG9wbWVudS1hdmFpbGliaWxpdHknKS5sZW5ndGggPiAwICYmICRsaW5rLmF0dHIoJ2RhdGEtYXZhaWxpYmlsaXR5JykpIHtcblx0XHRcdFx0XHRcdGlmICgkbGluay5hdHRyKCdkYXRhLWF2YWlsaWJpbGl0eScpID09IFwidHJ1ZVwiKSB7XG5cdFx0XHRcdFx0XHRcdCR0YXJnZXQuZmluZCgnLmpzLXRvcG1lbnUtYXZhaWxpYmlsaXR5JykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdCR0YXJnZXQuZmluZCgnLmpzLXRvcG1lbnUtYXZhaWxpYmlsaXR5JykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdCQoZG9jdW1lbnQpLm9uKCdtb3VzZWxlYXZlJywgJy5qcy1oZWFkZXIgKltkYXRhLXRhcmdldGNvbHVtbl0nLCAoZSkgPT4ge1xuXHRcdFx0XHRsZXQgdGFyZ2V0ICA9ICQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCdkYXRhLXRhcmdldGNvbHVtbicpLFxuXHRcdFx0XHRcdCR0YXJnZXQgPSAkKCcjJyt0YXJnZXQpLFxuXHRcdFx0XHRcdCRpbWcgICAgPSAkdGFyZ2V0LmZpbmQoJ2ltZzpmaXJzdCcpO1xuXG5cdFx0XHRcdC8vIHJlc2V0IHNyY1xuXHRcdFx0XHQkaW1nLmF0dHIoJ3NyYycsICRpbWcucGFyZW50KCkuZGF0YSgnaW1nJykpO1xuXHRcdFx0XHRpZiAoJGltZy5wYXJlbnQoKS5kYXRhKCdwbGF5ZXInKSkge1xuXHRcdFx0XHRcdCR0YXJnZXQuZmluZCgnLnBpY3RvLXBsYXknKS5zaG93KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JHRhcmdldC5maW5kKCcucGljdG8tcGxheScpLmhpZGUoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHJlc2V0IGF2YWlsaWJpbGl0eVxuXHRcdFx0XHRpZiAoJGltZy5hdHRyKCdkYXRhLWF2YWlsaWJpbGl0eScpID09IFwidHJ1ZVwiKSB7XG5cdFx0XHRcdFx0JHRhcmdldC5maW5kKCcuanMtdG9wbWVudS1hdmFpbGliaWxpdHknKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0JHRhcmdldC5maW5kKCcuanMtdG9wbWVudS1hdmFpbGliaWxpdHknKS5hZGRDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQkKGRvY3VtZW50KS5maW5kKCcuanMtaGVhZGVyICpbZGF0YS10YXJnZXRjb2x1bW5dJykudHJpZ2dlcignbW91c2VsZWF2ZScpO1xuXHRcdH1cblxuXHRcdCQod2luZG93KS5yZXNpemUoIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSApO1xuICAgICAgICB0aGlzLm9uUmVzaXplKCk7XG5cdH1cblxuICAgIGNoZWNrTW91c2VPdmVyKGUpIHtcbiAgICAgICAgbGV0ICRlbCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAgICAgICBsZXQgbmV3dGhpcyA9IG51bGwsXG4gICAgICAgICAgICBhY3RpdmUgPSBudWxsO1xuXG4gICAgICAgIGlmKCAkZWwuZGF0YSgndGFyZ2V0dG9wbWVudScpKSB7XG4gICAgICAgICAgICBuZXd0aGlzID0gJCgnIycgKyAkZWwuZGF0YSgndGFyZ2V0dG9wbWVudScpKTtcbiAgICAgICAgICAgIGFjdGl2ZSA9ICRlbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgkZWwuaGFzQ2xhc3MoJ25hdi1jb250ZW50JykpIHtcbiAgICAgICAgICAgIG5ld3RoaXMgPSAkZWw7XG4gICAgICAgICAgICBhY3RpdmUgPSB0aGlzLmFjdGl2ZU1lbnU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV3dGhpcykge1xuICAgICAgICAgICAgdGhpcy50b2dnbGUobmV3dGhpcywgYWN0aXZlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXHQvKlxuXHQgKlxuXHQgKi9cblx0b25TY3JvbGwoZSwgdG9wKSB7XG5cdFx0aWYgKHRoaXMubmVlZFNjcm9sbCkge1xuXHRcdFx0aWYgKHRoaXMuaXNPcGVuZWQgJiYgJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gdGhpcy5oZWlnaHRUb1Njcm9sbCkge1xuXHRcdFx0XHR0aGlzLm5lZWRTY3JvbGwgPSBmYWxzZTtcblxuXHRcdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMubW91c2VUaW1lcik7XG5cdFx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50aW1lck92ZXIpO1xuXG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdCAgICAvKlxuXHRcdFx0aWYgKCFjb3JlLmllNiAmJiBtb2R1bGVzLmhlYWRlci5oYXNTdGlja3kpIHtcblx0XHRcdFx0Ly9tb2R1bGVzLmhlYWRlci5zdGlja3kub25TY3JvbGxTdGlja1RvcChlLCB0b3ApO1xuXHRcdFx0fVxuXHRcdFx0Ki9cblx0XHR9XG5cdH1cblxuXHRvcGVuKCkge1xuXHRcdC8vIHBvc2l0aW9uIHRvcG1lbnUgZGVwZW5kaW5nIG9uIG1ldGFuYXZcblx0XHQvKmlmIChjb3JlLiRoZWFkZXIuaGFzQ2xhc3MoJ21ldGFuYXYtb3BlbicpICYmICFjb3JlLiRoZWFkZXIuaGFzQ2xhc3MoJ2ZpeGVkJykpIHtcblx0XHRcdHRoaXMuJGNvbnRhaW5lci5jc3MoJ3RvcCcsY29yZS4kaGVhZGVyLmhlaWdodCgpKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR0aGlzLiRjb250YWluZXIuYXR0cignc3R5bGUnLCcnKTtcblx0XHR9Ki9cblxuXHRcdC8vIEdldCBOZXcgdGhpcyBoZWlnaHRcblx0XHR0aGlzLmN1cnJlbnQuYWRkQ2xhc3MoJ2ludmlzaWJsZScpO1xuXHRcdC8vIGFkZCBwYWRkaW5nOiBzY3JvbGxhYmxlIGNvbnRlbnQgaXMgYWJzb2x1dGUgKC5vdmVydmlldylcblx0XHRsZXQgbmV3SGVpZ2h0ID0gdGhpcy5jdXJyZW50Lm91dGVySGVpZ2h0KHRydWUpO1xuXHRcdHRoaXMuY3VycmVudC5yZW1vdmVDbGFzcygnaW52aXNpYmxlJyk7XG5cblx0XHQvLyBJZiBhbHJlYWR5IG9wZW5lZCBubyBhbmltYXRpb25cblx0XHRpZiAodGhpcy5pc09wZW5lZCkge1xuXHRcdFx0dGhpcy4kY29udGFpbmVyLmNzcygnaGVpZ2h0JywgbmV3SGVpZ2h0KTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR0aGlzLiRjb250YWluZXIuc3RvcCgpLmFuaW1hdGUoe2hlaWdodDogbmV3SGVpZ2h0fSwzMDApO1xuXHRcdH1cblxuXHRcdHRoaXMuY2hlY2tIZWlnaHQobmV3SGVpZ2h0KTtcblxuXHRcdHRoaXMuY3VycmVudC5hZGRDbGFzcygnb3BlbicpO1xuXHRcdHRoaXMuJG92ZXJsYXkuZmFkZUluKDUwKTtcblxuXHRcdHRoaXMuJGNvbnRhaW5lci5hZGRDbGFzcygnb3BlbmVkLXRvcE1lbnUnKTtcblx0XHQkKFwiLmpzLWhlYWRlci1zdWJuYXYgbGkuYWN0aXZlXCIpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHR0aGlzLmFjdGl2ZU1lbnUucGFyZW50KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdHRoaXMuaXNPcGVuZWQgPSB0cnVlO1xuXHR9XG5cblx0Y2xvc2UoKSB7XG5cdFx0aWYgKHRoaXMuaXNPcGVuZWQpIHtcbiAgICAgICAgICAgIC8vIGFuaW1hdGUgY29udGFpbmVyXG4gICAgICAgICAgICB0aGlzLiRjb250YWluZXIuc3RvcCgpLmFuaW1hdGUoe2hlaWdodDogMH0sIDMwMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5yZW1vdmVDbGFzcygnb3BlbmVkLXRvcE1lbnUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZU1lbnUucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgZGVmYXVsdCBhY3RpdmVcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWZhdWx0QWN0aXZlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAkKFwiLmpzLWhlYWRlci1zdWJuYXYgbGlcIikuZXEodGhpcy5kZWZhdWx0QWN0aXZlSW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRvdmVybGF5LmZhZGVPdXQoNTApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pc09wZW5lZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubmVlZFNjcm9sbCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vblNjcm9sbCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblx0fVxuXG5cdHRvZ2dsZSggbmV3VG9wTGF5ZXIsIGFjdGl2ZSApIHtcblx0XHRpZiggdGhpcy5hY3RpdmVNZW51Lmxlbmd0aD4wICYmIG5ld1RvcExheWVyLmF0dHIoJ2lkJykgIT0gdGhpcy5jdXJyZW50LmF0dHIoJ2lkJykpIHtcblx0XHRcdGlmICh0aGlzLmlzT3BlbmVkKSB7XG5cdFx0XHRcdHRoaXMuY3VycmVudC5yZW1vdmVDbGFzcygnb3BlbicpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5hY3RpdmVNZW51LnBhcmVudCgpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHR9XG5cblx0XHR0aGlzLmN1cnJlbnQgICAgPSBuZXdUb3BMYXllcjtcblx0XHR0aGlzLmFjdGl2ZU1lbnUgPSBhY3RpdmU7XG5cdFx0dGhpcy5vcGVuKCk7XG5cblx0XHRsZXQgbmV3SGVpZ2h0ID0gdGhpcy5jdXJyZW50Lm91dGVySGVpZ2h0KHRydWUpO1xuXG5cdFx0dGhpcy5jaGVja0hlaWdodCggbmV3SGVpZ2h0ICk7XG5cdH1cblxuXHRjaGVja0hlaWdodChuZXdIZWlnaHQpIHtcblx0XHRsZXQgZXh0cmFIZWlnaHQgID0gMDsgLy8gdGhlIGhlaWdodCB0byBzY3JvbGwgdG8gc2VlIGNvbXBsZXRlbHkgdGhlIHRvcE1lbnVcbiAgICAgICAgbGV0IG1hcmdpbiA9IDEwMDtcblxuXHRcdGV4dHJhSGVpZ2h0ID0gKCQoXCIjZGlvci1oZWFkZXJcIikuaGVpZ2h0KCkgKyBuZXdIZWlnaHQpIC0gJCh3aW5kb3cpLmhlaWdodCgpO1xuXG5cdFx0aWYoIGV4dHJhSGVpZ2h0ID4gMCApIHtcblx0XHRcdC8vIHNldCB2aWV3cG9ydCBoZWlnaHRcblx0XHRcdHRoaXMuaGVpZ2h0VG9TY3JvbGwgPSBleHRyYUhlaWdodCArIG1hcmdpbjtcblx0XHRcdHRoaXMubmVlZFNjcm9sbCA9IHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMubmVlZFNjcm9sbCA9IGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdG9uUmVzaXplKCkge1xuXHRcdGlmICgkKCcjZGlvci1oZWFkZXInKS5oYXNDbGFzcygnanMtaGVhZGVyLXRyYW5zcGFyZW50JykpIHtcbiAgICAgICAgICAgICQoJy5qcy1oZWFkZXItc3VibmF2JykuYWRkQ2xhc3MoJ2ludmlzaWJsZScpLnNob3coKTtcblx0XHR9XG4gICAgICAgIC8vRXF1YWxpemUgYWxsIGNvbHNcbiAgICAgICAgZXF1YWxIZWlnaHQuZXF1YWxpemUoJy5qcy1kaW9yLWhlYWRlciAuanMtZXF1YWxpemUnLCAnLmpzLWVxdWFsLWNvbCcpO1xuICAgICAgICAvL0VxdWFsaXplIGFsbCB0aXRsZXNcbiAgICAgICAgZXF1YWxIZWlnaHQuZXF1YWxpemUoJy5qcy1kaW9yLWhlYWRlciAuanMtZXF1YWxpemUnLCAnLmpzLWVxdWFsLXRpdGxlJyk7XG4gICAgICAgIC8vRXF1YWxpemUgYWxsIGF2YWlsaWJpbGl0eSB0aXRsZXNcbiAgICAgICAgZXF1YWxIZWlnaHQuZXF1YWxpemUoJy5qcy1kaW9yLWhlYWRlciAuanMtZXF1YWxpemUnLCAnLmpzLWVxdWFsLWF2YWlsaWJpbGl0eScpO1xuXG5cdFx0dGhpcy5jaGVja0hlaWdodCgpO1xuXG4gICAgICAgIGlmICgkKCcjZGlvci1oZWFkZXInKS5oYXNDbGFzcygnanMtaGVhZGVyLXRyYW5zcGFyZW50JykpIHtcbiAgICAgICAgICAgICQoJy5qcy1oZWFkZXItc3VibmF2JykuaGlkZSgpLnJlbW92ZUNsYXNzKCdpbnZpc2libGUnKTtcbiAgICAgICAgfVxuXHR9XG5cdFx0XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRvcE1lbnU7IiwiaW1wb3J0IFdpc2hsaXN0IGZyb20gJy4vcm9sbHMvV2lzaGxpc3QuanMnO1xuaW1wb3J0IEFjY291bnQgZnJvbSAnLi9yb2xscy9BY2NvdW50LmpzJztcbmltcG9ydCBFcnJvciBmcm9tICcuL3JvbGxzL0Vycm9yLmpzJztcbmltcG9ydCBDYXJ0IGZyb20gJy4vcm9sbHMvQ2FydC5qcyc7XG5cbmxldCByb2xscyA9IHtcblx0aW5zdGFuY2VzOiBbXSxcblxuICAgIGN1cnJlbnQ6IG51bGwsXG4gICAgaXNPcGVuZWQ6IGZhbHNlLFxuXG5cdGluaXQoKSB7XG5cbiAgICAgICAgaWYgKCAkKCcuanMtY2FydC1yb2xsICcpLmxlbmd0aCApIHtcbiAgICAgICAgICAgIHRoaXMuY2FydCA9IG5ldyBDYXJ0KCk7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlcy5wdXNoKCB0aGlzLmNhcnQgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoICEkKCdodG1sJykuaGFzQ2xhc3MoJ25vLXdpc2hsaXN0JykgJiYgJCgnLmpzLXdpc2hsaXN0LXJvbGwgJykubGVuZ3RoICkge1xuICAgICAgICAgICAgdGhpcy53aXNobGlzdCA9IG5ldyBXaXNobGlzdCgpO1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZXMucHVzaCggdGhpcy53aXNobGlzdCApO1xuICAgICAgICB9XG4gICAgICAgIGlmICggJCgnLmpzLWFjY291bnQtcm9sbCAnKS5sZW5ndGggKSB7XG4gICAgICAgICAgICB0aGlzLmFjY291bnQgPSBuZXcgQWNjb3VudCgpO1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZXMucHVzaCggdGhpcy5hY2NvdW50ICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCAkKCcuanMtZXJyb3Itcm9sbCAnKS5sZW5ndGggKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yID0gbmV3IEVycm9yKCAkKCcuanMtZXJyb3Itcm9sbCcpICk7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlcy5wdXNoKCB0aGlzLmVycm9yICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlvclY3LmhlbHBlcnMuaXNUYWN0aWxlKCkpIHtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCd0b3VjaHN0YXJ0JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgnLmhlYWRlci1yb2xsJykubGVuZ3RoKSB7XG5cdFx0XHRcdFx0dGhpcy5jbG9zZUFsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH0sXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgY2FydCBsZW5ndGggb24gcXVpY2tidXlcbiAgICAgKi9cbiAgICBhZGRlZFRvQ2FydCgpIHtcblx0ICAgIHRoaXMuY2FydC5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuY2FydC5nZXQoKTtcbiAgICB9LFxuXG5cdGNsb3NlQWxsKCkge1xuXHRcdHRoaXMuaW5zdGFuY2VzLmZvckVhY2gocm9sbCA9PiB7XG5cdFx0XHRyb2xsLmNsb3NlKCk7XG5cdFx0fSk7XG5cdH0sXG5cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xuICAgIC8qIEZPUiBWNiBPTkxZICovXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5jbG9zZUFsbCgpO1xuICAgIH0sXG4gICAgb3BlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCkgdGhpcy5jdXJyZW50Lm9wZW4oKTtcbiAgICB9LFxuICAgIHRvZ2dsZShuZXdSb2xsLCBhY3RpdmUpIHtcbiAgICAgICAgLyogSUYgQ0FSVDogb3BlbiBvbmx5IGlmIGNhcnRzIG5vdCBlbXB0eSAqL1xuICAgICAgICBpZiAoIW5ld1JvbGwgfHwgIW5ld1JvbGwubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmNhcnQub3BlbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IF9pZCA9IG5ld1JvbGwuYXR0cignaWQnKTtcblxuICAgICAgICAgICAgaWYgKCBfaWQuaW5kZXhPZignYWNjb3VudCcpICE9IC0xKSB0aGlzLmFjY291bnQub3BlbigpO1xuICAgICAgICAgICAgZWxzZSBpZiAoX2lkLmluZGV4T2YoJ3dpc2hsaXN0JykgIT0gLTEpIHRoaXMud2lzaGxpc3Qub3BlbigpO1xuICAgICAgICAgICAgZWxzZSBpZiAoX2lkLmluZGV4T2YoJ2Vycm9yJykgIT0gLTEpIHRoaXMuZXJyb3Iub3BlbigpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIG9uRXJyb3IoIGRhdGEgKSB7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAkKCcjZXJyb3JSb2xsIC5kZWZhdWx0LW1lc3NhZ2UnKS5odG1sKCBkYXRhLmVycm9yTWVzc2FnZXMuam9pbignPGJyLz4nKSApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9nZ2xlKCAkKCcjZXJyb3JSb2xsJyksIHRydWUpO1xuICAgIH1cblxufTtcblxuZXhwb3J0IGRlZmF1bHQgcm9sbHM7IiwiaW1wb3J0IFJvbGwgZnJvbSAnLi9Sb2xsLmpzJztcblxuY2xhc3MgQWNjb3VudCBleHRlbmRzIFJvbGwge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCQoJy5qcy1hY2NvdW50LXJvbGwnKSk7XG5cbiAgICAgICAgaWYgKGRpb3JWNy5BY2NvdW50LmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KCB0aGlzLiRlbC5maW5kKCcuanMtYWNjb3VudC1uYXYnKSApO1xuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KCB0aGlzLiRlbC5wYXJlbnRzKCdsaTpmaXJzdCcpLmZpbmQoJy5qcy1hY2NvdW50LWNvbm5lY3RlZCcpICk7XG5cbiAgICAgICAgICAgIC8vIGluamVjdCB1c2VyIG5hbWVcbiAgICAgICAgICAgIGxldCBfY29va2llRGF0YSA9IENvb2tpZXMuZ2V0KGRpb3JWNy5jb25maWcuY29va2llcy5VU0VSKTtcbiAgICAgICAgICAgIGlmIChfY29va2llRGF0YSkge1xuICAgICAgICAgICAgICAgIGxldCBfdXNlckRhdGEgPSBKU09OLnBhcnNlKCBfY29va2llRGF0YS5yZXBsYWNlKC9cXCsvZywgJyAnKSApO1xuICAgICAgICAgICAgICAgICQoJy5qcy11c2VyLW5hbWUnKS50ZXh0KCBfdXNlckRhdGEubmFtZSApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tBY2NvdW50XTogc29tZXRoaW5nIHdlbnQgd3Jvbmc6IHlvdVxcJ3JlIGNvbm5lY3RlZCBidXQgd2l0aG91dCB1c2VyIGRhdGEuIFRoZSBjb29raWUgXCInK2Rpb3JWNy5jb25maWcuY29va2llcy5VU0VSKydcIiBpcyBtaXNzaW5nLicgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuc2hvdyggdGhpcy4kZWwuZmluZCgnLmpzLWFjY291bnQtc2lnbmluJykgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgY29ubmVjdGVkKCkge1xuICAgICAgICBsZXQgX2Nvbm5lY3RlZCA9IENvb2tpZXMuZ2V0KGRpb3JWNy5jb25maWcuY29va2llcy5DT05ORUNURUQpO1xuICAgICAgICBpZiAoX2Nvbm5lY3RlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZGlvclY3LmhlbHBlcnMuc3RyaW5nVG9Cb29sZWFuKF9jb25uZWN0ZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbi8vIGV4cG9zZSBzdGF0aWMgbWV0aG9kc1xud2luZG93LmRpb3JWNy5BY2NvdW50ID0gQWNjb3VudDtcblxuZXhwb3J0IGRlZmF1bHQgQWNjb3VudDsiLCJpbXBvcnQgUm9sbCBmcm9tICcuL1JvbGwuanMnO1xuaW1wb3J0IHRwbCBmcm9tICcuLi8uLi8uLi90ZW1wbGF0ZXMuanMnO1xuXG4vKipcbiAqIFByaXZhdGUgaW5zdGFuY2Ugb2YgQ2FydFxuICovXG5sZXQgX2luc3Q7XG5cbmNsYXNzIENhcnQgZXh0ZW5kcyBSb2xsIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigkKCcuanMtY2FydC1yb2xsJykpO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgX2luc3QgPSB0aGlzO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdGhpcy5jbG9zZVRpbWVvdXQgPSAyMDAwO1xuXG4gICAgICAgIHRoaXMubWF4SGVpZ2h0ID0gMzAwO1xuXG4gICAgICAgIC8vIEVtcHR5IENhcnQgZGlzYWJsZSBjYXJ0IGxpbmtcbiAgICAgICAgdGhpcy4kcGFyZW50LmZpbmQoJy5qcy1jYXJ0LWxpbmsnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRDYXJ0VG90YWwgPSBwYXJzZUludCh0aGlzLiRlbC5wYXJlbnQoKS5maW5kKCcuanMtY2FydC10b3RhbCcpLnRleHQoKS5yZXBsYWNlKC9bXFwoXFwpXS9nLCcnKSk7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRDYXJ0VG90YWwpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5vbignc2hvdycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdsb2FkaW5nJyk7XG4gICAgICAgICAgICBkaW9yVjcuQ2FydE1vZHVsZS5nZXQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGlvclY3LmhlbHBlcnMucmVnaXN0ZXJIYW5kbGViYXJzSGVscGVyKCdzdHJpbmdpZnknLCAndHJ1bmNhdGUnKTtcblxuICAgICAgICB0aGlzLnJlZnJlc2hVbml2ZXJzZXMoKTtcblxuICAgICAgICB0aGlzLiRlbC5vbignY2xpY2snLCAnLmpzLWNhcnQtaXRlbS1yZW1vdmUnLCAoZSkgPT4gZGlvclY3LkNhcnRNb2R1bGUucmVtb3ZlKGUpICk7XG5cbiAgICAgICAgZGlvclY3LkNhcnRNb2R1bGUub24oJ29yaWdpbicsIChvcmlnaW4sIGRhdGEpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyT3JpZ2luKG9yaWdpbiwgZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgICBkaW9yVjcuQ2FydE1vZHVsZS5vbignY29tcGxldGUnLCB0aGlzLnJlbmRlci5iaW5kKHRoaXMpKTtcbiAgICAgICAgZGlvclY3LkNhcnRNb2R1bGUub24oJ3JlbW92ZWQnLCAoJHByb2R1Y3QpID0+IHtcbiAgICAgICAgICAgICRwcm9kdWN0LnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoVW5pdmVyc2VzKCk7XG4gICAgICAgICAgICB0aGlzLnNldFNjcm9sbGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBkaW9yVjcuQ2FydE1vZHVsZS5vbignYWRkZWQnLCAoc2lsZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNpbGVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICAgICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5jbG9zZSgpLCB0aGlzLmNsb3NlVGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hVbml2ZXJzZXMoKTtcblxuICAgICAgICB9ICk7XG4gICAgICAgIGRpb3JWNy5DYXJ0TW9kdWxlLm9uKCdlcnJvcicsIHRoaXMuc2V0RXJyb3IuYmluZCh0aGlzKSApO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVkID0gMDtcbiAgICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ2hhcy1wY2QgaGFzLWNkYyBoYXMtZG91YmxlLWNhcnQgaGFzLWVycm9yJyk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVkID0gMTtcbiAgICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ2xvYWRpbmcgaGFzLWVycm9yJyk7XG5cbiAgICAgICAgaWYgKHRoaXMudG90YWxDREMgPiAwICYmIHRoaXMudG90YWxQQ0QgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnaGFzLWRvdWJsZS1jYXJ0Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnaGFzLWRvdWJsZS1jYXJ0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFNjcm9sbGVyKCk7XG4gICAgICAgIGRpb3JWNy5wcmVsb2FkZXIucHJlbG9hZCggdGhpcy4kZWwuZmluZCgnaW1nJyksIChpbWFnZXMpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U2Nyb2xsZXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBjYXJ0IHByb2R1Y3RzIGZvciBvcmlnaW4gYW5kIHJlZnJlc2hlcyBzY3JvbGxlclxuICAgICAqIEBwYXJhbSBvcmlnaW4geydQQ0QnIHwgJ0NEQyd9XG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKi9cbiAgICByZW5kZXJPcmlnaW4oIG9yaWdpbiwgZGF0YSApIHtcbiAgICAgICAgb3JpZ2luID0gb3JpZ2luLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGxldCBfb3JpZ2luID0gb3JpZ2luLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgdGhpcy4kZWwudG9nZ2xlQ2xhc3MoJ2hhcy0nK19vcmlnaW4sIGRhdGEuYmFza2V0LnByb2R1Y3RzUXVhbnRpdHkgPiAwKTtcblxuICAgICAgICBsZXQgJGNhcnQgPSB0aGlzLiRlbC5maW5kKCcuanMtY2FydC0nK19vcmlnaW4pO1xuICAgICAgICAkY2FydC5maW5kKCcuanMtY2FydC1pdGVtcycpLmh0bWwoIHRwbC5jYXJ0KGRhdGEpICk7XG4gICAgICAgICRjYXJ0LmZpbmQoJy5qcy1jYXJ0LXF1YW50aXR5JykudGV4dCggZGF0YS5iYXNrZXQucHJvZHVjdHNRdWFudGl0eSApO1xuICAgICAgICAkY2FydC5maW5kKCcuanMtc3VidG90YWwtcXVhbnRpdHknKS50ZXh0KCBkYXRhLmJhc2tldC5zdWJUb3RhbFdpdGhDdXJyZW5jeSApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHdlIGhhdmUgcHJvZHVjdHMgZm9yIGVhY2ggdW5pdmVyc2VcbiAgICAgKi9cbiAgICByZWZyZXNoVW5pdmVyc2VzKCkge1xuICAgICAgICBsZXQgX3RvdGFsID0gZGlvclY3LkNhcnRNb2R1bGUudG90YWw7XG4gICAgICAgIGxldCBfb3JpZ2lucyA9IFsnQ0RDJywgJ1BDRCddO1xuXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTwyOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBfb3JpZ2luID0gX29yaWdpbnNbaV07XG5cbiAgICAgICAgICAgIGlmIChkaW9yVjcuZGF0YS5jYXJ0W19vcmlnaW5dKSB7XG4gICAgICAgICAgICAgICAgbGV0ICRjYXJ0ID0gdGhpcy4kZWwuZmluZCgnLmpzLWNhcnQtJyArIChfb3JpZ2luKS50b0xvd2VyQ2FzZSgpICk7XG4gICAgICAgICAgICAgICAgJGNhcnQuZmluZCgnLmpzLWNhcnQtcXVhbnRpdHknKS50ZXh0KCBkaW9yVjcuZGF0YS5jYXJ0W19vcmlnaW5dLmJhc2tldC5wcm9kdWN0c1F1YW50aXR5ICk7XG4gICAgICAgICAgICAgICAgJGNhcnQuZmluZCgnLmpzLXN1YnRvdGFsLXF1YW50aXR5JykudGV4dCggZGlvclY3LmRhdGEuY2FydFtfb3JpZ2luXS5iYXNrZXQuc3ViVG90YWxXaXRoQ3VycmVuY3kgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIudG9nZ2xlSGlkZGVuKFxuICAgICAgICAgICAgdGhpcy4kcGFyZW50LmZpbmQoJy5qcy1jYXJ0LXRvdGFsJykudGV4dCggKF90b3RhbCA+IDkgPyAnOSsnIDogX3RvdGFsKSApLFxuICAgICAgICAgICAgIV90b3RhbFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuJGVsLnRvZ2dsZUNsYXNzKCdoYXMtcGNkJywgZGlvclY3LkNhcnRNb2R1bGUudG90YWxGb3IoJ1BDRCcpID4gMCk7XG4gICAgICAgIHRoaXMuJGVsLnRvZ2dsZUNsYXNzKCdoYXMtY2RjJywgZGlvclY3LkNhcnRNb2R1bGUudG90YWxGb3IoJ0NEQycpID4gMCk7XG5cbiAgICB9XG5cbiAgICBzZXRTY3JvbGxlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXIuX3Jlc2V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgJHNjcm9sbGVyV3JhcHBlciA9IHRoaXMuJGVsLmZpbmQoJy5qcy1jYXJ0LXNjcm9sbGVyLXdyYXBwZXInKTtcbiAgICAgICAgbGV0ICRzY3JvbGxlciA9ICRzY3JvbGxlcldyYXBwZXIuZmluZCgnLmpzLWNhcnQtc2Nyb2xsZXInKTtcblxuICAgICAgICAkc2Nyb2xsZXJXcmFwcGVyLmhlaWdodCggTWF0aC5taW4oIHRoaXMubWF4SGVpZ2h0LCBNYXRoLmNlaWwoJHNjcm9sbGVyLmhlaWdodCgpKSApICk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnNjcm9sbGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVyID0gJHNjcm9sbGVyLnNjcm9sbGVyKHtcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdFNjcm9sbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBheGlzOiAneSdcbiAgICAgICAgICAgIH0pLmRhdGEoJ3Njcm9sbGVyJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVyLnJlZnJlc2goKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgc2V0RXJyb3IoIGRhdGEgKSB7XG4gICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdoYXMtZXJyb3InKTtcbiAgICAgICAgaWYgKGRhdGEubWVzc2FnZSkgdGhpcy4kZWwuZmluZCgnLmpzLXJvbGwtZXJyb3InKS50ZXh0KCBkYXRhLm1lc3NhZ2UgKTtcblxuICAgICAgICBkaW9yVjcuSGVhZGVyLnJvbGxzLm9uRXJyb3IoIGRhdGEgKTtcbiAgICB9XG5cbn1cblxuLy8gZXhwb3NlIHN0YXRpYyBtZXRob2RzXG53aW5kb3cuZGlvclY3LkNhcnQgPSBDYXJ0O1xuXG5leHBvcnQgZGVmYXVsdCBDYXJ0OyIsImltcG9ydCBSb2xsIGZyb20gJy4vUm9sbC5qcyc7XG5cbmNsYXNzIEVycm9yUm9sbCBleHRlbmRzIFJvbGwge1xuXG5cdG9wZW4oKSB7XG5cdFx0c3VwZXIub3BlbigpO1xuXG5cdFx0dGhpcy50aW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcblx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHR9LCA0MDAwKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBFcnJvclJvbGw7IiwiaW1wb3J0IERpc3BhdGNoZXIgZnJvbSAnLi8uLi8uLi8uLi8uLi9tb2R1bGVzL0Rpc3BhdGNoZXIuanMnO1xuXG5jbGFzcyBSb2xsIHtcbiAgICBjb25zdHJ1Y3RvcigkZWwpIHtcbiAgICAgICAgdGhpcy4kZWwgPSAkZWw7XG4gICAgICAgIHRoaXMuJHBhcmVudCA9IHRoaXMuJGVsLnBhcmVudCgnbGk6Zmlyc3QnKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gbmV3IERpc3BhdGNoZXIoKTtcbiAgICAgICAgdGhpcy5hdXRvY2xvc2UgPSAhdGhpcy4kZWwuYXR0cignZGF0YS1hdXRvLWNsb3NlJykgfHwgdGhpcy4kZWwuYXR0cignZGF0YS1hdXRvLWNsb3NlJykgJiYgdGhpcy4kZWwuYXR0cignZGF0YS1hdXRvLWNsb3NlJykgPT09ICd0cnVlJztcbiAgICAgICAgdGhpcy5jbG9zZURlbGF5ID0gMTAwMDtcblxuICAgICAgICB0aGlzLl9jbG9zZSA9IChlKSA9PiB7XG4gICAgICAgICAgICBpZiggIXRoaXMuJGVsLmlzKGUudGFyZ2V0KSAmJiAhdGhpcy4kZWwuaGFzKGUudGFyZ2V0KS5sZW5ndGggKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2FkZExpc3RlbmVycygpO1xuICAgIH1cblxuICAgIF9hZGRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGlmKCFkaW9yVjcuaGVscGVycy5pc1RhY3RpbGUoKSkge1xuICAgICAgICAgICAgdGhpcy4kcGFyZW50LmhvdmVySW50ZW50KHtcbiAgICAgICAgICAgICAgICBvdmVyOiB0aGlzLm9wZW4uYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICBvdXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYXV0b2Nsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jbG9zZURlbGF5KSB0aGlzLmNsb3NlRGVsYXlUaW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLmNsb3NlLmJpbmQodGhpcyksIHRoaXMuY2xvc2VEZWxheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kcGFyZW50LmNoaWxkcmVuKCdhJykub24oJ2NsaWNrJywgdGhpcy50b2dnbGUuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQURBIGtleXByZXNzIG5hdiBcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2tleWRvd24nLCAoZSkgPT4ge1xuXG4gICAgICAgICAgICB0aGlzLiRwYXJlbnRcbiAgICAgICAgICAgIC5mb2N1c2luKHRoaXMub3Blbi5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgLmZvY3Vzb3V0KCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmF1dG9jbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcblxuICAgIH1cblxuICAgIHRvZ2dsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuJHBhcmVudC5oYXNDbGFzcygnYWN0aXZlJykpIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgZWxzZSB0aGlzLm9wZW4oKTtcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZURlbGF5VGltZW91dCkgY2xlYXJUaW1lb3V0KHRoaXMuY2xvc2VEZWxheVRpbWVvdXQpO1xuICAgICAgICBkaW9yVjcuSGVhZGVyLnJvbGxzLmNsb3NlQWxsKCk7XG4gICAgICAgIGlmICghdGhpcy4kcGFyZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAgICAgdGhpcy4kcGFyZW50LmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuc2hvdyh0aGlzLiRlbCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIudHJpZ2dlcignc2hvdycsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoICgpID0+IHsgJChkb2N1bWVudCkub25lKCdjbGljaycsIHRoaXMuX2Nsb3NlKTsgfSwgMSk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuJHBhcmVudC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZSh0aGlzLiRlbCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci50cmlnZ2VyKCdoaWRlJywgdGhpcyk7XG4gICAgICAgICQoZG9jdW1lbnQpLm9mZignY2xpY2sgJywgdGhpcy5fY2xvc2UpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUm9sbDsiLCJpbXBvcnQgUm9sbCBmcm9tICcuL1JvbGwuanMnO1xuaW1wb3J0IHRwbCBmcm9tICcuLi8uLi8uLi90ZW1wbGF0ZXMuanMnO1xuXG5jbGFzcyBXaXNobGlzdCBleHRlbmRzIFJvbGwge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCQoJy5qcy13aXNobGlzdC1yb2xsJykpO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saW1pdCA9IGRpb3JWNy5jb25maWcuV0lTSExJU1RfTElNSVQ7XG4gICAgICAgIHRoaXMuY2xvc2VUaW1lb3V0ID0gMjAwMDtcblxuICAgICAgICBpZiAoIGRpb3JWNy5BY2NvdW50LmNvbm5lY3RlZCApIHtcbiAgICAgICAgICAgIGRpb3JWNy5XaXNoTGlzdE1vZHVsZS5vbignY29tcGxldGUnLCAgIHRoaXMucmVuZGVyLmJpbmQodGhpcykgKTtcbiAgICAgICAgICAgIGRpb3JWNy5XaXNoTGlzdE1vZHVsZS5vbignZXJyb3InLCAgICAgIHRoaXMuc2V0RXJyb3IuYmluZCh0aGlzKSApO1xuICAgICAgICAgICAgZGlvclY3Lldpc2hMaXN0TW9kdWxlLm9uKCdhZGRlZCcsICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICAgICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5jbG9zZSgpLCB0aGlzLmNsb3NlVGltZW91dCk7XG4gICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICBkaW9yVjcuV2lzaExpc3RNb2R1bGUub24oJ3JlbW92ZWQnLCAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgY29va2llIHRvIGJlIHVwZGF0ZWRcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVG90YWwoIGRpb3JWNy5XaXNoTGlzdE1vZHVsZS50b3RhbCApO1xuICAgICAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLm9uKCdzaG93JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkaW9yVjcuQWNjb3VudC5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsZWFyOiBhc3N1bWUgd2UgaGF2ZSBpdGVtcywgYW5kIGRpc3BsYXkgbG9hZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2lzLWNvbm5lY3RlZCBsb2FkaW5nIGhhcy1pdGVtcycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuanMtd2lzaGxpc3QtcHJvZHVjdHMnKS5lbXB0eSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkaW9yVjcuV2lzaExpc3RNb2R1bGUuZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVUb3RhbCggZGlvclY3Lldpc2hMaXN0TW9kdWxlLnRvdGFsICk7XG5cbiAgICAgICAgICAgIC8vIGlzIHRoZSBXUyB3aXNobGlzdCBhbHJlYWR5IGRvbmUgKGFjdHVhbGx5IHZlcnkgcmFyZSBjYXNlLCBvbmx5IGhlIHN0YWdpbmcgcG9zc2libGUgaXNzdWUpXG4gICAgICAgICAgICBpZiAoZGlvclY3LmRhdGEuYWNjb3VudCAmJiBkaW9yVjcuZGF0YS5hY2NvdW50Lndpc2hsaXN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoIGRpb3JWNy5kYXRhLmFjY291bnQud2lzaGxpc3QgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KCB0aGlzLiRlbC5maW5kKCcud2lzaGxpc3QtcHJvZHVjdHMnKSApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5oaWRlKCB0aGlzLiRwYXJlbnQuZmluZCgnLmpzLXdpc2hsaXN0LXRvdGFsJykgKTtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuc2hvdyggdGhpcy4kZWwuZmluZCgnLndpc2hsaXN0LXNpZ25pbicpICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgICBzdXBlci5vcGVuKCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICBzdXBlci5jbG9zZSgpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgICB9XG5cbiAgICByZW5kZXIoIGRhdGEgKSB7XG4gICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdsb2FkaW5nJyk7XG5cbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnaGFzLWl0ZW1zJyk7XG4gICAgICAgICAgICAvLyBvbmx5IDUgaXRlbXMgbWF4XG4gICAgICAgICAgICBsZXQgX2l0ZW1zID0gZGF0YS5zbGljZSgwLCBNYXRoLm1pbig1LCBkYXRhLmxlbmd0aCkpO1xuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLmpzLXdpc2hsaXN0LXByb2R1Y3RzJykuaHRtbCggdHBsLndpc2hsaXN0KF9pdGVtcykgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdoYXMtaXRlbXMnKVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmpzLXdpc2hsaXN0LXByb2R1Y3RzJykuZW1wdHkoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVRvdGFsKCBkYXRhLmxlbmd0aCApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgd2lzaGxpc3QgdG90YWwgJ2J1bGxldCcgYW5kIGRpc3BsYXlzIGl0IGlmIG1vcmUgdGhhbiAwXG4gICAgICogQHBhcmFtIHRvdGFsIHtpbnR9XG4gICAgICovXG4gICAgdXBkYXRlVG90YWwoIHRvdGFsICkge1xuICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLnRvZ2dsZUhpZGRlbihcbiAgICAgICAgICAgIHRoaXMuJHBhcmVudC5maW5kKCcuanMtd2lzaGxpc3QtdG90YWwnKS50ZXh0KCAodG90YWwgPiA5ID8gJzkrJyA6IHRvdGFsKSApLFxuICAgICAgICAgICAgIXRvdGFsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc2V0RXJyb3IoZGF0YSkge1xuICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnbG9hZGluZycpO1xuICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnaGFzLWVycm9yJyk7XG4gICAgICAgIGlmIChkYXRhLm1lc3NhZ2UpIHRoaXMuJGVsLmZpbmQoJy5qcy1yb2xsLWVycm9yJykudGV4dChkYXRhLm1lc3NhZ2UpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2lzaGxpc3Q7IiwiY2xhc3MgVG9wTGF5ZXIge1xuXG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuXHRpc09wZW5lZCA9IGZhbHNlO1xuXHRvbkNsaWNrQ2xvc2UgPSBmYWxzZTtcblxuXHRhdXRvT3BlbiA9IHVuZGVmaW5lZDtcblx0Ly8gc3RvcmUgd2hpY2ggdG9wTGF5ZXIgdG8gcmVvcGVuLCBvciBmYWxzZSBpZiBub3RoaW5nIHRvIG9wZW4gb24gc2Nyb2xsIHRvcFxuXHRhdXRvUmVPcGVuID0gZmFsc2U7XG5cblx0dGltZXNPcGVuZWQgPSAwO1xuXHRtYXhUaW1lc09wZW4gPSAyO1xuXHRleHBpcmF0aW9uID0gMTtcblxuXHR0aW1lciA9ICAgICAgbnVsbDtcblx0bGlua0FycmF5ID0gIHt9O1xuXG5cdC8vIG9ubHkgb25lIGxpbmUgb2YgdGV4dCwgc28gaGVpZ2h0IGlzIGNvbnN0YW50XG5cdGhlaWdodCA9IDQwO1xuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXG5cdFxuXHRjb25zdHJ1Y3RvciggJGVsICkge1xuXHRcdFx0XG5cdFx0dGhpcy4kZWwgPSAkZWw7XG5cdFx0XG5cdFx0dGhpcy5tb2RlID0gJ2luaXQnO1xuXHRcdHRoaXMuYXV0b1JlT3BlbiA9IHRoaXMuJGVsO1xuXG5cdFx0Ly8gUkVBRCBQQVJBTVNcblx0XHR0aGlzLmF1dG9PcGVuID0gdGhpcy4kZWwuZGF0YSgnYXV0by1vcGVuJyk7XG5cblx0XHRpZiAodGhpcy5hdXRvT3Blbikge1xuXHRcdFx0dGhpcy5tYXhUaW1lc09wZW4gPSB0aGlzLiRlbC5kYXRhKCdjYXBwaW5nJyk7XG5cdFx0XHQvLyBERUZBVUxUOiAxIG9wZW4gZXZlcnkgMTUgZGF5c1xuXHRcdFx0aWYgKCF0aGlzLm1heFRpbWVzT3Blbikge1xuXHRcdFx0XHR0aGlzLm1heFRpbWVzT3BlbiA9IDE7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBjb29raWVPcHRpb25zID0gKHdpbmRvdy5Db29raWVzID8gICQuZXh0ZW5kKHt9LCBDb29raWVzLmRlZmF1bHRzKSA6IHt9KTtcblxuXHRcdFx0dGhpcy5leHBpcmF0aW9uID0gcGFyc2VJbnQoIHRoaXMuJGVsLmRhdGEoJ2Nvb2tpZS1leHBpcmF0aW9uJykgKTtcblx0XHRcdGlmICh0aGlzLmV4cGlyYXRpb24gJiYgdGhpcy5leHBpcmF0aW9uID4gMCkge1xuXHRcdFx0XHRjb29raWVPcHRpb25zLmV4cGlyZXMgPSB0aGlzLmV4cGlyYXRpb247XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMudGltZXNPcGVuZWQgPSBDb29raWVzLmdldCgnYWR2YW50YWdlc19vcGVuZWQnKTtcblx0XHRcdC8vIGZpcnN0IHRpbWUgd2UgZ28gdG8gZGlvci5jb20/XG5cdFx0XHRpZiAoIXRoaXMudGltZXNPcGVuZWQgfHwgdGhpcy50aW1lc09wZW5lZCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRoaXMudGltZXNPcGVuZWQgPSAwO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy50aW1lc09wZW5lZCA8IHRoaXMubWF4VGltZXNPcGVuKSB7XG5cdFx0XHRcdHRoaXMuYXV0b09wZW4gPSB0cnVlO1xuXHRcdFx0XHQvL0lFOSB3YXJuaW5nOiAkLmV4dGVuZHMgY3JlYXRlIGFuIGludmFsaWQgb2JqZWN0IGZvciBjb29raWVcblx0XHRcdFx0Q29va2llcy5zZXQoICdhZHZhbnRhZ2VzX29wZW5lZCcsICsrdGhpcy50aW1lc09wZW5lZCwgY29va2llT3B0aW9ucyApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5hdXRvT3BlbiA9IGZhbHNlO1xuXHRcdFx0XHR0aGlzLmF1dG9SZU9wZW4gPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKiBGSVJTVCBUSU1FIE9QRU4gKi9cblx0XHRpZiAodGhpcy5hdXRvT3BlbikgdGhpcy5vcGVuKCk7XG5cblx0XHR0aGlzLiRlbC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnRpbWVyICk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLiRlbC5maW5kKCcuanMtdG9wLWxheWVyLWNsb3NlJykub24oJ2NsaWNrIHRvdWNoJywgKGUpID0+IHtcblx0XHRcdHRoaXMub25DbGlja0Nsb3NlID0gdHJ1ZTtcblx0XHRcdGxldCBjb29raWVPcHRpb25zO1xuXHRcdFx0aWYgKGRpb3JWNykge1xuICAgICAgICAgICAgICAgIGNvb2tpZU9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGlvclY3LmNvb2tpZU9wdGlvbnMpO1xuXHRcdFx0fSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb29raWVPcHRpb25zID0ge307XG5cdFx0XHR9XG5cdFx0XHRDb29raWVzLnNldCggJ2FkdmFudGFnZXNfb3BlbmVkJywgdGhpcy5tYXhUaW1lc09wZW4sIGNvb2tpZU9wdGlvbnMgKTtcblx0XHRcdHRoaXMuY2xvc2UoZSk7XHRcdFx0XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBjb3VsZCBiZSBhIHNpZ25hbCBsaXN0ZW5lciBcblx0b25TY3JvbGwoIGUsIHRvcCApIHtcblx0XHRsZXQgX3Njcm9sbFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcblx0XHRpZihfc2Nyb2xsVG9wID09PSAwICYmIHRoaXMuYXV0b1JlT3Blbikge1xuXHRcdFx0dGhpcy5vcGVuKCk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLmlzT3BlbmVkKSB7XG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0fVxuXHR9XG5cdFxuXHRvcGVuKCkge1xuXHRcdGlmICh0aGlzLmlzT3BlbmVkKSByZXR1cm47XG5cdFx0aWYgKHRoaXMub25DbGlja0Nsb3NlID09PSB0cnVlKSByZXR1cm47XG5cdFx0Ly8gYXV0b1JlT3BlbiBjb3VsZCBiZSBhIGJvb2xlYW4gb3IgYSBqUXVlcnkgZWxlbWVudFxuXHRcdGlmICghdGhpcy5hdXRvUmVPcGVuKSByZXR1cm47XG5cblx0XHR0aGlzLmlzT3BlbmVkID0gdHJ1ZTtcblxuXHRcdGlmIChNb2Rlcm5penIuY3NzdHJhbnNpdGlvbnMpIHtcblx0XHRcdHRoaXMuJGVsLm9mZihkaW9yVjcuaGVscGVycy50cmFuc2l0aW9uRW5kKCkpLm9uKGRpb3JWNy5oZWxwZXJzLnRyYW5zaXRpb25FbmQoKSwgdGhpcy5vbk9wZW5lZC5iaW5kKHRoaXMpICk7XG5cdFx0XHRpZiAodGhpcy50aW1lc09wZW5lZCA8IHRoaXMubWF4VGltZXNPcGVuICYmIHRoaXMuaXNPcGVuZWQgPT09IHRydWUpIHtcblx0XHRcdFx0dGhpcy4kZWwuYWRkQ2xhc3MoJ29wZW4nKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy4kZWwuc3RvcCgpLmNzcyh7aGVpZ2h0OiB0aGlzLmhlaWdodH0pO1xuXHRcdFx0dGhpcy5vbk9wZW5lZC5iaW5kKHRoaXMpO1xuXHRcdH1cblxuXHRcdCQoZG9jdW1lbnQuYm9keSkuYWRkQ2xhc3MoJ3RvcGxheWVyLS1vcGVuZWQnKTtcblx0fVxuXG5cdG9uT3BlbmVkKCkge1xuICAgICAgICBpZiAoZGlvclY3ICYmIGRpb3JWNy5kaXNwYXRjaGVyKSB7XG4gICAgICAgICAgICBkaW9yVjcuZGlzcGF0Y2hlci50cmlnZ2VyKCdoZWFkZXI6OnRvcExheWVyT3BlbmluZycsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuXHR9XG5cblx0Y2xvc2UoZSkge1xuXHRcdGlmIChlKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR0aGlzLmF1dG9SZU9wZW4gPSBmYWxzZTtcblx0XHR9XG5cdFx0aWYgKCF0aGlzLmlzT3BlbmVkKSByZXR1cm47XG5cblx0XHR0aGlzLmlzT3BlbmVkICA9IGZhbHNlO1xuXG5cdFx0aWYgKE1vZGVybml6ci5jc3N0cmFuc2l0aW9ucykge1xuICAgICAgICAgICAgdGhpcy4kZWwub2ZmKGRpb3JWNy5oZWxwZXJzLnRyYW5zaXRpb25FbmQoKSkub24oZGlvclY3LmhlbHBlcnMudHJhbnNpdGlvbkVuZCgpLCB0aGlzLm9uQ2xvc2VkLmJpbmQodGhpcykgKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuJGVsLmFuaW1hdGUoe2hlaWdodDogMH0sICdzbG93Jyk7XG5cdFx0XHR0aGlzLiRlbC5zdG9wKCkuYW5pbWF0ZSh7aGVpZ2h0OiAwfSwgJ3Nsb3cnLCB0aGlzLm9uQ2xvc2VkLmJpbmQodGhpcykgKTtcblx0XHR9XG5cblx0XHQkKGRvY3VtZW50LmJvZHkpLnJlbW92ZUNsYXNzKCd0b3BsYXllci0tb3BlbmVkJyk7XG5cdH1cblxuXHRvbkNsb3NlZCgpIHtcbiAgICAgICAgaWYgKGRpb3JWNyAmJiBkaW9yVjcuZGlzcGF0Y2hlcikge1xuICAgICAgICAgICAgZGlvclY3LmRpc3BhdGNoZXIudHJpZ2dlcignaGVhZGVyOjp0b3BMYXllckNsb3NlZCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vbW9kdWxlcy5oZWFkZXIucm9sbHMucG9zaXRpb25Sb2xsc1RvcCgpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRvcExheWVyOyIsImZ1bmN0aW9uIHRwbCgpIHt0aGlzW1wiY2FydFwiXSA9IHdpbmRvdy5kaW9yVjcuSGFuZGxlYmFycy50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGhlbHBlcnMudW5sZXNzLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZnJlZSA6IGRlcHRoMCkse1wibmFtZVwiOlwidW5sZXNzXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcIjJcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDoge30sIGFsaWFzMj1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXM1PWNvbnRhaW5lci5sYW1iZGE7XG5cbiAgcmV0dXJuIFwiICAgIDx0ciBjbGFzcz1cXFwiY2FydC1pdGVtIGpzLWNhcnQtaXRlbVxcXCIgZGF0YS1za3U9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5za3UgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnNrdSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwic2t1XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgZGF0YS1pZD1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmlkIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiaWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiBkYXRhLW9yaWdpbj1cXFwiXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGF0YSAmJiBkYXRhLnJvb3QpKSAmJiBzdGFjazEub3JpZ2luKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmZvcm1fa2V5IDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgzLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgPiA8dGQgY2xhc3M9XFxcIml0ZW0tcGFja3Nob3RcXFwiPiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnVybCA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLnByb2dyYW0oNywgZGF0YSwgMCksXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICA8L3RkPiA8dGQgY2xhc3M9XFxcIml0ZW0tZGVzY3JpcHRpb25cXFwiPiA8c3BhbiBjbGFzcz1cXFwiaXRlbS10aXRsZVxcXCI+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIm5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwiaXRlbS1zdWJ0aXRsZVxcXCI+XCJcbiAgICArIGFsaWFzNCgoaGVscGVycy50cnVuY2F0ZSB8fCAoZGVwdGgwICYmIGRlcHRoMC50cnVuY2F0ZSkgfHwgYWxpYXMyKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudGl0bGUgOiBkZXB0aDApLDQwLHtcIm5hbWVcIjpcInRydW5jYXRlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJpdGVtLXZhcmlhbnRcXFwiPlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5kZXNjcmlwdGlvbiB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZGVzY3JpcHRpb24gOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImRlc2NyaXB0aW9uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjwvc3Bhbj4gPC90ZD4gPHRkIGNsYXNzPVxcXCJpdGVtLXF1YW50aXR5XFxcIj4gXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGRhdGEucm9vdCkpICYmIHN0YWNrMS53b3JkaW5nKSkgJiYgc3RhY2sxLnF1YW50aXR5KSwgZGVwdGgwKSlcbiAgICArIFwiOiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMucXVhbnRpdHkgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnF1YW50aXR5IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJxdWFudGl0eVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCIgPC90ZD4gPHRkIGNsYXNzPVxcXCJpdGVtLXByaWNlXFxcIj4gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnN1YlRvdGFsV2l0aEN1cnJlbmN5IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zdWJUb3RhbFdpdGhDdXJyZW5jeSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwic3ViVG90YWxXaXRoQ3VycmVuY3lcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiaXRlbS1yZW1vdmUganMtY2FydC1pdGVtLXJlbW92ZSBpY29uLWNhcnQtY2xvc2UgaWNvbiBpY29uLWNyb3NzXFxcIiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnJlbW92ZVRyYWNrT2JqZWN0IDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg5LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgPiBEZWxldGUgPC9idXR0b24+IDwvdGQ+IDwvdHI+IFwiO1xufSxcIjNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBoZWxwZXI7XG5cbiAgcmV0dXJuIFwiZGF0YS1rZXk9XFxcIlwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmZvcm1fa2V5IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5mb3JtX2tleSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LHtcIm5hbWVcIjpcImZvcm1fa2V5XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCJcIjtcbn0sXCI1XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSwgYWxpYXMyPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgIDxhIGhyZWY9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy51cmwgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnVybCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwidXJsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+IDxpbWcgc3JjPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMucGFja3Nob3QgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhY2tzaG90IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJwYWNrc2hvdFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiIGFsdD1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIm5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIj4gPC9hPiBcIjtcbn0sXCI3XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSwgYWxpYXMyPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgIDxpbWcgc3JjPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMucGFja3Nob3QgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhY2tzaG90IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJwYWNrc2hvdFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiIGFsdD1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIm5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIj4gXCI7XG59LFwiOVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiIGRhdGEtdHJhY2stb2JqZWN0PSdcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKGhlbHBlcnMuc3RyaW5naWZ5IHx8IChkZXB0aDAgJiYgZGVwdGgwLnN0cmluZ2lmeSkgfHwgaGVscGVycy5oZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDoge30sKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnJlbW92ZVRyYWNrT2JqZWN0IDogZGVwdGgwKSx7XCJuYW1lXCI6XCJzdHJpbmdpZnlcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIicgXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmJhc2tldCA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucHJvZHVjdHMgOiBzdGFjazEpLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcbnRoaXNbXCJ0ZXN0XCJdID0gd2luZG93LmRpb3JWNy5IYW5kbGViYXJzLnRlbXBsYXRlKHtcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHJldHVybiBcImVjcmluXCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcbnRoaXNbXCJ3aXNobGlzdFwiXSA9IHdpbmRvdy5kaW9yVjcuSGFuZGxlYmFycy50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LCBhbGlhczI9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiIDx0ciBjbGFzcz1cXFwid2lzaGxpc3QtcHJvZHVjdFxcXCI+IDx0ZCBjbGFzcz1cXFwicHJvZHVjdC1pbWFnZVxcXCI+IDxpbWcgc3JjPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaW1nU21hbGwgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmltZ1NtYWxsIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJpbWdTbWFsbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiIGFsdD1cXFwiXFxcIiAvPiA8L3RkPiA8dGQgY2xhc3M9XFxcInByb2R1Y3QtZGVzY3JpcHRpb25cXFwiPiA8cD5cIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudGl0bGUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRpdGxlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ0aXRsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCI8L3A+IFwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZGVzY3JpcHRpb24gOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnNlbGVjdGVkVmFyaWFudCA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiIFwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29uZmlndXJhdGlvbiA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNiwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgIDwvdGQ+IDx0ZCBjbGFzcz1cXFwicHJvZHVjdC1wcmljZVxcXCI+IFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy51bml0UHJpY2VXaXRoQ3VycmVuY3kgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnVuaXRQcmljZVdpdGhDdXJyZW5jeSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwidW5pdFByaWNlV2l0aEN1cnJlbmN5XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIiA8L3RkPiA8L3RyPiBcIjtcbn0sXCIyXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICByZXR1cm4gXCI8c3Bhbj5cIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKGhlbHBlcnMudHJ1bmNhdGUgfHwgKGRlcHRoMCAmJiBkZXB0aDAudHJ1bmNhdGUpIHx8IGhlbHBlcnMuaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5kZXNjcmlwdGlvbiA6IGRlcHRoMCksNDAse1wibmFtZVwiOlwidHJ1bmNhdGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIjwvc3Bhbj5cIjtcbn0sXCI0XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyO1xuXG4gIHJldHVybiBcIjxzcGFuIGNsYXNzPVxcXCJwcm9kdWN0LXZhcmlhbnRcXFwiPlwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnNlbGVjdGVkVmFyaWFudCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc2VsZWN0ZWRWYXJpYW50IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlcnMuaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IFwiZnVuY3Rpb25cIiA/IGhlbHBlci5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDoge30se1wibmFtZVwiOlwic2VsZWN0ZWRWYXJpYW50XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjwvc3Bhbj5cIjtcbn0sXCI2XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29uZmlndXJhdGlvbiA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuc2hhZGUgOiBzdGFjazEpLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDcsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29uZmlndXJhdGlvbiA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuY2FwYWNpdHkgOiBzdGFjazEpLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDksIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29uZmlndXJhdGlvbiA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuaW50ZW5zaXR5IDogc3RhY2sxKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiIFwiO1xufSxcIjdcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuIFwiPHNwYW4gY2xhc3M9XFxcInByb2R1Y3QtdmFyaWFudFxcXCI+XCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKGNvbnRhaW5lci5sYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29uZmlndXJhdGlvbiA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuc2hhZGUgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI8L3NwYW4+XCI7XG59LFwiOVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCI8c3BhbiBjbGFzcz1cXFwicHJvZHVjdC12YXJpYW50XFxcIj5cIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb25maWd1cmF0aW9uIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5jYXBhY2l0eSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjwvc3Bhbj5cIjtcbn0sXCIxMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCI8c3BhbiBjbGFzcz1cXFwicHJvZHVjdC12YXJpYW50XFxcIj5cIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb25maWd1cmF0aW9uIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5pbnRlbnNpdHkgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI8L3NwYW4+XCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LGRlcHRoMCx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcInVzZURhdGFcIjp0cnVlfSk7fSBleHBvcnQgZGVmYXVsdCBuZXcgdHBsKCk7IiwiY2xhc3MgTGVnYWxGb3JtIHtcblx0XG4gICAgY29uc3RydWN0b3IoJGVsLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLiRlbCA9ICRlbDtcbiAgICAgICAgdGhpcy4kZm9ybSA9IHRoaXMuJGVsLmZpbmQoJy5qcy1mb3JtJyk7XG4gICAgICAgIHRoaXMuaW5pdEFjY29yZGlvbigpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHRoaXMuJGZvcm0ub24oJ3N1Ym1pdCcsIGNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5pbml0Q2hlY2tib3hlcygpO1xuICAgIH1cblxuICAgIGluaXRBY2NvcmRpb24oKSB7XG5cbiAgICAgICAgbGV0ICRzY3JvbGwgPSB0aGlzLiRlbC5maW5kKCcuanMtc2Nyb2xsJyk7XG5cbiAgICAgICAgaWYgKCRzY3JvbGwubGVuZ3RoICYmICEkc2Nyb2xsLmRhdGEoJ3Njcm9sbGVyJykpIHtcbiAgICAgICAgICAgICRzY3JvbGwuc2Nyb2xsZXIoe1xuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0U2Nyb2xsOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHVzZXIgb3BlbnMgbGVnYWwgYWNjb3JkaW9uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiRlbC5maW5kKCcuanMtbGVnYWwtYWNjb3JkaW9uJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgIG5ldyBkaW9yVjcuQWNjb3JkaW9uKCQoZWwpLCB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvblRvZ2dsZTogKHRvZ2dsZWQsICRzZWN0aW9uKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvZ2dsZWQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVmcmVzaCBmb3JtVmFsaWRhdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kZm9ybS5kYXRhKCdmb3JtVmFsaWRhdG9yJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRmb3JtLmRhdGEoJ2Zvcm1WYWxpZGF0b3InKS5yZWZyZXNoTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVmcmVzaCBzY3JvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0ICRzY3JvbGwgPSAkc2VjdGlvbi5maW5kKCcuanMtc2Nyb2xsJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2Nyb2xsLmxlbmd0aCAmJiAkc2Nyb2xsLmRhdGEoJ3Njcm9sbGVyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2Nyb2xsLmRhdGEoJ3Njcm9sbGVyJykucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbml0Q2hlY2tib3hlcygpIHtcblxuICAgICAgICB0aGlzLiRlbC5maW5kKCcuanMtb3Blbi1uZXh0LWFjY29yZGlvbicpLm9uKCdjaGFuZ2UnLCAoZSkgPT4ge1xuXG4gICAgICAgICAgICBsZXQgJGNoZWNrYm94ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgbGV0ICRwYXJlbnQgPSAkY2hlY2tib3gucGFyZW50cygnLmFjY29yZGlvbi1zZWN0aW9uJyk7XG4gICAgICAgICAgICBpZiAoJGNoZWNrYm94LnByb3AoJ2NoZWNrZWQnKSkge1xuICAgICAgICAgICAgICAgICRwYXJlbnQubmV4dCgnLmpzLWxlZ2FsLWFjY29yZGlvbicpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgdXBkYXRlU2Nyb2xsKCkge1xuICAgICAgICBpZiAoIXRoaXMuJGVsLmZpbmQoJy5qcy1zY3JvbGw6dmlzaWJsZScpLmRhdGEoJ3Njcm9sbGVyJykgKSB0aGlzLiRlbC5maW5kKCcuanMtc2Nyb2xsJykuc2Nyb2xsZXIoKTtcbiAgICAgICAgZWxzZSB0aGlzLiRlbC5maW5kKCcuanMtc2Nyb2xsOnZpc2libGUnKS5kYXRhKCdzY3JvbGxlcicpLnJlZnJlc2goKTtcbiAgICB9XG5cbiAgICBzaG93KCkge1xuICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLnNob3codGhpcy4kZWwpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNjcm9sbCgpO1xuICAgICAgICB0aGlzLiRmb3JtLmRhdGEoJ2Zvcm1WYWxpZGF0b3InKS5yZWZyZXNoTGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgaGlkZSgpIHtcbiAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5oaWRlKHRoaXMuJGVsKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGVnYWxGb3JtO1xuIiwiLyoqXG4gKiBEZXBlbmRlbmNpZXM6XG4gKiAtIGRpb3JWNy5QbGF5ZXIuUGF1c2VBbGwoKVxuICovXG5jbGFzcyBQb3BpbiB7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIHtcbiAgICAgKiAgICAgICAgaWRlbnRpZmllcjogbnVsbCwgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBuYW1lIG9mIHRoZSBwb3BpbiwgdXNlZCBpbiBpdHMgY2xhc3MgbmFtZSwgaXRzIHNlbGVjdG9ycyBhbmQgZXZlbnRzXG4gICAgICogICAgICAgICR0cmlnZ2VyOiBudWxsLCAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZWxlbWVudCB0aGF0IHdpbGwgdHJpZ2dlciB0aGUgb3BlbiBtZXRob2RcbiAgICAgKiAgICAgICAgJGVsOiBudWxsLCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSAkcG9waW4gaXRzZWxmLCBvbmx5IHJlcXVpcmVkIGZvciBzdGF0IHBvcGluXG4gICAgICogICAgICAgICR3cmFwcGVyOiAkKCcjcG9waW4td3JhcHBlcicpLCAgICAgICAvLyB0aGUgd3JhcHBlciBpbiB3aGljaCBldmVyeSBwb3BpbiBpcyBpbmplY3RlZCBhdCBib3R0b20gb2YgYm9keVxuICAgICAqICAgICAgICBtYW5hZ2VyOiBudWxsLCAgICAgICAgICAgICAgICAgICAgICAgLy8gYSByZWZlcmVuY2UgdG8gcG9waW5NYW5hZ2VyXG4gICAgICogICAgICAgIGNsb3NlQnV0dG9uQ2xhc3M6ICcuanMtcG9waW4tY2xvc2UnLFxuICAgICAqICAgICAgICB0cmlnZ2VyRXZlbnRzOiAwICAgICAgICAgICAgICAgICAgICAgLy8gd2hldGhlciBvciBub3QgdGhlIHBvcGluIHRyaWdnZXJzIGV2ZW50c1xuICAgICAgICB9XG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuXG4gICAgICAgIGxldCBfZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBpZGVudGlmaWVyOiBudWxsLFxuICAgICAgICAgICAgJHRyaWdnZXI6IG51bGwsXG4gICAgICAgICAgICAkZWw6IG51bGwsXG4gICAgICAgICAgICAkd3JhcHBlcjogJCgnI3BvcGluLXdyYXBwZXInKSxcbiAgICAgICAgICAgIG1hbmFnZXI6IG51bGwsXG4gICAgICAgICAgICBjbG9zZUJ1dHRvbkNsYXNzOiAnLmpzLXBvcGluLWNsb3NlJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBudWxsLFxuICAgICAgICAgICAgd2Vic2VydmljZTogbnVsbCxcbiAgICAgICAgICAgIHRyaWdnZXJFdmVudHM6IDAsXG4gICAgICAgICAgICBmdWxsc2NyZWVuOiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5vID0gJC5leHRlbmQoX2RlZmF1bHRzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgdGhpcy4kZWwuZGF0YSgncG9waW4nLCB0aGlzKTtcbiAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcnMoKTtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWZ1bCBmb3IgUG9waW5EeW5hbWljIHRoYXQgZXh0ZW5kcyBQb3BpblxuICAgICAqL1xuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuJGVsID0gdGhpcy5vLiRlbDtcbiAgICB9XG5cbiAgICBhZGRMaXN0ZW5lcnMoKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuby4kdHJpZ2dlcikge1xuXG4gICAgICAgICAgICB0aGlzLl9vblRyaWdnZXJDbGljayA9IChlKSA9PiB0aGlzLm9wZW4oZSk7XG5cbiAgICAgICAgICAgIHRoaXMuby4kdHJpZ2dlci5vbignY2xpY2snLCB0aGlzLl9vblRyaWdnZXJDbGljayk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9vbkNsb3NlQ2xpY2sgPSAoKSA9PiB0aGlzLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuJGVsLmZpbmQodGhpcy5vLmNsb3NlQnV0dG9uQ2xhc3MpLm9uKCdjbGljaycsIHRoaXMuX29uQ2xvc2VDbGljayk7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZSA9ICgpID0+IHRoaXMucmVzaXplKCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9yZXNpemUoKSApO1xuXG4gICAgfVxuXG4gICAgb3BlbihlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc09wZW4pIHtcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcblxuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5mYWRlVG9nZ2xlKCB0aGlzLiRlbCwgJ2hpZGRlbicsIDEsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRlbC5maW5kKCcuanMtZm9ybScpLmxlbmd0aCkgdGhpcy4kZWwuZmluZCgnLmpzLWZvcm0nKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5kYXRhKCdmb3JtVmFsaWRhdG9yJykpICQodGhpcykuZGF0YSgnZm9ybVZhbGlkYXRvcicpLnJlZnJlc2hMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignb3BlbicpO1xuICAgICAgICAgICAgdGhpcy50b2dnbGVGdWxsc2NyZWVuKCk7XG5cbiAgICAgICAgICAgIHRoaXMuby5tYW5hZ2VyLnRvZ2dsZU92ZXJsYXkodGhpcy4kZWwsIDEpO1xuXG4gICAgICAgICAgICBkaW9yVjcuUGxheWVyLlBhdXNlQWxsKCB0aGlzLnBsYXllciApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9nZ2xlRnVsbHNjcmVlbiggZnVsbHNjcmVlbiApIHtcblxuICAgICAgICBpZiAoIWZ1bGxzY3JlZW4pIGZ1bGxzY3JlZW4gPSB0aGlzLm8uZnVsbHNjcmVlbjtcblxuICAgICAgICBpZiAoIWZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygncG9waW4tZnVsbHNjcmVlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IF96SW5kZXggPSB0aGlzLiRlbC5jc3MoJ3otaW5kZXgnKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUF0dHIoJ3N0eWxlJykuY3NzKCd6LWluZGV4JywgX3pJbmRleCk7XG4gICAgICAgICAgICAkKCdodG1sJykuYWRkQ2xhc3MoJ3BvcGluLWZ1bGxzY3JlZW4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFBvc2l0aW9uKCkge1xuICAgICAgICBsZXQgX3Njcm9sbFRvcCA9IE1hdGgubWluKCAkKCdib2R5JykuaGVpZ2h0KCkgLSB3aW5kb3cuaW5uZXJIZWlnaHQsICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpICk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgbGV0IF9tYXJnaW5Ub3AgPSAod2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy4kZWwub3V0ZXJIZWlnaHQodHJ1ZSkpICogMC41O1xuICAgICAgICAgICAgdGhpcy4kZWwuY3NzKCd0b3AnLCBfc2Nyb2xsVG9wICsgX21hcmdpblRvcCk7XG4gICAgICAgIH0sIDUwKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5mYWRlVG9nZ2xlKCB0aGlzLiRlbCwnaGlkZGVuJywgMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm8uZnVsbHNjcmVlbikgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKCdwb3Bpbi1mdWxsc2NyZWVuJyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdjbG9zZWQnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vLm1hbmFnZXIudG9nZ2xlT3ZlcmxheSh0aGlzLiRlbCwgMCk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2Nsb3NlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNpemUoKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcigncmVzaXplJyk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcblxuICAgICAgICBpZiAodGhpcy5vLiR0cmlnZ2VyKSB7XG4gICAgICAgICAgICB0aGlzLm8uJHRyaWdnZXIub2ZmKCdjbGljaycsIHRoaXMuX29uVHJpZ2dlckNsaWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJGVsLmZpbmQodGhpcy5vLmNsb3NlQnV0dG9uQ2xhc3MpLm9mZignY2xpY2snLCB0aGlzLl9vbkNsb3NlQ2xpY2spO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fcmVzaXplKCkgKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdkZXN0cm95ZWQnKTtcbiAgICB9XG5cbiAgICB0cmlnZ2VyKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLm8udHJpZ2dlckV2ZW50cykgZGlvclY3LmRpc3BhdGNoZXIudHJpZ2dlcigncG9waW4tJyt0aGlzLm8uaWRlbnRpZmllcisnOjonK2V2ZW50KTtcbiAgICB9XG5cbiAgICBvbihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuby50cmlnZ2VyRXZlbnRzKSBkaW9yVjcuZGlzcGF0Y2hlci5vbigncG9waW4tJyt0aGlzLm8uaWRlbnRpZmllcisnOjonK2V2ZW50LCBjYWxsYmFjayk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3BpbjsiLCJpbXBvcnQgUG9waW4gZnJvbSAnLi9Qb3Bpbi5qcyc7XG5pbXBvcnQgTmV3c2xldHRlckxlZ2FsRm9ybSBmcm9tICcuLi9MZWdhbEZvcm0uanMnO1xuXG5jbGFzcyBQb3Bpbk5ld3NsZXR0ZXIgZXh0ZW5kcyBQb3BpbiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBvcHRpb25zLnRyaWdnZXJFdmVudHMgPSB0cnVlO1xuICAgICAgICBzdXBlciggb3B0aW9ucyApO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHN1cGVyLmluaXQoKTtcbiAgICAgICAgbGV0ICRuZXdzbGV0dGVyRm9ybSA9IHRoaXMuJGVsLmZpbmQoJy5qcy1uZXdzbGV0dGVyLWZvcm0nKTtcbiAgICAgICAgbGV0ICRsZWdhbEZvcm0gICAgICA9IHRoaXMuJGVsLmZpbmQoJy5qcy1sZWdhbC1mb3JtJyk7XG4gICAgICAgIGxldCAkY29uZmlybSAgICAgID0gdGhpcy4kZWwuZmluZCgnLmpzLW5ld3NsZXR0ZXItY29uZmlybScpO1xuXG4gICAgICAgIGlmICgkbGVnYWxGb3JtLmxlbmd0aCkge1xuXG4gICAgICAgICAgICBsZXQgbGVnYWxBY2NlcHRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBOZXdzbGV0dGVyIGxlZ2FsIGZvcm0gY2FsbHMgYSBjYWxsYmFjayBvbiBzdWJtaXRcbiAgICAgICAgICAgICAqIE9uIHN1Ym1pdCwgc2V0IGNvbmRpdGlvbnMgdG8gYWNjZXB0ZWQgYW5kIGNhbGxcbiAgICAgICAgICAgICAqIHN1Ym1pdCBvbiB0aGUgZm9ybSBiZWxvdyBwb3BpbiB0byBzZW5kIGluZm9ybWF0aW9uXG4gICAgICAgICAgICAgKiBJZiBsZWdhbEFjY2VwdGVkIGlzIGZhbHNlIHRoZSBmb3JtIGJlbG93IHdpbGwgbm90IGJlXG4gICAgICAgICAgICAgKiBzZW50XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxldCBuZXdzbGV0dGVyTGVnYWwgPSBuZXcgTmV3c2xldHRlckxlZ2FsRm9ybSgkbGVnYWxGb3JtLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBsZWdhbEFjY2VwdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkbmV3c2xldHRlckZvcm0uc3VibWl0KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJG5ld3NsZXR0ZXJGb3JtLm9uKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghbGVnYWxBY2NlcHRlZCkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZSgkbmV3c2xldHRlckZvcm0pO1xuICAgICAgICAgICAgICAgICAgICBuZXdzbGV0dGVyTGVnYWwuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJG5ld3NsZXR0ZXJGb3JtLm9uKCdzdWJtaXQnLCAoZSkgPT4gdGhpcy5zZW5kKGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub24oJ2Nsb3NlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KCRuZXdzbGV0dGVyRm9ybSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5ld3NsZXR0ZXJMZWdhbCAhPT0gJ3VuZGVmaW5lZCcpIG5ld3NsZXR0ZXJMZWdhbC5oaWRlKCk7XG4gICAgICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLmhpZGUoJGNvbmZpcm0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgICBzdXBlci5vcGVuKCk7XG5cbiAgICAgICAgLy8gcmVzZXQgZm9ybVxuICAgICAgICBsZXQgX2Zvcm1WYWxpZGF0b3IgPSB0aGlzLiRlbC5maW5kKCdmb3JtJykuZGF0YSgnZm9ybVZhbGlkYXRvcicpO1xuICAgICAgICBfZm9ybVZhbGlkYXRvci5yZXNldCgpO1xuXG4gICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZSggdGhpcy4kZWwuZmluZCgnLmpzLXBvcGluLWVycm9yJykgKTtcblxuICAgICAgICAvLyAmIGluamVjdCBlLW1haWwgdmFsdWUgaW4gcG9waW4gZm9ybVxuICAgICAgICBsZXQgJGVtYWlsID0gdGhpcy4kZWwuZmluZCgnaW5wdXRbdHlwZT1cImVtYWlsXCJdJyk7XG4gICAgICAgICRlbWFpbC52YWwoIGRpb3JWNy5Gb290ZXIuZW1haWwgKTtcblxuICAgICAgICBfZm9ybVZhbGlkYXRvci52YWxpZGF0ZSggJGVtYWlsICk7XG4gICAgfVxuXG4gICAgc2VuZChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5ORVdTTEVUVEVSLnVybCxcbiAgICAgICAgICAgIHR5cGU6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuTkVXU0xFVFRFUi5tZXRob2QsXG4gICAgICAgICAgICB4aHJGaWVsZHM6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuTkVXU0xFVFRFUi54aHJGaWVsZHMsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLiRlbC5maW5kKCcuanMtbmV3c2xldHRlci1mb3JtJykuc2VyaWFsaXplKCksXG4gICAgICAgICAgICBzdWNjZXNzOihkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgLy9WNiAtIFY3IFN1cHBvcnRcbiAgICAgICAgICAgICAgICBpZiAoIChkYXRhLnN0YXR1cyAmJiBkYXRhLnN0YXR1cyAhPT0gJ29rJykgfHwgZGF0YS5lcnJvckNvZGUpIHJldHVybiB0aGlzLm9uRXJyb3IoZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vblN1Y2Nlc3MoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uU3VjY2VzcyhkYXRhKSB7XG4gICAgICAgIC8vVjYgLSBWNyBTdXBwb3J0XG4gICAgICAgIGlmICggKGRhdGEuc3RhdHVzICYmIGRhdGEuc3RhdHVzICE9PSAnb2snKSB8fCBkYXRhLmVycm9yQ29kZSkgcmV0dXJuIHRoaXMub25FcnJvcihkYXRhKTtcblxuICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLmhpZGUodGhpcy4kZWwuZmluZCgnLmpzLWxlZ2FsLWZvcm0sIC5qcy1uZXdzbGV0dGVyLWZvcm0nKSk7XG4gICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuc2hvdyh0aGlzLiRlbC5maW5kKCcuanMtbmV3c2xldHRlci1jb25maXJtJykpO1xuICAgIH1cblxuICAgIG9uRXJyb3IoZGF0YSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1BvcGluTmV3c2xldHRlciAtPiBFcnJvcicsIGRhdGEpO1xuICAgICAgICBsZXQgJGVyciA9IHRoaXMuJGVsLmZpbmQoJy5qcy1wb3Bpbi1lcnJvcicpO1xuICAgICAgICBpZiAoJGVyci5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIFY2IC0gVjcgZXJyb3IgbWVzc2FnZSBzdXBwb3J0XG4gICAgICAgICAgICBsZXQgX2Vycm9yTWVzc2FnZSA9IGRhdGEubWVzc2FnZSA/IGRhdGEubWVzc2FnZSA6IGRhdGEuZXJyb3JNZXNzYWdlcy5qb2luKCcgJyk7XG4gICAgICAgICAgICAkZXJyLnRleHQoIF9lcnJvck1lc3NhZ2UgKTtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuc2hvdyggJGVyciApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQb3Bpbk5ld3NsZXR0ZXIgLT4gTm8ganMtcG9waW4tZXJyb3IgZWxlbWVudCBpbiBwb3BpbicpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3Bpbk5ld3NsZXR0ZXI7XG4iLCJpbXBvcnQgRGlzcGF0Y2hlciBmcm9tICcuL0Rpc3BhdGNoZXIuanMnO1xuXG4vKipcbiAqIFByaXZhdGUgaW5zdGFuY2Ugb2YgQ2FydFxuICovXG5sZXQgX2luc3Q7XG5cbmNsYXNzIENhcnRNb2R1bGUge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICBkaXJ0eSA9IHRydWU7XG4gICAgc2VsZWN0b3IgPSBcIi5qcy1kaXJlY3QtYWRkdG9jYXJ0XCI7XG4gICAgZGlzcGF0Y2hlciA9IG51bGw7XG4gICAgdG90YWwgPSAwO1xuICAgIHRvdGFsQ0RDID0gMDtcbiAgICB0b3RhbFBDRCA9IDA7XG4gICAgY29va2llT3B0aW9ucyA9IHtleHBpcmVzOiAxNX07XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBfaW5zdCA9IHRoaXM7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKCk7XG5cbiAgICAgICAgdGhpcy5hZGRUcmlnZ2VycygpO1xuICAgIH1cblxuICAgIGFkZFRyaWdnZXJzKCkge1xuXG4gICAgICAgIF9pbnN0LmNvb2tpZU9wdGlvbnMuZG9tYWluICA9IENvb2tpZXMuZGVmYXVsdHMuZG9tYWluO1xuICAgICAgICBfaW5zdC5jb29raWVPcHRpb25zLnBhdGggICAgPSBDb29raWVzLmRlZmF1bHRzLnBhdGg7XG5cbiAgICAgICAgJCgnYm9keScpLm9uKCdjbGljaycsIHRoaXMuc2VsZWN0b3IsIChlKSA9PiB7XG4gICAgICAgICAgICBsZXQgJGJ0biA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAgICAgICAgICAgbGV0IHNrdSA9ICRidG4uZGF0YSgnc2t1Jyk7XG4gICAgICAgICAgICBsZXQgcXVhbnRpdHkgPSAkYnRuLmRhdGEoJ3F1YW50aXRpZXMnKSB8fCAkYnRuLmRhdGEoJ3F1YW50aXR5Jyk7XG4gICAgICAgICAgICBsZXQgb3JpZ2luID0gJGJ0bi5kYXRhKCdvcmlnaW4nKTtcblxuICAgICAgICAgICAgaWYgKHNrdSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQ2FydF06IG1pc3Npbmcgc2t1IGNvZGUgb24gJyskYnRuWzBdKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG9yaWdpbiA9ICQoJ2JvZHknKS5kYXRhKCdvcmlnaW4nKTtcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQ2FydF06IG1pc3Npbmcgb3JpZ2luIG9uIGJvZHksIGFuZCBub3RoaW5nIHNldCBpbiB0cmlnZ2VyIGRhdGEtb3JpZ2luLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocXVhbnRpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW0NhcnRdOiBtaXNzaW5nIHF1YW50aXR5IG9uICcrJGJ0blswXSsnLiBBZGQgMSBieSBkZWZhdWx0LicpO1xuICAgICAgICAgICAgICAgIHF1YW50aXR5ID0gJzEnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBoYXZlIHN0aWNreSBoZWFkZXIsIHNvIHVuYWJsZSB0byBkaXNwbGF5IGEgY29uZmlybSBsYXllci4uLiBuZWVkIGEgbGlnaHRib3ggYWJzb2x1dGUgdG9wLXJpZ2h0P1xuICAgICAgICAgICAgZGlvclY3LkNhcnRNb2R1bGUuYWRkKCBza3UsIHF1YW50aXR5LCBvcmlnaW4sIHRydWUsIGUuY3VycmVudFRhcmdldCApO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBWNiBBRERUT0NBUlQgRlJPTSBRVUlDS0JVWVxuICAgICAgICAvLyAtIHNpZ25hbHMgaXMgbG9hZGVkIGluIGFkZFRvQ2FydC5idWlsZC5qc1xuICAgICAgICBpZiAod2luZG93LnNpZ25hbHMpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jb3JlLnNpZ25hbHMuZ2xvYmFsID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgICAgICAgICB3aW5kb3cuY29yZS5zaWduYWxzLmdsb2JhbC5hZGQoIChldmVudCwgZGF0YSwgb3JpZ2luKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAnYWRkVG9DYXJ0OjpzdWNjZXNzJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQWRkZWQuY2FsbCh0aGlzLCBkYXRhLCBvcmlnaW4sIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYm90aCBjYXJ0cyAoUENEIGFuZCBDREMpIGFuZCByZW5kZXJzIHRoZW1cbiAgICAgKiBBbHdheXMgdHJpZ2dlciBhICdjb21wbGV0ZScgZXZlbnQsIHdlIGhhdmUgMyBjYXNlOlxuICAgICAqIC0gY2FydCBpcyBlbXB0eVxuICAgICAqIC0gY2FydCBpcyBkaXJ0eTogbmVlZCB0byBtYWtlIGFqYXggY2FsbHNcbiAgICAgKiAtIGNhcnQgaXMgbm90IGRpcnR5XG4gICAgICovXG4gICAgZ2V0KCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5nZXRUb3RhbCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy50b3RhbCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZWVkZWQgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvdGFsUENEPjApIHtcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLl9uZWVkZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Rm9yT3JpZ2luKCdQQ0QnICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvdGFsQ0RDPjApIHtcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLl9uZWVkZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Rm9yT3JpZ2luKCdDREMnICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIudHJpZ2dlcignY29tcGxldGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci50cmlnZ2VyKCdjb21wbGV0ZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBiYXNrZXQgY29udGVudCBmb3IgdW5pdmVyc2UgKG9yaWdpbilcbiAgICAgKiBAcGFyYW0gb3JpZ2luIHsnUENEJyB8ICdDREMnfVxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGdldEZvck9yaWdpbiggb3JpZ2luICkge1xuICAgICAgICBvcmlnaW4gPSBvcmlnaW4udG9VcHBlckNhc2UoKTtcblxuICAgICAgICByZXR1cm4gJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5DQVJUW29yaWdpbl0uR0VULnVybCxcbiAgICAgICAgICAgIHR5cGU6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQ0FSVFtvcmlnaW5dLkdFVC5tZXRob2QsXG4gICAgICAgICAgICAvLyBERUZJTkUgQSBGT1JNQVRURVIgT0JKRUNUIEZPUiBUSEUgQ0FMTFxuICAgICAgICAgICAgLy8gbXVzdCBoYXZlIGEgUmVxdWVzdCBtZXRob2QgdGhhdCBmb3JtYXQgdGhlIHNldHRpbmdzIGRhdGEgb2JqZWN0IGRpcmVjdGx5XG4gICAgICAgICAgICAvLyBtdXN0IGhhdmUgYSBSZXNwb25zZSBtZXRob2QgdGhhdCBmb3JtYXQgdGhlIGRhdGEsIGFuZCByZXR1cm4gYSBzdHJpbmdpZmllZCBvYmplY3RcbiAgICAgICAgICAgIC8vIEBzZWUgZGlvclY3LmNvbmZpZy5qc1xuICAgICAgICAgICAgLy8gQHNlZWFsc28gcGNpcy5BamF4Rm9ybWF0LmpzIChodHRwOi8vd3d3LmRpb3IuY24vbWVkaWFzL3ZlcnNpb24tNi45LjE0ODg1NTg2Njk3MzkvcGNpcy9qcy9jdXN0b21fY24uanMpXG4gICAgICAgICAgICBmb3JtYXR0ZXI6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQ0FSVFtvcmlnaW5dLkdFVC5mb3JtYXR0ZXIsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5DQVJUW29yaWdpbl0uR0VULmNvbnRlbnRUeXBlLFxuXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGluamVjdCBvcmlnaW4gKGZvciB0ZW1wbGF0aW5nKVxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgICAgIHRoaXMub25TdWNjZXNzKCBkYXRhLCBvcmlnaW4gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZGF0YSA9PiB0aGlzLm9uRXJyb3IoZGF0YSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25TdWNjZXNzKCBkYXRhLCBvcmlnaW4gKSB7XG4gICAgICAgIC0tdGhpcy5fbmVlZGVkO1xuXG4gICAgICAgIGlmIChkYXRhLmVycm9yQ29kZSB8fCBkYXRhLnN0YXR1cyA9PSBcIm5va1wiKSByZXR1cm4gdGhpcy5vbkVycm9yKGRhdGEpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRpb3JWNy5kYXRhLmNhcnRbb3JpZ2luXSA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIudHJpZ2dlcignb3JpZ2luJywgb3JpZ2luLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9uZWVkZWQgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGRhdGEgYXJlIHVwLXRvLWRhdGVcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gZGlzcGF0Y2ggY29tcGxldGUsIHVzZWQgYnk6XG4gICAgICAgICAgICAvLyAtIHJvbGwgV2lzaExpc3RcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci50cmlnZ2VyKCdjb21wbGV0ZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25FcnJvciggZGF0YSApIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbQ2FydE1vZHVsZV06IHdzIGZhaWxlZC4nKTtcbiAgICAgICAgLy8gZGlzcGF0Y2ggY29tcGxldGUsIHVzZWQgYnk6XG4gICAgICAgIC8vIC0gcm9sbCBXaXNoTGlzdFxuICAgICAgICB0aGlzLmRpc3BhdGNoZXIudHJpZ2dlcignZXJyb3InLCBkYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZXRUb3RhbCByZWFkcyBjb29raWVzIHRvIGZpbmQgb3V0IGhvdyBtYW55IHByb2R1Y3RzIGFyZSBpbiBjYXJ0XG4gICAgICogYW5kIGRpc3BsYXlzIG51bWJlciBuZXh0IHRvIGNhcnQgaWNvblxuICAgICAqIEByZXR1cm4gdG90YWwge2ludH1cbiAgICAgKi9cbiAgICBnZXRUb3RhbCgpIHtcbiAgICAgICAgbGV0IGNvb2tpZUNEQyA9IENvb2tpZXMuZ2V0KCBkaW9yVjcuY29uZmlnLmNvb2tpZXMuQ0FSVC5DREMubmFtZSApIHx8IDA7XG4gICAgICAgIGxldCBjb29raWVQQ0QgPSBDb29raWVzLmdldCggZGlvclY3LmNvbmZpZy5jb29raWVzLkNBUlQuUENELm5hbWUgKSB8fCAwO1xuXG4gICAgICAgIHRoaXMudG90YWxDREMgPSBwYXJzZUludCggY29va2llQ0RDICk7XG4gICAgICAgIHRoaXMudG90YWxQQ0QgPSBwYXJzZUludCggY29va2llUENEICk7XG4gICAgICAgIHRoaXMudG90YWwgPSB0aGlzLnRvdGFsQ0RDICsgdGhpcy50b3RhbFBDRDtcblxuICAgICAgICByZXR1cm4gdGhpcy50b3RhbDtcbiAgICB9XG5cbiAgICBidWlsZFNrdVN0cmluZyhza3VDb2RlcywgcXVhbnRpdGllcykge1xuICAgICAgICBsZXQgc2t1cyA9IFwiXCI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHNrdUNvZGVzLmxlbmd0aC0xOyArK2kpIHtcblxuICAgICAgICAgICAgc2t1cys9XCJza3U9XCIrc2t1Q29kZXNbaV0rXCI6cXVhbnRpdHk9XCIrcXVhbnRpdGllc1tpXSsnLCc7XG4gICAgICAgIH1cblxuICAgICAgICBza3VzID0gXCJza3VzPVwiK3NrdXMucmVwbGFjZSgvLCQvLCBcIlwiKTtcblxuICAgICAgICByZXR1cm4gc2t1cztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaXJlcyBhbiBhamF4IHJlcXVlc3QgdG8gZGVsZXRlIHByb2R1Y3QgYW5kIHJlIHJlbmRlcnMgYmFza2V0XG4gICAgICogQHBhcmFtIGUge0V2ZW50fSB0cmlnZ2VyZWQgYnkgYnV0dG9uIHdpdGggZGF0YSBhdHRyaWJ1dGVzIGRlcGVuZGluZyBvblxuICAgICAqICAgICAgICAgICAgICAgICAgb3JpZ2luIHVzaW5nIGlkVG9EZWxldGUgb3IgZm9ybV9rZXkgYW5kIHNrdVxuICAgICAqL1xuICAgIHN0YXRpYyByZW1vdmUoZSkge1xuXG4gICAgICAgIGxldCAkY2FydFByb2R1Y3QgPSAgJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5qcy1jYXJ0LWl0ZW06Zmlyc3QnKTtcblxuICAgICAgICBsZXQgcGFyYW1zID0gW107XG4gICAgICAgIGxldCBvcmlnaW4gPSAkY2FydFByb2R1Y3QuZGF0YSgnb3JpZ2luJyk7XG4gICAgICAgIGlmIChvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb3JpZ2luID0gJCgnYm9keScpLmRhdGEoJ29yaWdpbicpO1xuICAgICAgICAgICAgaWYgKG9yaWdpbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQ2FydF06IG1pc3Npbmcgb3JpZ2luIG9uIGJvZHksIGFuZCBub3RoaW5nIHNldCBpbiB0cmlnZ2VyIGRhdGEtb3JpZ2luLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkY2FydFByb2R1Y3QuZGF0YSgnaWQnKSkgcGFyYW1zLnB1c2goICdpZFRvRGVsZXRlPScgKyAkY2FydFByb2R1Y3QuZGF0YSgnaWQnKSApO1xuICAgICAgICBpZiAoJGNhcnRQcm9kdWN0LmRhdGEoJ2tleScpKSBwYXJhbXMucHVzaCggJ2Zvcm1fa2V5PScgKyAkY2FydFByb2R1Y3QuZGF0YSgna2V5JykgKTtcbiAgICAgICAgaWYgKCRjYXJ0UHJvZHVjdC5kYXRhKCdza3UnKSkgcGFyYW1zLnB1c2goICdza3U9JyArICRjYXJ0UHJvZHVjdC5kYXRhKCdza3UnKSApO1xuXG4gICAgICAgIHBhcmFtcyA9IHBhcmFtcy5qb2luKCcmJyk7XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybCA6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQ0FSVFtvcmlnaW5dLkRFTEVURS51cmwsXG4gICAgICAgICAgICB0eXBlOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkNBUlRbb3JpZ2luXS5ERUxFVEUubWV0aG9kLFxuICAgICAgICAgICAgZGF0YTogcGFyYW1zLFxuICAgICAgICAgICAgLy8gREVGSU5FIEEgRk9STUFUVEVSIE9CSkVDVCBGT1IgVEhFIENBTExcbiAgICAgICAgICAgIC8vIG11c3QgaGF2ZSBhIFJlcXVlc3QgbWV0aG9kIHRoYXQgZm9ybWF0IHRoZSBzZXR0aW5ncyBkYXRhIG9iamVjdCBkaXJlY3RseVxuICAgICAgICAgICAgLy8gbXVzdCBoYXZlIGEgUmVzcG9uc2UgbWV0aG9kIHRoYXQgZm9ybWF0IHRoZSBkYXRhLCBhbmQgcmV0dXJuIGEgc3RyaW5naWZpZWQgb2JqZWN0XG4gICAgICAgICAgICAvLyBAc2VlIGRpb3JWNy5jb25maWcuanNcbiAgICAgICAgICAgIC8vIEBzZWVhbHNvIHBjaXMuQWpheEZvcm1hdC5qcyAoaHR0cDovL3d3dy5kaW9yLmNuL21lZGlhcy92ZXJzaW9uLTYuOS4xNDg4NTU4NjY5NzM5L3BjaXMvanMvY3VzdG9tX2NuLmpzKVxuICAgICAgICAgICAgeGhyRmllbGRzOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkNBUlRbb3JpZ2luXS5ERUxFVEUueGhyRmllbGRzLFxuICAgICAgICAgICAgZm9ybWF0dGVyOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkNBUlRbb3JpZ2luXS5ERUxFVEUuZm9ybWF0dGVyLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQ0FSVFtvcmlnaW5dLkRFTEVURS5jb250ZW50VHlwZSxcblxuICAgICAgICAgICAgc3VjY2VzcyA6IChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLmVycm9Db2RlIHx8IGRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBzdG9yZVxuICAgICAgICAgICAgICAgICAgICBkaW9yVjcuZGF0YS5jYXJ0W29yaWdpbl0gPSBkYXRhO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvIHdlIG5lZWQgdG8gdXBkYXRlIGNvb2tpZSB2YWx1ZT9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpb3JWNy5jb25maWcuY29va2llcy5DQVJUW29yaWdpbl0uanNVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbnN0Wyd0b3RhbCcrb3JpZ2luXSA9IGRhdGEuYmFza2V0LnByb2R1Y3RzUXVhbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBDb29raWVzLnNldCggZGlvclY3LmNvbmZpZy5jb29raWVzLkNBUlRbb3JpZ2luXS5uYW1lLCBfaW5zdFsndG90YWwnK29yaWdpbl0sIF9pbnN0LmNvb2tpZU9wdGlvbnMgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2luc3QudG90YWwgPSBfaW5zdC50b3RhbENEQyArIF9pbnN0LnRvdGFsUENEO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2luc3QuZ2V0VG90YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF9pbnN0LmRpc3BhdGNoZXIudHJpZ2dlcigncmVtb3ZlZCcsICRjYXJ0UHJvZHVjdCwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIF9pbnN0LmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfaW5zdC5vbkVycm9yKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZGF0YSA9PiBfaW5zdC5vbkVycm9yKGRhdGEpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQoKSB7XG4gICAgICAgIF9pbnN0LmdldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBtZXRob2QgdG8gYWRkcyBwcm9kdWN0cyB0byBjYXJ0XG4gICAgICogQHBhcmFtIHNrdUNvZGVzIHtzdHJpbmd9IDogYSBsaXN0IG9mIHNrdXMgc2VwYXJhdGVkIGJ5IGNvbW1hc1xuICAgICAqIEBwYXJhbSBxdWFudGl0aWVzICAgICAgICA6IGEgbGlzdCBvZiBxdWFudGl0aWVzIHNlcGFyYXRlZCBieSBjb21tYXNcbiAgICAgKiBAcGFyYW0gb3JpZ2luIHtzdHJpbmd9ICAgOiBQQ0QgfCBDRENcbiAgICAgKiBAcGFyYW0gc2lsZW50IHtib29sfSAgICAgOiBpZiBzZXQgdG8gdHJ1ZSwgZG9lc24ndCB0b2dnbGUgcm9sbCBvbiBhZGRpdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBhZGQoIHNrdUNvZGVzLCBxdWFudGl0aWVzLCBvcmlnaW4sIHNpbGVudCwgYnV0dG9uICkge1xuICAgICAgICBza3VDb2RlcyA9IFN0cmluZyhza3VDb2Rlcykuc3BsaXQoXCIsXCIpO1xuICAgICAgICBxdWFudGl0aWVzID0gU3RyaW5nKHF1YW50aXRpZXMpLnNwbGl0KFwiLFwiKTtcblxuICAgICAgICBqUXVlcnkuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkNBUlRbb3JpZ2luXS5BREQubWV0aG9kLFxuICAgICAgICAgICAgdXJsOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkNBUlRbb3JpZ2luXS5BREQudXJsLFxuICAgICAgICAgICAgZGF0YTogX2luc3QuYnVpbGRTa3VTdHJpbmcoc2t1Q29kZXMsIHF1YW50aXRpZXMpLFxuXG4gICAgICAgICAgICAvLyBERUZJTkUgQSBGT1JNQVRURVIgT0JKRUNUIEZPUiBUSEUgQ0FMTFxuICAgICAgICAgICAgLy8gbXVzdCBoYXZlIGEgUmVxdWVzdCBtZXRob2QgdGhhdCBmb3JtYXQgdGhlIHNldHRpbmdzIGRhdGEgb2JqZWN0IGRpcmVjdGx5XG4gICAgICAgICAgICAvLyBtdXN0IGhhdmUgYSBSZXNwb25zZSBtZXRob2QgdGhhdCBmb3JtYXQgdGhlIGRhdGEsIGFuZCByZXR1cm4gYSBzdHJpbmdpZmllZCBvYmplY3RcbiAgICAgICAgICAgIC8vIEBzZWUgZGlvclY3LmNvbmZpZy5qc1xuICAgICAgICAgICAgLy8gQHNlZWFsc28gcGNpcy5BamF4Rm9ybWF0LmpzIChodHRwOi8vd3d3LmRpb3IuY24vbWVkaWFzL3ZlcnNpb24tNi45LjE0ODg1NTg2Njk3MzkvcGNpcy9qcy9jdXN0b21fY24uanMpXG4gICAgICAgICAgICBmb3JtYXR0ZXI6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQ0FSVFtvcmlnaW5dLkFERC5mb3JtYXR0ZXIsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5DQVJUW29yaWdpbl0uQURELmNvbnRlbnRUeXBlLFxuXG4gICAgICAgICAgICBzdWNjZXNzOiBkYXRhID0+IF9pbnN0Lm9uQWRkZWQuY2FsbChfaW5zdCwgZGF0YSwgb3JpZ2luLCBzaWxlbnQsIGJ1dHRvbiksXG4gICAgICAgICAgICBlcnJvcjogX2luc3Qub25FcnJvci5iaW5kKF9pbnN0KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkFkZGVkKCBkYXRhLCBvcmlnaW4sIHNpbGVudCwgYnV0dG9uICkge1xuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcblxuICAgICAgICAvLyBzdXBwb3J0IHY3IGZvcm1hdCBvciB2NiBmb3JtYXRcbiAgICAgICAgaWYgKGRhdGEuZXJyb3JDb2RlIHx8IGRhdGEuc3RhdHVzID09PSBcIm5va1wiKSB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gZG8gd2UgbmVlZCB0byB1cGRhdGUgY29va2llIHZhbHVlP1xuICAgICAgICAgICAgaWYgKG9yaWdpbiAmJiBkaW9yVjcuY29uZmlnLmNvb2tpZXMuQ0FSVFtvcmlnaW5dLmpzVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIG5vdywgeW91IGNhbid0IGNob29zZSBxdWFudGl0eSBvbiBhZGRUb0NhcnRcbiAgICAgICAgICAgICAgICB0aGlzWyd0b3RhbCcrb3JpZ2luXSArPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMudG90YWwgKz0gMTtcbiAgICAgICAgICAgICAgICBDb29raWVzLnNldCggZGlvclY3LmNvbmZpZy5jb29raWVzLkNBUlRbb3JpZ2luXS5uYW1lLCB0aGlzWyd0b3RhbCcrb3JpZ2luXSwgdGhpcy5jb29raWVPcHRpb25zICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChidXR0b24pIHtcbiAgICAgICAgICAgICAgICBpZiAod2luZG93Lm1vZHVsZXMgJiYgbW9kdWxlcy5BZGRUb0NhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzcGxheSBwb3BpbiAobm90IHJvbGwpXG4gICAgICAgICAgICAgICAgICAgIC8vIC0+IHVzZSB0aGUgdjYgcG9waW4gKGluY2x1ZGVkIGluIGFkZFRvQ2FydC5idWlsZC5qcylcbiAgICAgICAgICAgICAgICAgICAgLy8gLT4gbGV0IHRoZSB2NiBhZGRUb0NhcnQgdHJhY2tcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlcy5BZGRUb0NhcnQuUG9waW5EYXRhID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlcy5BZGRUb0NhcnQuJGN1cnJlbnRCdXR0b24gPSAkKGJ1dHRvbik7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZXMuQWRkVG9DYXJ0LkNvbmZpcm0oIGRhdGEuYmFza2V0c2l6ZSwgJChidXR0b24pLCBvcmlnaW4sIHRydWUgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBmb3JjZSB0cmFja2luZyBmb3IgdGhlIGFkZFRvQ2FydCBidXR0b24gKGl0IGhhcyB0aGUgY2xhc3MgLmpzLW5vLWNsaWNrLXRyYWNrIHRvIHRyYWNrIG9ubHkgb24gc3VjY2Vzc1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlvclY3LnRyYWNraW5nLnRyYWNrLmNhbGwoIGJ1dHRvbiwgbnVsbCwgdHJ1ZSApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnRyaWdnZXIoJ2FkZGVkJywgc2lsZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBvbiggZXZlbnQsIGNiICkge1xuICAgICAgICBfaW5zdC5kaXNwYXRjaGVyLm9uKCBldmVudCwgY2IgKTtcbiAgICB9XG4gICAgc3RhdGljIG9mZiggZXZlbnQsIGNiICkge1xuICAgICAgICBfaW5zdC5kaXNwYXRjaGVyLm9mZiggZXZlbnQsIGNiICk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCB0b3RhbCgpIHtcbiAgICAgICAgcmV0dXJuIF9pbnN0LmdldFRvdGFsKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHRvdGFsRm9yKCBvcmlnaW4gKSB7XG4gICAgICAgIHJldHVybiBfaW5zdFsndG90YWwnK29yaWdpbl07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkYXRhKCkge1xuICAgICAgICByZXR1cm4gZGlvclY3LmRhdGEuY2FydDtcbiAgICB9XG59XG5cbi8qIGV4cG9zZSBzdGF0aWMgbWVtYmVycyAqL1xud2luZG93LmRpb3JWNy5DYXJ0TW9kdWxlID0gQ2FydE1vZHVsZTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FydE1vZHVsZTsiLCJjbGFzcyBEaXNwYXRjaGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmFjdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgY2FsbGJhY2sgd2l0aCBhbiBhY3Rpb25cbiAgICAgKiBzY29wZSBkZWZpbmVzIHRoZSBzY29wZSBvbiB3aWNoIGNhbGxiYWNrXG4gICAgICogd2lsbCBiZSBjYWxsZWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge2NvbnRleHR9IHNjb3BlXG4gICAgICovXG4gICAgb24oYWN0aW9uLCBjYWxsYmFjaywgc2NvcGUpIHtcblxuICAgICAgICBpZiAoIXRoaXMuYWN0aW9uc1thY3Rpb25dKSB0aGlzLmFjdGlvbnNbYWN0aW9uXSA9IFt7XG4gICAgICAgICAgICBzY29wZTogc2NvcGUsXG4gICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICAgICAgfV07XG4gICAgICAgIGVsc2UgdGhpcy5hY3Rpb25zW2FjdGlvbl0ucHVzaCh7XG4gICAgICAgICAgICBzY29wZTogc2NvcGUsXG4gICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHJlZ2lzdGVyZWQgY2FsbGJhY2sgZnJvbSBhbiBhY3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICBvZmYoYWN0aW9uLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aW9uc1thY3Rpb25dKSBjb25zb2xlLndhcm4oJ0Rpc3BhdGNoZXItPicrYWN0aW9uKycgaXMgdW5kZWZpbmVkJyk7XG4gICAgICAgIGlmICghY2FsbGJhY2spIHRoaXMuYWN0aW9uc1thY3Rpb25dID0gW107XG5cbiAgICAgICAgbGV0IF9pbmRleCA9IHRoaXMuYWN0aW9uc1thY3Rpb25dLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICBpZiAoX2luZGV4ID4gLTEpIHRoaXMuYWN0aW9uc1thY3Rpb25dLnNwbGljZShfaW5kZXgsMSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIGFuIGFjdGlvbiBhbmQgYWxsIGFzc29jaWF0ZWQgY2FsbGJhY2tzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvblxuICAgICAqIEBwYXJhbSB7YW55fSBwYXJhbXMgLSBhbnkgbnVtYmVyIG9mIG9wdGlvbm5hbCBwYXJhbXMgcGFzc2VkIHRvIHRoZSBjYWxsYmFja3NcbiAgICAgKi9cbiAgICB0cmlnZ2VyKGFjdGlvbiwgLi4ucGFyYW1zKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uc1thY3Rpb25dKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnNbYWN0aW9uXS5mb3JFYWNoKGZ1bmN0aW9uKF9hY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF9hY3Rpb24uY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9hY3Rpb24uc2NvcGUpIF9hY3Rpb24uY2FsbGJhY2suY2FsbChfYWN0aW9uLnNjb3BlLCAuLi5wYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIF9hY3Rpb24uY2FsbGJhY2soLi4ucGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IERpc3BhdGNoZXI7IiwibGV0IGVxdWFsSGVpZ2h0ID0ge1xuXG4gICAgZGVmYXVsdENvbnRhaW5lcjogJyNjb250YWluZXInLFxuICAgIGRlZmF1bHRTZWxlY3RvcjogJy5qcy1lcXVhbC1oZWlnaHQnLFxuICAgIGRlZmF1bHRNYWluU2VsZWN0b3I6ICcuanMtZXF1YWwtaGVpZ2h0LW1haW4nLFxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gc2V0IGVxdWFsIGhlaWdodCBvbiBhbGwgaXRlbXMgb2YgYSBjb250YWluZXJcbiAgICAgKiBAcGFyYW0gaXRlbUNvbnRhaW5lciB7c3RyaW5nfVxuICAgICAqIEBwYXJhbSBpdGVtU2VsZWN0b3Ige3N0cmluZ31cbiAgICAgKiBAcGFyYW0gbWFpblNlbGVjdG9yIHtzdHJpbmd9IFNwZWNpZnkgdGhlIHJlZmVyZW5jZSBlbGVtZW50OiBhbGwgb3RoZXJzIGl0ZW1zIHdpbGwgYmUgc2l6ZWQgdG8gbWF0Y2ggdGhpcyBlbGVtZW50XG4gICAgICogQHBhcmFtIHJlbW92ZVBhZGRpbmcge2Jvb2xlYW59XG4gICAgICovXG4gICAgZXF1YWxpemUoIGl0ZW1Db250YWluZXIsIGl0ZW1TZWxlY3RvciwgbWFpblNlbGVjdG9yLCByZW1vdmVQYWRkaW5nIClcbiAgICB7XG4gICAgICAgIGxldCBjb250YWluZXIgPSBpdGVtQ29udGFpbmVyID8gaXRlbUNvbnRhaW5lciA6IHRoaXMuZGVmYXVsdENvbnRhaW5lcjtcbiAgICAgICAgbGV0IHNlbGVjdG9yID0gaXRlbVNlbGVjdG9yID8gaXRlbVNlbGVjdG9yIDogdGhpcy5kZWZhdWx0U2VsZWN0b3I7XG4gICAgICAgIGxldCBtYWluID0gbWFpblNlbGVjdG9yID8gbWFpblNlbGVjdG9yIDogdGhpcy5kZWZhdWx0TWFpblNlbGVjdG9yO1xuXG4gICAgICAgICQoY29udGFpbmVyKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGxldCAkaXRlbXMgPSAkKHRoaXMpLmZpbmQoc2VsZWN0b3IpO1xuICAgICAgICAgICAgbGV0IG1heEggPSAkaXRlbXMuZmluZChtYWluKS5sZW5ndGggPiAwID8gJGl0ZW1zLmZpbmQobWFpbikub3V0ZXJIZWlnaHQoKSA6IDA7XG5cbiAgICAgICAgICAgIGlmICgkaXRlbXMuZmluZChtYWluKS5sZW5ndGggPD0gMCkgeyAvLyBpZiBubyBtYWluIGdldCBtYXhcbiAgICAgICAgICAgICAgICAkaXRlbXMuZWFjaCggZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzYXZlIG9sZCBzdHlsZVxuICAgICAgICAgICAgICAgICAgICBsZXQgXyRpdGVtID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9sZFN0eWxlID0gXyRpdGVtLmF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgICAgIF8kaXRlbS5hdHRyKCdzdHlsZScsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW1IID0gcGFyc2VGbG9hdChfJGl0ZW0ub3V0ZXJIZWlnaHQoKSkgLSBwYXJzZUZsb2F0KF8kaXRlbS5jc3MoJ3BhZGRpbmctdG9wJykpIC0gcGFyc2VGbG9hdChfJGl0ZW0uY3NzKCdwYWRkaW5nLWJvdHRvbScpKTtcbiAgICAgICAgICAgICAgICAgICAgbWF4SCA9ICggaXRlbUggPiBtYXhIICkgPyBpdGVtSCA6IG1heEg7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IHN0eWxlXG4gICAgICAgICAgICAgICAgICAgIF8kaXRlbS5hdHRyKCdzdHlsZScsIG9sZFN0eWxlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFyZW1vdmVQYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgJGl0ZW1zLmhlaWdodCggbWF4SCApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkaXRlbXMuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmhlaWdodCggbWF4SCAtIHBhcnNlRmxvYXQoJHRoaXMuY3NzKCdwYWRkaW5nLXRvcCcpKSAtIHBhcnNlRmxvYXQoJHRoaXMuY3NzKCdwYWRkaW5nLWJvdHRvbScpKSApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBlcXVhbEhlaWdodDtcbiIsImltcG9ydCBEaXNwYXRjaGVyIGZyb20gJy4vRGlzcGF0Y2hlci5qcyc7XG5cbi8qKlxuICogUHJpdmF0ZSBpbnN0YW5jZSBvZiBDYXJ0XG4gKi9cbmxldCBfaW5zdDtcblxuY2xhc3MgV2lzaExpc3RNb2R1bGUge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICBkaXJ0eSA9IHRydWU7XG4gICAgc2VsZWN0b3IgPSAnLmpzLXdpc2hsaXN0LXRvZ2dsZSwgLmpzLXdpc2hsaXN0LWFkZCwgLmpzLXdpc2hsaXN0LWRlbGV0ZSc7XG4gICAgc2VsZWN0b3JBZGQgPSAnLmpzLXdpc2hsaXN0LWFkZCc7XG4gICAgc2VsZWN0b3JEZWxldGUgPSAnLmpzLXdpc2hsaXN0LWRlbGV0ZSc7XG4gICAgZGlzcGF0Y2hlciA9IG51bGw7XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBfaW5zdCA9IHRoaXM7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKCk7XG5cbiAgICAgICAgaWYgKCEkKCdodG1sJykuaGFzQ2xhc3MoJ25vLXdpc2hsaXN0JykpIHtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luID0gJCgnYm9keScpLmRhdGEoJ29yaWdpbicpLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIGlmIChkaW9yVjcuQWNjb3VudC5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBubyBuZWVkIHRvIGhhdmUgYWxsIHdpc2hsaXN0IGluZm9ybWF0aW9ucyAob25seSB1c2VkIGJ5IFJvbGwvV2lzaGxpc3RcbiAgICAgICAgICAgICAgICAvLyBqdXN0IHJlYWQgY29vbmtpZXMgdG8gdXBkYXRlIHRyaWdnZXJzXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmlnZ2VycygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcGluRGlzY29ubmVjdGVkID0gZGlvclY3LnBvcGluTWFuYWdlci5pbnN0YW5jaWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICRlbDogJCgnLmpzLXBvcGluLXdpc2hsaXN0LWRpc2Nvbm5lY3RlZCcpLFxuICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiAnd2lzaGxpc3QtZGlzY29ubmVjdGVkJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucG9waW5EaXNjb25uZWN0ZWQuJGVsLmZpbmQoJy5qcy1jcmVhdGUtYWNjb3VudCcpLm9uKCdjbGljaycsICgpID0+IHsgdGhpcy5ub3RMb2dnZWRQb3N0KCdDUkVBVEUnLCB0aGlzLnBvcGluRGlzY29ubmVjdGVkLnVuaXZlcnNlKTsgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3BpbkRpc2Nvbm5lY3RlZC4kZWwuZmluZCgnLmpzLWxvZ2luJykub24oJ2NsaWNrJywgKCkgPT4geyB0aGlzLm5vdExvZ2dlZFBvc3QoJ0xPR0lOJywgdGhpcy5wb3BpbkRpc2Nvbm5lY3RlZC51bml2ZXJzZSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hZGRUcmlnZ2VycygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0KCkge1xuICAgICAgICBsZXQgX2RhdGEgPSB7XG4gICAgICAgICAgICBtYXJrZXQ6ICQoJ2JvZHknKS5kYXRhKCdtYXJrZXQnKSxcbiAgICAgICAgICAgIGxpbWl0OiBkaW9yVjcuY29uZmlnLldJU0hMSVNUX0xJTUlUXG4gICAgICAgIH07XG4gICAgICAgIGlmIChkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1RbdGhpcy5vcmlnaW5dLkdFVC5jb250ZW50VHlwZSAmJiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1RbdGhpcy5vcmlnaW5dLkdFVC5jb250ZW50VHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nKSB7XG4gICAgICAgICAgICBfZGF0YSA9IEpTT04uc3RyaW5naWZ5KCBfZGF0YSApO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5BQ0NPVU5ULldJU0hMSVNUW3RoaXMub3JpZ2luXS5HRVQudXJsLFxuICAgICAgICAgICAgdHlwZTogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5BQ0NPVU5ULldJU0hMSVNUW3RoaXMub3JpZ2luXS5HRVQubWV0aG9kLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQUNDT1VOVC5XSVNITElTVFt0aGlzLm9yaWdpbl0uR0VULmNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgeGhyRmllbGRzOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1RbdGhpcy5vcmlnaW5dLkdFVC54aHJGaWVsZHMsXG4gICAgICAgICAgICBkYXRhOiBfZGF0YSxcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRoaXMub25TdWNjZXNzLmJpbmQodGhpcyksXG4gICAgICAgICAgICBlcnJvcjogdGhpcy5vbkVycm9yLmJpbmQodGhpcylcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25TdWNjZXNzKCBkYXRhICkge1xuICAgICAgICBpZiAoZGF0YS5lcnJvckNvZGUpIHJldHVybiB0aGlzLm9uRXJyb3IoZGF0YSk7XG5cbiAgICAgICAgLy8gZGF0YSBhcmUgdXAtdG8tZGF0ZVxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIC8vIHVwZGF0ZSBhbGwgdHJpZ2dlcnMgKHVwZGF0ZSBzdGFyIGljb24pXG4gICAgICAgIHRoaXMudXBkYXRlVHJpZ2dlcnMoKTtcblxuICAgICAgICAvLyBleHBvc2UgZGF0YSwgdXNlZCBieTpcbiAgICAgICAgLy8gLSBwYWdlIEFjY291bnRcbiAgICAgICAgaWYgKCFkaW9yVjcuZGF0YS5hY2NvdW50KSBkaW9yVjcuZGF0YS5hY2NvdW50ID0ge307XG5cbiAgICAgICAgLy8gZW1wdHkgd2lzaGxpc3RcbiAgICAgICAgaWYgKGRhdGEuZGF0YSkge1xuICAgICAgICAgICAgZGlvclY3LmRhdGEuYWNjb3VudC53aXNobGlzdCA9IGRhdGEuZGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpb3JWNy5kYXRhLmFjY291bnQud2lzaGxpc3QgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRpc3BhdGNoIGNvbXBsZXRlLCB1c2VkIGJ5OlxuICAgICAgICAvLyAtIHJvbGwgV2lzaExpc3RcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnRyaWdnZXIoJ2NvbXBsZXRlJywgZGlvclY3LmRhdGEuYWNjb3VudC53aXNobGlzdCk7XG4gICAgfVxuXG4gICAgb25FcnJvciggZGF0YSApIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbV2lzaGxpc3RdOiB3cyBmYWlsZWQuJyk7XG4gICAgICAgIC8vIGRpc3BhdGNoIGNvbXBsZXRlLCB1c2VkIGJ5OlxuICAgICAgICAvLyAtIHJvbGwgV2lzaExpc3RcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnRyaWdnZXIoJ2Vycm9yJywgZGF0YSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCgpIHtcbiAgICAgICAgX2luc3QuZ2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYWRkcyBhIHByb2R1Y3R8dmlkZW8gdG8gd2lzaGxpc3QgYW5kIG9wZW5cbiAgICAgKiBAcGFyYW0gdW5pdmVyc2UgeydQQ0QnIHwgJ0NEQyd9XG4gICAgICogQHBhcmFtIGlkZW50aWZpZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgYWRkKHVuaXZlcnNlLCBpZGVudGlmaWVyLCBtYXJrZXQsIF90cmFja2luZywgc2lsZW50KSB7XG4gICAgICAgIF9pbnN0LmFkZE9yRGVsZXRlKCdQT1NUJywgdW5pdmVyc2UsIGlkZW50aWZpZXIsIG1hcmtldCwgX3RyYWNraW5nLCBzaWxlbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJlbW92ZWQgYSBwcm9kdWN0fHZpZGVvIGZyb20gd2lzaGxpc3RcbiAgICAgKiBAcGFyYW0gdW5pdmVyc2UgeydQQ0QnIHwgJ0NEQyd9XG4gICAgICogQHBhcmFtIGlkZW50aWZpZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVtb3ZlKHVuaXZlcnNlLCBpZGVudGlmaWVyLCBtYXJrZXQsX3RyYWNraW5nKSB7XG4gICAgICAgIF9pbnN0LmFkZE9yRGVsZXRlKCdERUxFVEUnLCB1bml2ZXJzZSwgaWRlbnRpZmllciwgbWFya2V0LCBfdHJhY2tpbmcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyaWMgZnVuY3Rpb24gdGhhdCBhZGRzIG9yIHJlbW92ZXMgcHJvZHVjdCBmcm9tIHdpc2hsaXN0XG4gICAgICogQHBhcmFtIGFjdGlvbiB7J1BPU1QnIHwgJ0RFTEVURSd9XG4gICAgICogQHBhcmFtIHVuaXZlcnNlIHsnUENEJyB8ICdDREMnfVxuICAgICAqIEBwYXJhbSBpZGVudGlmaWVyIHtzdHJpbmd9XG4gICAgICogQHBhcmFtIG1hcmtldCB7c3RyaW5nfVxuICAgICAqIEBwYXJhbSBzaWxlbnQge2Jvb2x9XG4gICAgICovXG4gICAgYWRkT3JEZWxldGUoYWN0aW9uLCB1bml2ZXJzZSwgaWRlbnRpZmllciwgbWFya2V0LCBfdHJhY2tpbmcsIHNpbGVudCkge1xuXG4gICAgICAgIGxldCBfZGF0YSA9IHtcbiAgICAgICAgICAgIHVuaXZlcnNlOiB1bml2ZXJzZSxcbiAgICAgICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG1hcmtldCkge1xuICAgICAgICAgICAgX2RhdGEubWFya2V0ID0gbWFya2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2UgdXNlIHVwcGVyY2FzZSBpbiBjb25maWdcbiAgICAgICAgbGV0IHdzVW5pdmVyc2UgPSB1bml2ZXJzZS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgIGlmIChkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1Rbd3NVbml2ZXJzZV1bYWN0aW9uXS5jb250ZW50VHlwZSAmJiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1Rbd3NVbml2ZXJzZV1bYWN0aW9uXS5jb250ZW50VHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nKSB7XG4gICAgICAgICAgICBfZGF0YSA9IEpTT04uc3RyaW5naWZ5KCBfZGF0YSApO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5BQ0NPVU5ULldJU0hMSVNUW3dzVW5pdmVyc2VdW2FjdGlvbl0udXJsLFxuICAgICAgICAgICAgdHlwZTogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5BQ0NPVU5ULldJU0hMSVNUW3dzVW5pdmVyc2VdW2FjdGlvbl0ubWV0aG9kLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQUNDT1VOVC5XSVNITElTVFt3c1VuaXZlcnNlXVthY3Rpb25dLmNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgeGhyRmllbGRzOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1Rbd3NVbml2ZXJzZV1bYWN0aW9uXS54aHJGaWVsZHMsXG4gICAgICAgICAgICBkYXRhOiBfZGF0YSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLmVycm9yQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYXJrIHRoZSBkYXRhIFwiZGlydHlcIjogaWYgd2Ugd2FudCB0byBvcGVuIHRoZSByb2xsLCB3ZSBuZWVkIGEgZ2V0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdQT1NUJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gd2UgbmVlZCB0byB1cGRhdGUgY29va2llIHZhbHVlP1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpb3JWNy5jb25maWcuY29va2llcy5XSVNITElTVC5qc1VwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfc3RyaW5nID0gQ29va2llcy5nZXQoZGlvclY3LmNvbmZpZy5jb29raWVzLldJU0hMSVNUWyB3c1VuaXZlcnNlIF0pIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9zdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdHJpbmcgPSBkZWNvZGVVUklDb21wb25lbnQoX3N0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdHJpbmcgKz0gJywnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RyaW5nICs9IGlkZW50aWZpZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29va2llcy5yZW1vdmUoZGlvclY3LmNvbmZpZy5jb29raWVzLldJU0hMSVNUW3dzVW5pdmVyc2VdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb29raWVzLnNldChkaW9yVjcuY29uZmlnLmNvb2tpZXMuV0lTSExJU1Rbd3NVbml2ZXJzZV0sIF9zdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdHJhY2tpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlvclY3LnRyYWNraW5nLnRyYWNrT2JqZWN0U3RyaW5nKCBfdHJhY2tpbmcucmVwbGFjZShkaW9yVjcuY29uZmlnLnRyYWNraW5nLndpc2hsaXN0Lm5vdENvbm5lY3RlZCwgZGlvclY3LmNvbmZpZy50cmFja2luZy53aXNobGlzdC5jb25uZWN0ZWQpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkbyB3ZSBuZWVkIHRvIG9wZW4gdGhlIHJvbGw/XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNpbGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci50cmlnZ2VyKCdhZGRlZCcsIHVuaXZlcnNlLCBpZGVudGlmaWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIHdlIG5lZWQgdG8gdXBkYXRlIGNvb2tpZSB2YWx1ZT9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaW9yVjcuY29uZmlnLmNvb2tpZXMuV0lTSExJU1QuanNVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgX3N0cmluZyA9IENvb2tpZXMuZ2V0KGRpb3JWNy5jb25maWcuY29va2llcy5XSVNITElTVFsgd3NVbml2ZXJzZSBdKSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfc3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RyaW5nID0gZGVjb2RlVVJJQ29tcG9uZW50KF9zdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RyaW5nID0gX3N0cmluZy5yZXBsYWNlKGlkZW50aWZpZXIsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RyaW5nID0gX3N0cmluZy5yZXBsYWNlKCcsLCcsICcsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlyc3QgaXRlbSBjYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9zdHJpbmcuY2hhckF0KDApID09PSAnLCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0cmluZyA9IF9zdHJpbmcuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsYXN0IGl0ZW0gY2FzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfbGVuZ3RoID0gX3N0cmluZy5sZW5ndGgtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3N0cmluZy5jaGFyQXQoX2xlbmd0aCkgPT09ICcsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RyaW5nID0gX3N0cmluZy5zdWJzdHJpbmcoMCwgX2xlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUUxMTogZGVmYXVsdCBvcHRpb25zIGFyZSBub3QgcGFzc2VkLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29va2llcy5zZXQoZGlvclY3LmNvbmZpZy5jb29raWVzLldJU0hMSVNUWyB3c1VuaXZlcnNlIF0sIF9zdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIudHJpZ2dlcigncmVtb3ZlZCcsIHVuaXZlcnNlLCBpZGVudGlmaWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJpZ2dlcnMoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuZXJyb3JDb2RlID09PSBcIlVTRVJfTk9UX0xPR0dFRFwiICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9waW5EaXNjb25uZWN0ZWQucG9zdERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBza3U6IGlkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICB1bml2ZXJzZTogdW5pdmVyc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RMb2dnZWRQb3N0KCdMT0dJTicsIHVuaXZlcnNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGxpc3RlbmVycyB0byBqcy13aXNobGlzdC1hZGQgdHJpZ2dlcnNcbiAgICAgKiBPbmx5IHdvcmtzIGlmIHByb2R1Y3QgaXNuJ3QgYWxyZWFkeSBpbiB3aXNobGlzdFxuICAgICAqL1xuICAgIGFkZFRyaWdnZXJzKCkge1xuXG4gICAgICAgIGxldCBfcG9waW4gPSBkaW9yVjcucG9waW5NYW5hZ2VyLmluc3RhbmNpYXRlKHtcbiAgICAgICAgICAgIGlkZW50aWZpZXI6ICdkZWxldGUtd2lzaGxpc3QtcHJvZHVjdCcsXG4gICAgICAgICAgICAkZWw6ICQoJy5qcy1wb3Bpbi1kZWxldGUtd2lzaGxpc3QtcHJvZHVjdCcpLFxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50czogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBkZWxldGlvbiByZWxpZXMgb24gaW4td2lzaGxpc3QgY2xhc3MsIG9uY2UgcG9waW4gaXMgY2xvc2VkIGFkZCBpdCBiYWNrIHRvIGJ1dHRvblxuICAgICAgICBfcG9waW4ub24oJ2Nsb3NlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfcG9waW4uJGVsLmZpbmQoJy5qcy13aXNobGlzdC1kZWxldGUnKS50b2dnbGVDbGFzcygnaW4td2lzaGxpc3QnLCB0cnVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fb25DbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ2xpY2suY2FsbCh0aGlzLCBlLCBfcG9waW4pO1xuICAgICAgICB9O1xuICAgICAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgdGhpcy5zZWxlY3RvciwgdGhpcy5fb25DbGljaylcbiAgICAgICAgICAgIC5vbignY2xpY2snLCB0aGlzLnNlbGVjdG9yQWRkLCB0aGlzLl9vbkNsaWNrKTtcbiAgICB9XG5cbiAgICBvbkNsaWNrKGUsIF9wb3Bpbikge1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBsZXQgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgIGxldCBfdW5pdmVyc2UgPSAkdGhpcy5kYXRhKCd1bml2ZXJzZScpO1xuICAgICAgICBsZXQgX2lkID0gJHRoaXMuYXR0cignZGF0YS1pZGVudGlmaWVyJyk7IC8vIHVwZGF0ZWQgYnkgdjYgb24gRlAgdGhyb3VnaCAnYXR0cicgbWV0aG9kXG5cbiAgICAgICAgbGV0IF9tYXJrZXQgPSAkdGhpcy5kYXRhKCdtYXJrZXQnKSB8fCAkKCdib2R5JykuZGF0YSgnbWFya2V0Jyk7XG4gICAgICAgIGxldCBfdHJhY2tpbmcgPSAkdGhpcy5hdHRyKCdkYXRhLXdpc2hsaXN0LXRyYWNraW5nJyk7XG5cbiAgICAgICAgaWYgKCFkaW9yVjcuQWNjb3VudC5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucG9waW5EaXNjb25uZWN0ZWQudW5pdmVyc2UgPSBfdW5pdmVyc2U7XG4gICAgICAgICAgICB0aGlzLm9wZW5EaXNjb25uZWN0ZWRQb3BpbihfdW5pdmVyc2UsIF9pZCwgZG9jdW1lbnQubG9jYXRpb24uaHJlZik7XG4gICAgICAgICAgICBpZiAoX3RyYWNraW5nKSBkaW9yVjcudHJhY2tpbmcudHJhY2tPYmplY3RTdHJpbmcoX3RyYWNraW5nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBfY29uZmlybSA9ICR0aGlzLmRhdGEoJ2NvbmZpcm0nKTtcblxuICAgICAgICBpZiAoIV91bml2ZXJzZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbV2lzaGxpc3RdIG1pc3NpbmcgZGF0YS11bml2ZXJzZSBvbiB0cmlnZ2VyICcrJHRoaXNbMF0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX2lkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tXaXNobGlzdF0gbWlzc2luZyBkYXRhLWlkZW50aWZpZXIgb24gdHJpZ2dlciAnKyR0aGlzWzBdKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfY29uZmlybSkge1xuICAgICAgICAgICAgX3BvcGluLm9wZW4oKTtcblxuICAgICAgICAgICAgbGV0ICRidXR0b24gPSBfcG9waW4uJGVsLmZpbmQoJy5qcy13aXNobGlzdC1kZWxldGUnKTtcbiAgICAgICAgICAgICRidXR0b24uYXR0cignZGF0YS11bml2ZXJzZScsIF91bml2ZXJzZSk7XG4gICAgICAgICAgICAkYnV0dG9uLmF0dHIoJ2RhdGEtaWRlbnRpZmllcicsIF9pZCk7XG4gICAgICAgICAgICAkYnV0dG9uLmF0dHIoJ2RhdGEtbWFya2V0JywgX21hcmtldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiBub3QgaW4gd2lzaGxpc3QgPT4gQWRkXG4gICAgICAgICAgICBpZiAoICEkdGhpcy5oYXNDbGFzcygnaW4td2lzaGxpc3QnKSApIHtcbiAgICAgICAgICAgICAgICBpZiAoISR0aGlzLmhhc0NsYXNzKHRoaXMuc2VsZWN0b3JEZWxldGUucmVwbGFjZSgnLicsJycpKSkge1xuICAgICAgICAgICAgICAgICAgICBkaW9yVjcuV2lzaExpc3RNb2R1bGUuYWRkKCBfdW5pdmVyc2UsIF9pZCwgX21hcmtldCAsIF90cmFja2luZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoISR0aGlzLmhhc0NsYXNzKHRoaXMuc2VsZWN0b3JBZGQucmVwbGFjZSgnLicsJycpKSkge1xuICAgICAgICAgICAgICAgICAgICBkaW9yVjcuV2lzaExpc3RNb2R1bGUucmVtb3ZlKCBfdW5pdmVyc2UsIF9pZCwgX21hcmtldCwgX3RyYWNraW5nICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3BlbkRpc2Nvbm5lY3RlZFBvcGluKHVuaXZlcnNlLCBpZCwgaHJlZikge1xuICAgICAgICB0aGlzLnBvcGluRGlzY29ubmVjdGVkLm9wZW4oKTtcbiAgICAgICAgdGhpcy5wb3BpbkRpc2Nvbm5lY3RlZC5wb3N0RGF0YSA9IHtcbiAgICAgICAgICAgIHNrdTogaWQsXG4gICAgICAgICAgICB1cmw6IGhyZWYsXG4gICAgICAgICAgICB1bml2ZXJzZTogdW5pdmVyc2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBub3RMb2dnZWRQb3N0KCBhY3Rpb24sIHVuaXZlcnNlICkge1xuICAgICAgICB1bml2ZXJzZSA9IHVuaXZlcnNlLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIC8vIG1ha2UgYSBwb3N0IHdpdGggY3VycmVudCB1cmwgYW5kIHNrdVxuICAgICAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZShcIm1ldGhvZFwiLCBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1RbdW5pdmVyc2VdLk5PVF9MT0dHRURbYWN0aW9uXS5tZXRob2QpO1xuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZShcImFjdGlvblwiLCBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1RbdW5pdmVyc2VdLk5PVF9MT0dHRURbYWN0aW9uXS51cmwpO1xuXG4gICAgICAgIGZvcihsZXQga2V5IGluIHRoaXMucG9waW5EaXNjb25uZWN0ZWQucG9zdERhdGEgKSB7XG4gICAgICAgICAgICBpZih0aGlzLnBvcGluRGlzY29ubmVjdGVkLnBvc3REYXRhIC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhpZGRlbkZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgICAgIGhpZGRlbkZpZWxkLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgaGlkZGVuRmllbGQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBrZXkpO1xuICAgICAgICAgICAgICAgIGhpZGRlbkZpZWxkLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIHRoaXMucG9waW5EaXNjb25uZWN0ZWQucG9zdERhdGEgW2tleV0pO1xuICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaGlkZGVuRmllbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmb3JtKTtcbiAgICAgICAgZm9ybS5zdWJtaXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRyaWdnZXJzLCBkZXBlbmRpbmcgb24gdGhlaXIgcHJlc2VuY2UgaW4gd2lzaGxpc3QsIHRvZ2dsZXMgaW4td2lzaGxpc3QgY2xhc3NcbiAgICAgKi9cbiAgICB1cGRhdGVUcmlnZ2VycygpIHtcblxuICAgICAgICAkKCB0aGlzLnNlbGVjdG9yICkuZWFjaCggKGksIGVsKSA9PiB7XG4gICAgICAgICAgICBsZXQgJHRoaXMgPSAkKGVsKTtcbiAgICAgICAgICAgIGlmICggJHRoaXMuYXR0cignZGF0YS11bml2ZXJzZScpICYmICR0aGlzLmF0dHIoJ2RhdGEtaWRlbnRpZmllcicpICkge1xuICAgICAgICAgICAgICAgICR0aGlzLnRvZ2dsZUNsYXNzKCAnaW4td2lzaGxpc3QnLCB0aGlzLmlzSW5XaXNobGlzdCgkdGhpcy5hdHRyKCdkYXRhLXVuaXZlcnNlJyksICR0aGlzLmF0dHIoJ2RhdGEtaWRlbnRpZmllcicpKSApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdpc2hsaXN0IHByb2R1Y3RzIGFyZSBzdG9yZWQgaW4gc2VwYXJhdGUgY29va2llcyBmb3IgUENEIGFuZCBDRENcbiAgICAgKiBFYWNoIGNvb2tpZSBjb250YWlucyBhIGxpc3Qgb2YgaWRlbnRpZmllcnMgc2VwYXJhdGVkIGJ5IGNvbW1hc1xuICAgICAqIEBwYXJhbSB1bml2ZXJzZSAoJ2NkYycgfCAncGNkJylcbiAgICAgKiBAcGFyYW0gaWRlbnRpZmllclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzSW5XaXNobGlzdCggdW5pdmVyc2UsIGlkZW50aWZpZXIgKSB7XG4gICAgICAgIHVuaXZlcnNlID0gdW5pdmVyc2UudG9VcHBlckNhc2UoKTtcbiAgICAgICAgbGV0IF93aXNobGlzdFByb2R1Y3RzID0gQ29va2llcy5nZXQoZGlvclY3LmNvbmZpZy5jb29raWVzLldJU0hMSVNUW3VuaXZlcnNlXSk7XG5cbiAgICAgICAgaWYgKF93aXNobGlzdFByb2R1Y3RzKSB7XG4gICAgICAgICAgICBfd2lzaGxpc3RQcm9kdWN0cyA9IF93aXNobGlzdFByb2R1Y3RzLnNwbGl0KCcsJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRvdGFsUHJvZHVjdHMgPSBfd2lzaGxpc3RQcm9kdWN0cy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHRoaXMudG90YWxQcm9kdWN0cyA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50b3RhbFByb2R1Y3RzOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3dpc2hsaXN0UHJvZHVjdHNbaV0gPT09IGlkZW50aWZpZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgb24oIGV2ZW50LCBjYiApIHtcbiAgICAgICAgX2luc3QuZGlzcGF0Y2hlci5vbiggZXZlbnQsIGNiICk7XG4gICAgfVxuICAgIHN0YXRpYyBvZmYoIGV2ZW50LCBjYiApIHtcbiAgICAgICAgX2luc3QuZGlzcGF0Y2hlci5vZmYoIGV2ZW50LCBjYiApO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgdG90YWwoKSB7XG4gICAgICAgIGlmIChfaW5zdC5kaXJ0eSkge1xuICAgICAgICAgICAgX2luc3QudG90YWwgPSAwO1xuICAgICAgICAgICAgaWYgKENvb2tpZXMuZ2V0KGRpb3JWNy5jb25maWcuY29va2llcy5XSVNITElTVC5DREMpKSBfaW5zdC50b3RhbCArPSBDb29raWVzLmdldChkaW9yVjcuY29uZmlnLmNvb2tpZXMuV0lTSExJU1QuQ0RDKS5zcGxpdCgnLCcpLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChDb29raWVzLmdldChkaW9yVjcuY29uZmlnLmNvb2tpZXMuV0lTSExJU1QuUENEKSkgX2luc3QudG90YWwgKz0gQ29va2llcy5nZXQoZGlvclY3LmNvbmZpZy5jb29raWVzLldJU0hMSVNULlBDRCkuc3BsaXQoJywnKS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9pbnN0LnRvdGFsO1xuICAgIH1cblxuICAgIC8qIHVzZWQgb24gVjY6IEZQICovXG4gICAgc3RhdGljIHJlZnJlc2hUcmlnZ2VycygpIHtcbiAgICAgICAgX2luc3QudXBkYXRlVHJpZ2dlcnMoKTtcbiAgICB9XG59XG5cbi8qIGV4cG9zZSBzdGF0aWMgbWVtYmVycyAqL1xud2luZG93LmRpb3JWNy5XaXNoTGlzdE1vZHVsZSA9IFdpc2hMaXN0TW9kdWxlO1xuXG5leHBvcnQgZGVmYXVsdCBXaXNoTGlzdE1vZHVsZTtcbiJdfQ==

(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _prehome = require('./pages/prehome.js');

var _prehome2 = _interopRequireDefault(_prehome);

var _home = require('./pages/home.js');

var _home2 = _interopRequireDefault(_home);

var _account = require('./pages/account.js');

var _account2 = _interopRequireDefault(_account);

var _sampling = require('./pages/sampling.js');

var _sampling2 = _interopRequireDefault(_sampling);

var _stockStatus = require('./modules/stockStatus.js');

var _stockStatus2 = _interopRequireDefault(_stockStatus);

var _scrollToElement = require('./modules/scrollToElement.js');

var _scrollToElement2 = _interopRequireDefault(_scrollToElement);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var app = {

    toLoad: {},
    init: function init() {
        this.$main = $('main');
        this.$page = this.$main.children("section");
        this.$popinWrapper = $('#popin-wrapper');
        this.pageInit(this.$page.attr('data-page'));
        this.initForms();
        this.initAccordions();

        if (diorV7.helpers.isIE9()) {
            this.sizeGrids();
            $(window).on('resize', this.sizeGrids.bind(this));
        }

        this.initPlayers();

        _scrollToElement2.default.init();
        _stockStatus2.default.init();
        diorV7.popinManager.initVideoPopin();
        diorV7.tracking.init(this.$main.data("track-universe"), this.$main.data("track-page"));
    },
    pageInit: function pageInit(page) {

        switch (page) {
            case 'prehome':
                _prehome2.default.init(this.$page);
                break;
            case 'home':
                _home2.default.init(this.$page);
                break;
            case 'account':
                _account2.default.init(this.$page);
                break;
            case 'sampling':
                _sampling2.default.init(this.$page);
                break;
        }
    },
    initForms: function initForms() {

        this.$main.find('.js-form').formValidator();

        this.$main.find('.js-select').each(function () {
            var $this = $(this);

            $this.customSelect({
                defaultInList: $this.hasClass('js-default-in-list') //should default option show in list
            });
        });

        this.$main.find('.js-mask').each(function () {
            $(this).fieldMask($(this).attr('data-mask'));
        });
    },
    initAccordions: function initAccordions() {

        this.$main.find('.js-accordion').each(function (i, el) {
            new diorV7.Accordion($(el), function (toggled, $section) {
                if (toggled) {

                    // refresh form listeners on open if accordion is form or contains form
                    var $form = $section.is('.js-form') ? $section : $section.find('.js-form');
                    if ($form.length && $form.data('formValidator')) {
                        $form.data('formValidator').refreshListeners();
                    }

                    // refresh form listeners on open if accordion has fields that need validation and parent is form
                    $form = $section.parents('.js-form:first');
                    if ($section.find('input[data-required]').length && $form.length) {
                        if ($form.data('formValidator')) {
                            $form.data('formValidator').refreshListeners();
                        }
                    }
                }
            });
        });

        this.$main.find('.js-close-accordion').on('click', function (e) {
            e.preventDefault();
            $('*[data-accordion-target="' + $(this).attr('data-accordion-target') + '"]').not('.js-close-accordion').trigger('click');
        });
    },
    sizeGrids: function sizeGrids() {

        var $equalHeightRows = $('.row.equal-height');
        $equalHeightRows.find('.col').height('auto');
        $equalHeightRows.each(function () {
            var $cols = $(this).find('.col');
            var _height = 0;
            $cols.each(function () {
                if ($(this).height() > _height) _height = $(this).height();
            });
            if (_height > 0) {
                $cols.height(_height);
            }
        });
    },
    initPlayers: function initPlayers() {
        var _this = this;

        this.toLoad.players = 0;

        diorV7.dispatcher.on('app::players::ready', function () {
            _this.toLoad.players = 1;
            _this.isPageLoaded();
        });

        var $players = this.$main.find('video[data-options]');
        var playersToLoad = $players.length;

        if (playersToLoad) {
            (function () {

                var loaded = 0;

                var onPlayersLoaded = function onPlayersLoaded() {
                    loaded++;
                    if (playersToLoad === loaded) {
                        diorV7.dispatcher.trigger('app::players::ready');
                        diorV7.Player.videos.forEach(function (_instance) {
                            _instance.off('ready', onPlayersLoaded);
                        });
                    }
                };

                $players.each(function (i, el) {
                    var _$video = $(el);
                    var _options = _$video.data('options');
                    var _player = void 0;
                    // 2 types of player: classic or chaptered
                    if (!_options.chapters) {
                        _player = new diorV7.Player(_options, _$video);
                    } else {
                        _player = new diorV7.PlayerChaptered(_options, _$video);
                    }
                    _player.on('ready', onPlayersLoaded);
                });
            })();
        } else {
            diorV7.dispatcher.trigger('app::players::ready');
        }
    },


    isPageLoaded: function isPageLoaded() {
        for (var key in this.toLoad) {
            if (this.toLoad.hasOwnProperty(key)) {
                if (!this.toLoad[key]) return false;
            }
        }
        this.onPageLoaded();
    },

    onPageLoaded: function onPageLoaded() {
        this.checkUrlForActions();
    },
    checkUrlForActions: function checkUrlForActions() {
        var _anchor = diorV7.helpers.queryString.get('anchor');
        _scrollToElement2.default.scrollToAnchor(_anchor);
        var _video = diorV7.helpers.queryString.get('video');
        if (_video) _scrollToElement2.default.scrollToVideo($('#' + _video));
    }
};

$(window).ready(app.init.bind(app));

},{"./modules/scrollToElement.js":11,"./modules/stockStatus.js":12,"./pages/account.js":13,"./pages/home.js":21,"./pages/prehome.js":22,"./pages/sampling.js":23}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var LegalForm = function () {
    function LegalForm($el, callback) {
        _classCallCheck(this, LegalForm);

        this.$el = $el;
        this.$form = this.$el.find('.js-form');
        this.initAccordion();
        if (callback) this.$form.on('submit', callback);
        this.initCheckboxes();
    }

    _createClass(LegalForm, [{
        key: 'initAccordion',
        value: function initAccordion() {
            var _this = this;

            var $scroll = this.$el.find('.js-scroll');

            if ($scroll.length && !$scroll.data('scroller')) {
                $scroll.scroller({
                    preventDefaultScroll: true
                });
            }

            /**
             * When user opens legal accordion
             */
            this.$el.find('.js-legal-accordion').each(function (i, el) {
                new diorV7.Accordion($(el), {
                    scroll: false,
                    onToggle: function onToggle(toggled, $section) {

                        if (toggled) {

                            // refresh formValidator
                            if (_this.$form.data('formValidator')) {
                                _this.$form.data('formValidator').refreshListeners();
                            }

                            //refresh scroller
                            var _$scroll = $section.find('.js-scroll');

                            if (_$scroll.length && _$scroll.data('scroller')) {
                                _$scroll.data('scroller').refresh();
                            }
                        }
                    }
                });
            });
        }
    }, {
        key: 'initCheckboxes',
        value: function initCheckboxes() {

            this.$el.find('.js-open-next-accordion').on('change', function (e) {

                var $checkbox = $(e.currentTarget);
                var $parent = $checkbox.parents('.accordion-section');
                if ($checkbox.prop('checked')) {
                    $parent.next('.js-legal-accordion').trigger('click');
                }
            });
        }
    }, {
        key: 'updateScroll',
        value: function updateScroll() {
            if (!this.$el.find('.js-scroll:visible').data('scroller')) this.$el.find('.js-scroll').scroller();else this.$el.find('.js-scroll:visible').data('scroller').refresh();
        }
    }, {
        key: 'show',
        value: function show() {
            diorV7.DOMStateManager.show(this.$el);
            this.updateScroll();
            this.$form.data('formValidator').refreshListeners();
        }
    }, {
        key: 'hide',
        value: function hide() {
            diorV7.DOMStateManager.hide(this.$el);
        }
    }]);

    return LegalForm;
}();

exports.default = LegalForm;

},{}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _tag2 = require('./tag.js');

var _tag3 = _interopRequireDefault(_tag2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Tags = function () {
    // jshint ignore:end

    function Tags($wrapper) {
        var _this = this;

        _classCallCheck(this, Tags);

        this.$current = null;
        this.current = null;
        this.$tags = null;
        this.tags = [];
        this.multiple = false;

        this.$wrapper = $wrapper;
        this.$tags = $wrapper.find('.js-tag');

        this.multiple = this.$wrapper.data('multiple');

        this.$tags.each(function (i, el) {
            var $tag = $(el);

            var _tag = new _tag3.default($tag, {
                hoverZone: true,
                hoverHeight: $tag.data('hoverheight'),
                hoverWidth: $tag.data('hoverwidth')
            });
            _tag.on('enter', _this.onTagMouseEnter.bind(_this));
            _tag.on('leave', _this.onTagMouseLeave.bind(_this));

            _this.tags.push(_tag);
        });

        this.length = this.tags.length;

        this.addListeners();
    }

    // mouse is over a tag


    // multiple tags can be displayed

    // jshint ignore:start


    _createClass(Tags, [{
        key: 'onTagMouseEnter',
        value: function onTagMouseEnter(tag, e) {
            if (!this.current) {
                this.current = tag;
                this.current.active();
            } else {
                // are we still on previous tag (not the area, but the tag itlself)
                if (!this.current.isMouseOver(e)) {
                    // change tag
                    this.current.deactive();

                    this.current = tag;
                    this.current.active();
                } else {
                    // keep current tag
                }
            }
        }
    }, {
        key: 'onTagMouseLeave',
        value: function onTagMouseLeave(tag, e) {}
    }, {
        key: 'onMouseoutWrapper',
        value: function onMouseoutWrapper(e) {
            for (var i = 0; i < this.length; ++i) {
                this.tags[i].deactivate();
            }
            this.current = null;
        }
    }, {
        key: 'onMousemoveWrapper',
        value: function onMousemoveWrapper(e) {
            for (var i = 0; i < this.length; ++i) {
                var _tag = this.tags[i];

                // get the tag under mouse position
                if (_tag.isMouseOver(e)) {
                    // if no tag currently active
                    if (!this.current || this.multiple || !this.current.isMouseOver(e)) {
                        if (this.current && !this.multiple) this.current.deactivate();

                        this.current = _tag;
                        this.current.active();
                    }
                }
            }
        }
    }, {
        key: 'onResize',
        value: function onResize() {
            // Update wrapper sizes
            for (var i = 0; i < this.length; ++i) {
                this.tags[i].wrapperW = this.$wrapper.outerWidth();
                this.tags[i].wrapperH = this.$wrapper.outerHeight();
            }
        }
    }, {
        key: 'addListeners',
        value: function addListeners() {
            var _this2 = this;

            this._onMousemoveWrapper = function (e) {
                return _this2.onMousemoveWrapper(e);
            };
            this._onMouseoutWrapper = function (e) {
                return _this2.onMouseoutWrapper(e);
            };
            this._onResize = function () {
                return _this2.onResize();
            };

            this.$wrapper.on('mousemove', this._onMousemoveWrapper);
            this.$wrapper.on('mouseleave', this._onMouseoutWrapper);

            $(window).on('resize', this._onResize);
            this.onResize();
        }
    }, {
        key: 'removeListeners',
        value: function removeListeners() {
            this.$wrapper.off('mousemove', this._onMousemoveWrapper);
            this.$wrapper.off('mouseleave', this._onMouseoutWrapper);
            $(window).off('resize', this._resize);
        }
    }]);

    return Tags;
}();

exports.default = Tags;

},{"./tag.js":8}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * Dependencies:
 * - diorV7.Player.PauseAll()
 */
var Popin = function () {

    /**
     * @param {object} options
     * {
     *        identifier: null,                    // the name of the popin, used in its class name, its selectors and events
     *        $trigger: null,                      // the element that will trigger the open method
     *        $el: null,                           // the $popin itself, only required for stat popin
     *        $wrapper: $('#popin-wrapper'),       // the wrapper in which every popin is injected at bottom of body
     *        manager: null,                       // a reference to popinManager
     *        closeButtonClass: '.js-popin-close',
     *        triggerEvents: 0                     // whether or not the popin triggers events
        }
     */
    function Popin(options) {
        _classCallCheck(this, Popin);

        var _defaults = {
            identifier: null,
            $trigger: null,
            $el: null,
            $wrapper: $('#popin-wrapper'),
            manager: null,
            closeButtonClass: '.js-popin-close',
            template: null,
            webservice: null,
            triggerEvents: 0,
            fullscreen: 0
        };

        this.o = $.extend(_defaults, options);
        this.isOpen = false;

        this.init();
        this.$el.data('popin', this);
        this.addListeners();
    }

    /**
     * This method is useful for PopinDynamic that extends Popin
     */


    _createClass(Popin, [{
        key: 'init',
        value: function init() {
            this.$el = this.o.$el;
        }
    }, {
        key: 'addListeners',
        value: function addListeners() {
            var _this = this;

            if (this.o.$trigger) {

                this._onTriggerClick = function (e) {
                    return _this.open(e);
                };

                this.o.$trigger.on('click', this._onTriggerClick);
            }

            this._onCloseClick = function () {
                return _this.close();
            };
            this.$el.find(this.o.closeButtonClass).on('click', this._onCloseClick);
            this._resize = function () {
                return _this.resize();
            };
            window.addEventListener('resize', this._resize());
        }
    }, {
        key: 'open',
        value: function open(e) {
            var _this2 = this;

            if (!this.isOpen) {
                this.isOpen = true;

                diorV7.DOMStateManager.fadeToggle(this.$el, 'hidden', 1, function () {
                    _this2.trigger('opened');
                    if (_this2.$el.find('.js-form').length) _this2.$el.find('.js-form').each(function () {
                        if ($(this).data('formValidator')) $(this).data('formValidator').refreshListeners();
                    });
                });
                this.trigger('open');
                this.toggleFullscreen();

                this.o.manager.toggleOverlay(this.$el, 1);

                diorV7.Player.PauseAll(this.player);
            }
        }
    }, {
        key: 'toggleFullscreen',
        value: function toggleFullscreen(fullscreen) {

            if (!fullscreen) fullscreen = this.o.fullscreen;

            if (!fullscreen) {
                this.setPosition();
                $('html').removeClass('popin-fullscreen');
            } else {
                var _zIndex = this.$el.css('z-index');
                this.$el.removeAttr('style').css('z-index', _zIndex);
                $('html').addClass('popin-fullscreen');
            }
        }
    }, {
        key: 'setPosition',
        value: function setPosition() {
            var _this3 = this;

            var _scrollTop = Math.min($('body').height() - window.innerHeight, $(document).scrollTop());
            setTimeout(function () {
                var _marginTop = (window.innerHeight - _this3.$el.outerHeight(true)) * 0.5;
                _this3.$el.css('top', _scrollTop + _marginTop);
            }, 50);
        }
    }, {
        key: 'close',
        value: function close() {
            var _this4 = this;

            if (this.isOpen) {
                this.isOpen = false;
                diorV7.DOMStateManager.fadeToggle(this.$el, 'hidden', 0, function () {
                    if (_this4.o.fullscreen) $('html').removeClass('popin-fullscreen');
                    _this4.trigger('closed');
                });
                this.o.manager.toggleOverlay(this.$el, 0);
                this.trigger('close');
            }
        }
    }, {
        key: 'resize',
        value: function resize() {
            this.trigger('resize');
        }
    }, {
        key: 'destroy',
        value: function destroy() {

            if (this.o.$trigger) {
                this.o.$trigger.off('click', this._onTriggerClick);
            }

            this.$el.find(this.o.closeButtonClass).off('click', this._onCloseClick);
            window.removeEventListener('resize', this._resize());
            this.trigger('destroyed');
        }
    }, {
        key: 'trigger',
        value: function trigger(event) {
            if (this.o.triggerEvents) diorV7.dispatcher.trigger('popin-' + this.o.identifier + '::' + event);
        }
    }, {
        key: 'on',
        value: function on(event, callback) {
            if (this.o.triggerEvents) diorV7.dispatcher.on('popin-' + this.o.identifier + '::' + event, callback);
        }
    }]);

    return Popin;
}();

exports.default = Popin;

},{}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _Popin2 = require('./Popin.js');

var _Popin3 = _interopRequireDefault(_Popin2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PopinAjaxForm = function (_Popin) {
    _inherits(PopinAjaxForm, _Popin);

    function PopinAjaxForm(options) {
        _classCallCheck(this, PopinAjaxForm);

        options.triggerEvents = 1;

        var _this = _possibleConstructorReturn(this, (PopinAjaxForm.__proto__ || Object.getPrototypeOf(PopinAjaxForm)).call(this, options));

        if (!options.webservice) console.warn('PopinAjaxForm -> webservice is undefined');
        _this.webservice = options.webservice;
        return _this;
    }

    _createClass(PopinAjaxForm, [{
        key: 'init',
        value: function init() {
            var _this2 = this;

            _get(PopinAjaxForm.prototype.__proto__ || Object.getPrototypeOf(PopinAjaxForm.prototype), 'init', this).call(this);
            this.$form = this.$el.find('.js-popin-form').formValidator({
                onSubmit: function onSubmit(e) {
                    return _this2.send(e);
                }
            });

            this.on('opened', function () {
                _this2.$form.data('formValidator').refreshListeners();
            });

            this.on('closed', function () {
                _this2.reset();
            });
        }
    }, {
        key: 'send',
        value: function send(e) {
            var _this3 = this;

            e.preventDefault();

            var _data = void 0;
            if (this.webservice.contentType && this.webservice.contentType === 'application/json') {
                var _array = this.$el.find('form').serializeArray();
                var _l = _array.length;
                _data = {};
                for (i = 0; i < _l; ++i) {
                    _data[_array[i].name] = _array[i].value;
                }
                _data = JSON.stringify(_data);
            } else {
                _data = this.$el.find('form').serialize();
            }

            $.ajax({
                url: this.webservice.url,
                type: this.webservice.method,
                contentType: this.webservice.contentType,
                xhrFields: this.webservice.xhrFields,
                data: _data,
                success: function success(data) {
                    return _this3.onSuccess(data);
                },
                error: function error(data) {
                    return _this3.onError(data);
                }
            });
        }
    }, {
        key: 'onSuccess',
        value: function onSuccess(data) {
            //V6 - V7 Support
            if (data.status && data.status !== 'ok' || data.errorCode) return this.onError(data);
            diorV7.DOMStateManager.hide(this.$el.find('.js-popin-form-wrapper'));
            diorV7.DOMStateManager.show(this.$el.find('.js-popin-confirmation'));
        }
    }, {
        key: 'onError',
        value: function onError(data) {
            var $err = this.$el.find('.js-popin-error');
            if ($err.length) {
                if (data.errorMessages) $err.html(data.errorMessages.join('<br/>'));else if (data.message) $err.html(data.message);
                diorV7.DOMStateManager.show($err);
            } else {
                console.warn('PopinAjaxForm -> No js-popin-error element in popin');
            }
            diorV7.DOMStateManager.show(this.$el.find('.js-popin-form-wrapper'));
            diorV7.DOMStateManager.hide(this.$el.find('.js-popin-confirmation'));
        }
    }, {
        key: 'reset',
        value: function reset() {
            diorV7.DOMStateManager.hide(this.$el.find('.js-popin-error'));
            diorV7.DOMStateManager.show(this.$el.find('.js-popin-form-wrapper'));
            diorV7.DOMStateManager.hide(this.$el.find('.js-popin-confirmation'));
            this.$form.find('input[type="email"], input[type="text"]').each(function () {
                $(this).val('');
            });
        }
    }]);

    return PopinAjaxForm;
}(_Popin3.default);

exports.default = PopinAjaxForm;

},{"./Popin.js":4}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _PopinAjaxForm2 = require('./PopinAjaxForm.js');

var _PopinAjaxForm3 = _interopRequireDefault(_PopinAjaxForm2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PopinStockAlert = function (_PopinAjaxForm) {
    _inherits(PopinStockAlert, _PopinAjaxForm);

    function PopinStockAlert() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, PopinStockAlert);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = PopinStockAlert.__proto__ || Object.getPrototypeOf(PopinStockAlert)).call.apply(_ref, [this].concat(args))), _this), _this.formData = null, _temp), _possibleConstructorReturn(_this, _ret);
    }
    // jshint ignore:start


    _createClass(PopinStockAlert, [{
        key: 'send',

        // jshint ignore:end

        value: function send(e) {
            var _this2 = this;

            e.preventDefault();

            this.formData = this.$el.find('form').serialize();

            $.ajax({
                url: this.webservice.url,
                type: this.webservice.method,
                data: this.formData,
                xhrFields: this.webservice.xhrFields,
                // DEFINE A FORMATTER OBJECT FOR THE CALL
                // must have a Request method that format the settings data object directly
                // must have a Response method that format the data, and return a stringified object
                // @see diorV7.config.js
                // @seealso pcis.AjaxFormat.js (http://www.dior.cn/medias/version-6.9.1488558669739/pcis/js/custom_cn.js)
                formatter: this.webservice.formatter,
                contentType: this.webservice.contentType,

                success: function success(data) {
                    return _this2.onSuccess(data);
                },
                error: function error(data) {
                    return _this2.onError(data);
                }
            });
        }
    }, {
        key: 'onSuccess',
        value: function onSuccess(data) {
            // Specific China - Newsletter is still managed by brand site
            if (data.subscribeNewsletter) {
                $.ajax({
                    url: core.AjaxConfig.Product.STOCK_ALERT_NEWSLETTER.url,
                    type: core.AjaxConfig.Product.STOCK_ALERT_NEWSLETTER.method,
                    data: this.formData,
                    xhrFields: core.AjaxConfig.Product.STOCK_ALERT_NEWSLETTER.xhrFields,
                    formatter: core.AjaxConfig.Product.STOCK_ALERT_NEWSLETTER.formatter,
                    success: function success(response) {
                        /* Do not display anything, purpose of the popin is to subscribe to STOCK_ALERT notification */
                        if (response.status === 'ok') {
                            console.log("[StockAlert]: Newsletter subcribtion success");
                        } else {
                            console.log("[StockAlert]: Newsletter subcribtion fail");
                        }
                    }
                });
            }

            //V6 - V7 Support
            if (data.status && data.status !== 'ok' || data.errorCode) return this.onError(data);
            diorV7.DOMStateManager.hide(this.$el.find('.js-popin-form-wrapper'));
            diorV7.DOMStateManager.show(this.$el.find('.js-popin-confirmation'));
        }
    }]);

    return PopinStockAlert;
}(_PopinAjaxForm3.default);

exports.default = PopinStockAlert;

},{"./PopinAjaxForm.js":5}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _Popin2 = require('./Popin.js');

var _Popin3 = _interopRequireDefault(_Popin2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PopinZipcode = function (_Popin) {
    _inherits(PopinZipcode, _Popin);

    function PopinZipcode(options) {
        _classCallCheck(this, PopinZipcode);

        options.triggerEvents = true;
        return _possibleConstructorReturn(this, (PopinZipcode.__proto__ || Object.getPrototypeOf(PopinZipcode)).call(this, options));
    }

    _createClass(PopinZipcode, [{
        key: 'init',
        value: function init() {
            var _this3 = this;

            _get(PopinZipcode.prototype.__proto__ || Object.getPrototypeOf(PopinZipcode.prototype), 'init', this).call(this);

            var _this = this;
            this.resultsPerPage = 5;
            this.page = 0;
            this.pageS = 1;
            this.$tableContainer = this.$el.find('.js-zipcode-table-wrapper');
            this.$table = this.$tableContainer.find('#zipcode-table');
            this.$controls = this.$el.find('.js-controls');
            this.$left = this.$controls.find('.js-prev');
            this.$right = this.$controls.find('.js-next');
            this.$input = this.$el.find('input[type=text]');
            this.$form = this.$el.find('.js-zipcode-form');
            this.$error = this.$el.find('.js-error-msg');

            this.$form.on('submit', function (e) {
                e.preventDefault();
                _this3.getList(_this3.$input.val());
            });
        }
    }, {
        key: 'open',
        value: function open(e) {
            this.$fieldWrapper = $(e.currentTarget).parents('.js-form');
            _get(PopinZipcode.prototype.__proto__ || Object.getPrototypeOf(PopinZipcode.prototype), 'open', this).call(this, e);
        }
    }, {
        key: 'onSuccess',
        value: function onSuccess(data) {
            //V6 - V7 Support
            if (data.status && data.status !== 'ok' || data.errorCode) return this.onError(data);

            var _this = this;
            this.pages = Math.ceil(data.results.length / this.resultsPerPage);
            this.$controls.toggleClass('visible', this.pages > 1);
            this.$table.html(this.zipcodeListTemplate(data.results));

            $('.js-select-zipcode').on('click', function () {
                _this.onZipcodeSelect($(this).attr('data-zipcode'), $(this).attr('data-address'), $(this).attr('data-zipcode-new'), $(this).attr('data-address-new'));
            });

            this.$left.off('click').on('click', function () {
                if (!$(this).hasClass('disabled') && this.page > 0) _this.setPage(this.page - 1);
            });

            this.$right.off('click').on('click', function () {
                if (!$(this).hasClass('disabled') && _this.page < _this.pages - 1) _this.setPage(_this.page + 1);
            });

            this.$tableContainer.toggleClass('visible', true);
            this.$el.find('.js-zipcode-wrapper').removeClass('loading');
        }
    }, {
        key: 'getList',
        value: function getList(_val) {

            if (_val && _val !== "") {
                var _this = this;
                this.$error.removeClass('visible');

                this.$input.removeClass('error');
                this.$el.find('.js-zipcode-wrapper').addClass('loading');

                $.ajax({

                    url: diorV7.config.webservices.ZIPCODE.url,
                    method: diorV7.config.webservices.ZIPCODE.method,
                    xhrFields: diorV7.config.webservices.ZIPCODE.xhrFields,
                    data: {
                        search: _val
                    },
                    dataType: "json",
                    success: this.onSuccess.bind(this)
                });
            } else {
                this.reset();
                this.$error.addClass('visible');
            }
        }
    }, {
        key: 'zipcodeListTemplate',
        value: function zipcodeListTemplate(zipcodes) {

            var _list = "";
            for (var i = 0, j = zipcodes.length; i < j; ++i) {
                _list += "<tr class='js-select-zipcode zipcode-" + i + " entry-" + (i + 1) + "' data-zipcode='" + zipcodes[i].postcode6 + "' data-address='" + zipcodes[i].ko_common + zipcodes[i].ko_jibeon + "' data-zipcode-new='" + zipcodes[i].postcode5 + "' data-address-new='" + zipcodes[i].ko_common + zipcodes[i].ko_doro + "'>\n" + "    <td class='first'><span>" + zipcodes[i].postcode6 + "</span><span class='new'>" + zipcodes[i].postcode5 + "</span></td>\n" + "    <td><span>" + zipcodes[i].ko_common + zipcodes[i].ko_jibeon + "</span><span class='new'>" + zipcodes[i].ko_common + zipcodes[i].ko_doro + "</span></td>\n" + "</tr>";
            }
            return _list;
        }
    }, {
        key: 'onZipcodeSelect',
        value: function onZipcodeSelect(zip, address, newZip, newAddress) {

            if (this.$fieldWrapper) {
                this.$fieldWrapper.find(".js-zipcode").val(zip);
                this.$fieldWrapper.find(".js-address-ko").val(address);
                this.$fieldWrapper.find(".js-zipcode-new").val(newZip);
                this.$fieldWrapper.find(".js-address-ko-new").val(newAddress);
            } else if (this.$fieldWrapperMulti) {
                this.$fieldWrapperMulti.find(".js-zipcode").val(zip);
                this.$fieldWrapperMulti.find(".js-address-ko").val(address);
                this.$fieldWrapperMulti.find(".js-zipcode-new").val(newZip);
                this.$fieldWrapperMulti.find(".js-address-ko-new").val(newAddress);
            }

            this.close();
        }
    }, {
        key: 'reset',
        value: function reset() {
            this.$table.empty();
            this.$input.val('');
            this.page = 0;
            this.pages = 0;
            this.$controls.removeClass('visible');
            this.$tableContainer.removeClass('visible');
            this.$error.removeClass('visible');
        }
    }, {
        key: 'setPage',
        value: function setPage(page) {
            this.page = page;
            this.$left.toggleClass('disabled', page === 0);
            this.$right.toggleClass('disabled', page === this.pages - 1);
            this.$table[0].className = this.$table[0].className.replace(/(page-[\d]+)/g, '');
            this.$table[0].className += " page-" + page;
        }
    }], [{
        key: 'onError',
        value: function onError(data) {
            console.warn('PopinZipcode -> Error', data);
        }
    }]);

    return PopinZipcode;
}(_Popin3.default);

exports.default = PopinZipcode;

},{"./Popin.js":4}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Dispatcher = require('../modules/Dispatcher.js');

var _Dispatcher2 = _interopRequireDefault(_Dispatcher);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Tag = function () {
    function Tag($tag, options) {
        _classCallCheck(this, Tag);

        var _defaults = {
            classNames: {
                tagWrapper: 'js-tag-wrapper',
                tagArrow: 'js-tag-arrow',
                tagContent: 'js-tag-content',
                tagHoverZone: 'tag-hoverzone js-tag-hoverzone',
                tag: 'js-tag',
                postionLeft: 'tag--left',
                postionCenter: 'tag--center',
                postionRight: 'tag--right'
            },
            hoverZone: false,
            hoverWidth: "10%",
            hoverHeight: "50%",
            safetyMargin: 40
        };

        this.dispatcher = new _Dispatcher2.default();

        this.o = $.extend(_defaults, options);

        this.$tag = $tag;
        this.$arrow = $tag.find("." + this.o.classNames.tagArrow);
        this.$content = $tag.find("." + this.o.classNames.tagContent);
        this.$wrapper = this.$tag.parents("." + this.o.classNames.tagWrapper);

        this.addListeners();
        this.mouseOverTag = false;

        // Change hover zone and safetyMargin to pourcentage based on nartural image size
        this.hoverWidth = this.o.hoverWidth.indexOf('%') > 0 ? parseInt(this.o.hoverWidth.substr(0, this.o.hoverWidth.length - 1)) : parseInt(this.o.hoverWidth.substr(0, this.o.hoverWidth.length - 2)) * 100 / this.$wrapper.find('img').get(0).naturalWidth;
        this.hoverHeight = this.o.hoverHeight.indexOf('%') > 0 ? parseInt(this.o.hoverHeight.substr(0, this.o.hoverHeight.length - 1)) : parseInt(this.o.hoverHeight.substr(0, this.o.hoverHeight.length - 2)) * 100 / this.$wrapper.find('img').get(0).naturalHeight;
        this.safetyMargin = this.o.safetyMargin * 100 / this.$wrapper.find('img').get(0).naturalWidth;
    }
    // =================== INTERNAL METHODS ===================


    _createClass(Tag, [{
        key: 'checkPositionTag',
        value: function checkPositionTag() {
            if (this.$tag.hasClass(this.o.classNames.postionCenter)) {
                var contentW = this.$content.outerWidth();
                var oldTransformX = parseInt(parseFloat(this.$content.css('transform').split(',')[4]) * 100 / contentW);
                var safetyMarginPx = this.safetyMargin * this.wrapperW / 100;

                var overlapLeft = this.$content.offset().left - this.$wrapper.offset().left - safetyMarginPx;
                var overlapRight = this.$content.offset().left + contentW - (this.$wrapper.offset().left + this.wrapperW - safetyMarginPx);

                if (overlapLeft < 0) {
                    // default translate -50%
                    var newValue = oldTransformX + Math.abs(parseInt(overlapLeft * 100 / contentW));
                    this.$content.css('transform', 'translateX(' + newValue + '%)');
                }

                if (overlapRight > 0) {
                    var _newValue = oldTransformX - Math.abs(parseInt(overlapRight * 100 / contentW));
                    this.$content.css('transform', 'translateX(' + _newValue + '%)');
                }
            }
        }

        // =================== EXTERNAL METHODS ===================

    }, {
        key: 'trigger',
        value: function trigger(event, force) {
            if (this.o.triggerEvents) this.dispatcher.trigger(event, this);
        }
    }, {
        key: 'on',
        value: function on(event, callback, scope) {
            this.dispatcher.on(event, callback, scope);
        }
    }, {
        key: 'off',
        value: function off(event, callback, scope) {
            this.dispatcher.off(event, callback, scope);
        }
    }, {
        key: 'isMouseOver',
        value: function isMouseOver(e) {
            return this.mouseOverTag || this.isMouseOverZone(e);
        }
    }, {
        key: 'isMouseOverZone',
        value: function isMouseOverZone(e) {
            var mouseX = e.clientX;
            var mouseY = e.clientY;
            var arrow = this.$arrow[0];
            var tagX = parseInt(arrow.style.left) * this.wrapperW / 100 + this.$wrapper.offset().left;
            var tagY = parseInt(arrow.style.top) * this.wrapperH / 100 + this.$wrapper.offset().top;
            var hoverWidthPx = this.hoverWidth * this.wrapperW / 100;
            var hoverHeightPx = this.hoverHeight * this.wrapperH / 100;

            return this.o.hoverWidth !== "100%" && mouseX > tagX - hoverWidthPx / 2 && mouseX < tagX + hoverWidthPx / 2 && this.o.hoverHeight !== "100%" && mouseY > tagY - hoverHeightPx / 2 && mouseY < tagY + hoverHeightPx / 2 || this.o.hoverHeight === "100%" && this.o.hoverWidth === "100%" || this.o.hoverHeight === "100%" && this.o.hoverWidth !== "100%" && mouseX > tagX - hoverWidthPx / 2 && mouseX < tagX + hoverWidthPx / 2 || this.o.hoverWidth === "100%" && this.o.hoverHeight !== "100%" && mouseY > tagY - hoverHeightPx / 2 && mouseY < tagY + hoverHeightPx / 2;
        }
    }, {
        key: 'onmouseOverTag',
        value: function onmouseOverTag(e) {
            this.mouseOverTag = true;
            this.dispatcher.trigger('enter', this, e);
        }
    }, {
        key: 'onMouseouttag',
        value: function onMouseouttag(e) {
            this.mouseOverTag = false;
            this.dispatcher.trigger('leave', this, e);
        }
    }, {
        key: 'active',
        value: function active() {
            this.$tag.addClass('tag--active');
            this.checkPositionTag();
        }
    }, {
        key: 'deactivate',
        value: function deactivate() {
            this.$tag.removeClass('tag--active');
            this.mouseOverTag = false;
        }
    }, {
        key: 'addListeners',
        value: function addListeners() {
            var _this = this;

            this._onmouseOverTag = function (e) {
                return _this.onmouseOverTag(e);
            };
            this._onMouseouttag = function (e) {
                return _this.onMouseouttag(e);
            };

            /*  Use mouseenter/mouseleave : prevent onmouseout when hovering child element  */
            this.$tag.on('mouseenter', this._onmouseOverTag);
            this.$tag.on('mouseleave', this._onMouseouttag);
        }
    }, {
        key: 'removeListeners',
        value: function removeListeners() {
            /*  Use mouseenter/mouseleave : prevent onmouseout when hovering child element  */
            this.$tag.off('mouseenter', this._onmouseOverTag);
            this.$tag.off('mouseleave', this._onMouseouttag);
        }
    }]);

    return Tag;
}();

exports.default = Tag;

},{"../modules/Dispatcher.js":9}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Dispatcher = function () {
    function Dispatcher() {
        _classCallCheck(this, Dispatcher);

        this.actions = [];
    }
    /**
     * Registers a callback with an action
     * scope defines the scope on wich callback
     * will be called
     * @param {string} action
     * @param {function} callback
     * @param {context} scope
     */


    _createClass(Dispatcher, [{
        key: 'on',
        value: function on(action, callback, scope) {

            if (!this.actions[action]) this.actions[action] = [{
                scope: scope,
                callback: callback
            }];else this.actions[action].push({
                scope: scope,
                callback: callback
            });
            return this;
        }

        /**
         * Removes a registered callback from an action
         * @param {string} action
         * @param {function} callback
         */

    }, {
        key: 'off',
        value: function off(action, callback) {
            if (!this.actions[action]) console.warn('Dispatcher->' + action + ' is undefined');
            if (!callback) this.actions[action] = [];

            var _index = this.actions[action].indexOf(callback);
            if (_index > -1) this.actions[action].splice(_index, 1);
            return this;
        }

        /**
         * Triggers an action and all associated callbacks
         * @param {string} action
         * @param {any} params - any number of optionnal params passed to the callbacks
         */

    }, {
        key: 'trigger',
        value: function trigger(action) {
            for (var _len = arguments.length, params = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                params[_key - 1] = arguments[_key];
            }

            if (this.actions[action]) {
                this.actions[action].forEach(function (_action) {
                    if (typeof _action.callback === 'function') {
                        var _action$callback;

                        if (_action.scope) (_action$callback = _action.callback).call.apply(_action$callback, [_action.scope].concat(params));else _action.callback.apply(_action, params);
                    }
                });
            }

            return this;
        }
    }]);

    return Dispatcher;
}();

exports.default = Dispatcher;

},{}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var equalHeight = {

    defaultContainer: '#container',
    defaultSelector: '.js-equal-height',
    defaultMainSelector: '.js-equal-height-main',

    /**
     * Function to set equal height on all items of a container
     * @param itemContainer {string}
     * @param itemSelector {string}
     * @param mainSelector {string} Specify the reference element: all others items will be sized to match this element
     * @param removePadding {boolean}
     */
    equalize: function equalize(itemContainer, itemSelector, mainSelector, removePadding) {
        var container = itemContainer ? itemContainer : this.defaultContainer;
        var selector = itemSelector ? itemSelector : this.defaultSelector;
        var main = mainSelector ? mainSelector : this.defaultMainSelector;

        $(container).each(function () {
            var $items = $(this).find(selector);
            var maxH = $items.find(main).length > 0 ? $items.find(main).outerHeight() : 0;

            if ($items.find(main).length <= 0) {
                // if no main get max
                $items.each(function () {
                    // save old style
                    var _$item = $(this);
                    var oldStyle = _$item.attr('style');
                    _$item.attr('style', '');
                    var itemH = parseFloat(_$item.outerHeight()) - parseFloat(_$item.css('padding-top')) - parseFloat(_$item.css('padding-bottom'));
                    maxH = itemH > maxH ? itemH : maxH;
                    // reset style
                    _$item.attr('style', oldStyle);
                });
            }

            if (!removePadding) {
                $items.height(maxH);
            } else {
                $items.each(function () {
                    var $this = $(this);
                    $this.height(maxH - parseFloat($this.css('padding-top')) - parseFloat($this.css('padding-bottom')));
                });
            }
        });
    }
};

exports.default = equalHeight;

},{}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var scrollToElement = {
    init: function init() {

        window.onhashchange = function () {
            scrollToElement.scrollToAnchor(window.location.hash.substring(1));
        };
    },
    scrollToElement: function scrollToElement($el, callback) {

        var _scrollTop = $('html').scrollTop() || $('body').scrollTop();
        var _offset = $el.offset().top;
        var _time = Math.abs((_offset - _scrollTop) / 100 * 50); //50ms to go down 100px

        $.when($('html,body').animate({
            scrollTop: _offset
        }, _time)).done(callback);
    },
    scrollToVideo: function scrollToVideo($video) {

        if ($video && $video.length) {
            this.scrollToElement($video, function () {
                if ($video.is('video') && $video.data('player')) {
                    $video.data('player').play();
                } else if ($video.hasClass('js-popin-player-trigger')) {
                    $video[0].click();
                }
            });
        }
    },
    scrollToAnchor: function scrollToAnchor(_anchor) {
        var _this = this;

        if (_anchor) {
            (function () {

                var $anchor = $('#' + _anchor);
                if (!$anchor.length) $anchor = $('[data-hash="' + _anchor + '"]');
                if ($anchor.length) _this.scrollToElement($anchor, function () {
                    if ($anchor.data('accordion')) $anchor.data('accordion').open($anchor);
                });
            })();
        }
    }
};

exports.default = scrollToElement;

},{}],12:[function(require,module,exports){
'use strict';

var stockStatus = {

    pushEcoSelector: ".js-push-eco",
    notForSale: 'NOTFORSALE',
    outOfStock: 'OUTOFSTOCK',
    available: 'AVAILABLE',

    // case china: inject price
    pushPriceSelector: ".js-push-price",

    $pushes: null,

    timeout: null,

    init: function init() {
        var _this = this;

        stockStatus.$pushes = $(stockStatus.pushEcoSelector);

        var _data = void 0;
        if (diorV7.config.webservices.PRODUCT.STOCK_STATUS.method === 'POST') {
            (function () {

                var _items = [];

                stockStatus.$pushes.each(function (i, el) {
                    var _btn = $(el).find('button[data-sku], button[data-productskusqb]');

                    if (_btn.attr('data-sku')) {
                        _items.push({ sku: _btn.data('sku') });
                    } else {
                        var _skus = _btn.data('productskusqb');
                        var _codes = _skus.split(',');
                        var _l = _codes.length;
                        for (var j = 0; j < _l; ++j) {
                            _items.push({ sku: _codes[j] });
                        }
                    }
                });

                _data = {
                    items: _items
                };

                if (diorV7.config.webservices.PRODUCT.STOCK_STATUS.contentType === 'application/json') {
                    _data = JSON.stringify(_data);
                }
            })();
        }

        if (stockStatus.$pushes.length > 0) {
            (function () {
                var xhr = $.ajax({
                    url: diorV7.config.webservices.PRODUCT.STOCK_STATUS.url,
                    type: diorV7.config.webservices.PRODUCT.STOCK_STATUS.method,
                    // for China, pass the wanted skus list
                    data: _data,
                    // DEFINE A FORMATTER OBJECT FOR THE CALL
                    // must have a Request method that format the settings data object directly
                    // must have a Response method that format the data, and return a stringified object
                    // @see diorV7.config.js
                    // @seealso pcis.AjaxFormat.js (http://www.dior.cn/medias/version-6.9.1488558669739/pcis/js/custom_cn.js)
                    xhrFields: diorV7.config.webservices.PRODUCT.STOCK_STATUS.xhrFields,
                    formatter: diorV7.config.webservices.PRODUCT.STOCK_STATUS.formatter,
                    contentType: diorV7.config.webservices.PRODUCT.STOCK_STATUS.contentType,

                    success: function success(data) {
                        return _this.onSuccess(data);
                    },
                    error: function error(data) {
                        return _this.onError(data);
                    }
                });

                // timeout: if WS doesn't respond quickly enough
                if (diorV7.config.webservices.PRODUCT.STOCK_STATUS.timeout) {
                    stockStatus.timeout = setTimeout(function () {
                        xhr.abort();
                    }, diorV7.config.webservices.PRODUCT.STOCK_STATUS.timeout);
                }
            })();
        }
    },
    onSuccess: function onSuccess(data) {
        clearTimeout(stockStatus.timeout);
        if (data.errorCode) return this.onError(data);

        stockStatus.$pushes.each(function (i, el) {
            var _btn = $(el).find('button[data-sku], button[data-productskusqb]');
            var _codes = [];
            var _defaultSku = void 0;

            if (_btn.attr('data-sku')) {
                _defaultSku = _btn.data('sku');
                _codes = [_defaultSku];
            } else {
                var _skus = _btn.data('productskusqb');
                if (_skus === undefined) console.warn('[StockStatus]: product missing varient list in attribute data-productskusqb');
                _codes = _skus.split(',');

                _defaultSku = _btn.attr('default-sku');
            }

            var _l = _codes.length;

            // rules:
            // - if at least one is available, display buy btn
            // - if one is notForSale, display discover
            // - else, it means that all are out of stock, display message
            var _available = false;
            var _notForSale = false;

            for (var _i = 0; _i < _l; ++_i) {
                var _code = _codes[_i];

                var _status = void 0;
                if (_code !== undefined) {
                    _status = data.data[_code];
                } else {
                    _status = {
                        status: stockStatus.available
                    };
                }

                if (_status) {
                    switch (_status.status) {
                        case stockStatus.notForSale:
                            _notForSale = true;
                            break;
                        case stockStatus.outOfStock:
                            break;
                        case stockStatus.available:
                            _available = true;
                            break;
                        default:
                    }
                } else {
                    console.warn('[StockStatus]: missing product ' + _code + ' in WS -> consider this product as available.');
                    _available = true;
                }
            }

            if (_available) {
                // display buy button
                diorV7.DOMStateManager.show($(el).find('.push-button button'));
            } else if (_notForSale) {
                // display discover link
                diorV7.DOMStateManager.show($(el).find('.push-button a'));
                diorV7.DOMStateManager.hide($(el).find('.push-price'));
                diorV7.DOMStateManager.hide($(el).find('.separator'));
            } else {
                // all products out of stock
                diorV7.DOMStateManager.show($(el).find('.push-button p'));
            }

            // CHINA: inject price (of the sku or default sku)
            var _defaultStatus = data.data[_defaultSku];
            if (_defaultStatus && _defaultStatus.price && stockStatus.pushPriceSelector !== "") {
                $(el).find(stockStatus.pushPriceSelector).text(_defaultStatus.price);
            }
        });
    },
    onError: function onError(data) {
        clearTimeout(stockStatus.timeout);
        console.warn('[StockStatus]: ws failed.');

        // display product link by default
        stockStatus.$pushes.each(function (i, el) {
            diorV7.DOMStateManager.show($(el).find('.push-button button.js-addtocart'));
        });
    }
};

module.exports = stockStatus;

},{}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _addresses = require('./account/addresses.js');

var _addresses2 = _interopRequireDefault(_addresses);

var _videos = require('./account/videos.js');

var _videos2 = _interopRequireDefault(_videos);

var _return = require('./account/return.js');

var _return2 = _interopRequireDefault(_return);

var _cancel = require('./account/cancel.js');

var _cancel2 = _interopRequireDefault(_cancel);

var _wishlist = require('./account/wishlist.js');

var _wishlist2 = _interopRequireDefault(_wishlist);

var _zipcode = require('./account/zipcode.js');

var _zipcode2 = _interopRequireDefault(_zipcode);

var _newsletters = require('./account/newsletters.js');

var _newsletters2 = _interopRequireDefault(_newsletters);

var _PopinAjaxForm = require('../components/popins/PopinAjaxForm.js');

var _PopinAjaxForm2 = _interopRequireDefault(_PopinAjaxForm);

var _LegalForm = require('../components/LegalForm.js');

var _LegalForm2 = _interopRequireDefault(_LegalForm);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var account = {

    init: function init($el) {
        var _this = this;

        this.$el = $el;
        diorV7.helpers.registerHandlebarsHelper('ifCond');

        /**
         * Account wishlist displays the list of items a user has added to his wishlist
         * It allows the user to delete items from that list
         */
        if (this.$el.hasClass('js-account-wishlist')) _wishlist2.default.init($el);

        /**
         * Account videos displays the list of videos a user has added to his video list
         * It allows the user to delete items from that list and to view the videos in a
         * fullscreen popin
         */
        if (this.$el.hasClass('js-account-videos')) _videos2.default.init($el);

        /**
         * The account address book allows users to manage their addresses, adding,
         * deleting and updating them
         */
        if (this.$el.hasClass('js-account-addresses')) _addresses2.default.init($el);

        /**
         * The newsletter page allows to manage newsletter subscriptions for a user
         * thanks to a list of checkboxes.
         * If country requires legal conditions to be checked validation will trigger
         * a legal conditions popin to validate changes
         */
        if (this.$el.find('.js-account-newsletters').length) _newsletters2.default.init($el);

        /**
         * The return page allows to manage return choices & conditions for a user
         * thanks to a 3 steps form.
         */
        if (this.$el.hasClass('js-account-return')) _return2.default.init($el);

        /**
         * The cancel order page allows to manage cancel order for a korean user
         */
        if (this.$el.hasClass('js-cancel-order')) _cancel2.default.init($el);

        /**
        * if address form contain zipcode for ko
        */
        if (this.$el.find('.js-zipcode').length) _zipcode2.default.init($el);

        /**
         * User can manage personnal information and edit password.
         * This functionnality allows the user to display his password
         * as text instead of hidden characters
         */
        if (this.$el.find('.js-show-password').length) {
            (function () {

                var $showPassword = _this.$el.find('.js-show-password');
                var $passwordInput = _this.$el.find('.js-password');

                if ($showPassword.is(':checked')) {
                    $passwordInput.attr("type", "text");
                } else {
                    $passwordInput.attr("type", "password");
                }

                $showPassword.on('change', function () {
                    if ($showPassword.is(':checked')) {
                        $passwordInput.attr("type", "text");
                    } else {
                        $passwordInput.attr("type", "password");
                    }
                });
            })();
        }

        /**
         * The rdv and reservations page has two static popins that display
         * phone numbers to modify reservations and rdv
         */
        if (this.$el.find('.js-open-popin-booking-modify').length) {

            diorV7.popinManager.instanciate({
                identifier: 'account-booking-modify',
                $trigger: account.$el.find('.js-open-popin-booking-modify'),
                $el: $('.js-popin-account-booking-modify')
            });

            diorV7.popinManager.instanciate({
                identifier: 'account-booking-delete',
                $trigger: account.$el.find('.js-open-popin-booking-delete'),
                $el: $('.js-popin-account-booking-delete')
            });
        }

        /**
         * The forgotten password popin is displayed on login page
         * It is a PopinAjaxForm instance that calls a webservice
         */
        if (this.$el.find('.js-open-forgotten-password').length) {
            this.passwordPopin = diorV7.popinManager.instanciate({
                identifier: 'forgotten-password',
                $el: $('.js-popin-forgotten-password'),
                $trigger: this.$el.find('.js-open-forgotten-password'),
                webservice: diorV7.config.webservices.ACCOUNT.FORGOTTEN_PASSWORD
            }, _PopinAjaxForm2.default);
        }

        /**
         * Korean legal form
         */
        if (this.$el.find('.js-legal-form').length) this.legalForm = new _LegalForm2.default(this.$el.find('.js-legal-form'));
    }

};

exports.default = account;

},{"../components/LegalForm.js":2,"../components/popins/PopinAjaxForm.js":5,"./account/addresses.js":14,"./account/cancel.js":15,"./account/newsletters.js":16,"./account/return.js":17,"./account/videos.js":18,"./account/wishlist.js":19,"./account/zipcode.js":20}],14:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var accountAddresses = {
    init: function init($el) {
        var _this = this;

        this.initAccordions($el);
        this.$el = $el;
        this.$delete = this.$el.find('.js-address-delete-open-popup');

        var _confirmPopin = diorV7.popinManager.instanciate({
            identifier: 'delete-address',
            $trigger: accountAddresses.$delete,
            $el: $('.js-popin-delete-address')
        });

        this.$confirm = _confirmPopin.$el.find('.js-delete-adresse');

        accountAddresses.$delete.on('click', function (e) {
            accountAddresses.$address = $(e.currentTarget);
            accountAddresses._id = accountAddresses.$address.attr('id');
        });

        this.$confirm.on('click', function () {
            return _this.deleteAddress();
        });
    },
    deleteAddress: function deleteAddress() {
        var $address = accountAddresses.$address;
        var _id = accountAddresses._id;
        $.ajax({
            url: diorV7.config.webservices.ACCOUNT.ADDRESS.DELETE.url,
            type: diorV7.config.webservices.ACCOUNT.ADDRESS.DELETE.method,
            data: {
                form_key: $address.data('form-key'), // Smile: Add Magento form key
                address: _id
            },
            xhrFields: diorV7.config.webservices.ACCOUNT.ADDRESS.DELETE.xhrFields,
            success: function success(data) {
                if (!data.errorCode) {
                    $address.parents('.js-account-address:first').remove();
                }
            }
        });
    },
    initAccordions: function initAccordions($el) {
        var _this2 = this;

        $el.find('.js-address-accordion').each(function (i, el) {
            new diorV7.Accordion($(el), function (toggled, $section) {
                if (toggled) {
                    if ($section.is('.js-form') && $section.data('formValidator')) {
                        $section.data('formValidator').refreshListeners();
                        $section.data('serialized', $section.serialize());
                    }
                } else {
                    if ($section.data('serialized')) {
                        _this2.resetFormFromSerialized($section);
                    }
                }
            });
        });
    },

    /**
     * When user clicks on cancel form is reset to serialized data set on opening.
     * We go though serialized data and apply values to form
     */
    resetFormFromSerialized: function resetFormFromSerialized($form) {

        var $el = void 0;
        var vals = void 0;

        $.each($form.data('serialized').split('&'), function (index, elem) {
            vals = elem.split('=');
            $el = $form.find('[name="' + vals[0] + '"]');

            $el.val(decodeURIComponent(vals[1].replace(/\+/g, ' ')));

            if ($el.is('select') && $el.data('customSelect')) {
                $el.data('customSelect').refresh();
            }
        });
    }
};

exports.default = accountAddresses;

},{}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var accountCancel = {
    init: function init($el) {
        this.$el = $el;
        this.$cancelTrigger = this.$el.find('.js-open-popin-cancel-order');

        diorV7.popinManager.instanciate({
            identifier: 'account-confirm-cancel',
            $trigger: accountCancel.$cancelTrigger,
            $el: $('.js-popin-account-confirm-cancel')
        });

        this.$cancelTrigger.on('click', function (e) {
            e.preventDefault();
            $.ajax({
                url: diorV7.config.webservices.ACCOUNT.ORDER.CANCEL.url,
                type: diorV7.config.webservices.ACCOUNT.ORDER.CANCEL.method,
                xhrFields: diorV7.config.webservices.ACCOUNT.ORDER.CANCEL.xhrFields,
                data: {
                    order_id: $(this).attr('data-order-id')
                },
                success: function success(data) {
                    return accountCancel.onSuccess(data);
                }
            });
        });
    },
    onSuccess: function onSuccess(data) {
        if (data.errorCode === false) {
            $('.js-cancel-message').text(data.message);
            diorV7.DOMStateManager.hide(accountCancel.$el.find('.js-cancel-buttons'));
        } else {
            $('.js-cancel-message').text(data.message);
        }
    }
};

exports.default = accountCancel;

},{}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _LegalForm = require('../../components/LegalForm.js');

var _LegalForm2 = _interopRequireDefault(_LegalForm);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var accountNewsletters = {
    init: function init($el) {
        this.initCheckboxes($el);
        this.initLegalPopin($el);
    },
    initCheckboxes: function initCheckboxes($el) {

        var $this = void 0;
        var $subInputs = void 0;
        var _checked = void 0;
        $el.find('.js-subnewsletter-checkbox').each(function () {

            $this = $(this);
            $subInputs = $this.parent().next('.js-account-subnewsletters').find('input');

            $this.on('change', function () {
                if (!$this.prop('checked')) {
                    $subInputs.each(function () {
                        $(this).prop('checked', false).trigger('change');
                    });
                } else {
                    $subInputs.each(function () {
                        $(this).prop('checked', true).trigger('change');
                    });
                }
            });

            $subInputs.on('change', function () {
                _checked = 0;
                $subInputs.each(function () {
                    if ($(this).prop('checked')) _checked++;
                });
                $this.prop('checked', _checked);
            });
        });
    },
    initLegalPopin: function initLegalPopin($el) {
        var $legalNewsletter = $('.js-popin-newsletter-legal');
        if ($legalNewsletter.length) {
            (function () {

                diorV7.popinManager.instanciate({
                    identifier: 'newsletter-legal',
                    $el: $legalNewsletter,
                    triggerEvents: 1
                });

                var legalAccepted = false;

                /**
                 * Newsletter legal form calls a callback on submit
                 * On submit, set conditions to accepted and call
                 * submit on the form below popin to send information
                 * If legalAccepted is false the form below will not be
                 * sent
                 */
                var newsletterLegal = new _LegalForm2.default($legalNewsletter, function (e) {
                    e.preventDefault();
                    legalAccepted = true;
                    $el.find('.js-account-newsletters').submit();
                });

                // updates scroll when popin is opened
                diorV7.popinManager.popins['newsletter-legal'].on('opened', function () {
                    newsletterLegal.show();
                });

                $el.find('.js-account-newsletters').on('submit', function (e) {
                    if (!legalAccepted && $el.find('.js-account-newsletters input:checked').length) {
                        e.preventDefault();
                        diorV7.popinManager.popins['newsletter-legal'].open();
                    }
                });
            })();
        }
    }
};

exports.default = accountNewsletters;

},{"../../components/LegalForm.js":2}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _templates = require('../../templates.js');

var _templates2 = _interopRequireDefault(_templates);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var accountReturn = {
    init: function init($el) {
        this.$el = $el;
        diorV7.helpers.registerHandlebarsHelper('keyInObject');
        this.initAccordionsAddresses($el);
        this.initAccordionsSteps($el);
        this.$adresses = $el.find('.js-account-adresses');
        this.$choices = $el.find('.js-choice-result');
        this.returnRecap = {};
        this.$chooseHourForm = $el.find('.js-choose-hour-container .js-return-pickup-time');

        $(document).ready(this.onDocumentReady);
        $el.find('.js-change-adress').on('change', this.onAddressChange);
        $el.find('.js-change-choice').on('change', this.onReturnTypeChange);
        $el.find('.js-return-checkbox').on('change', this.onProductCheckboxChange);
        $el.find('.js-render-step3').on('click', this.renderStep3);
        $('.js-return-send').on('click', this.onSubmit.bind(this));
    },
    onDocumentReady: function onDocumentReady() {

        var $calendar = $("#calendar");

        if ($calendar.attr('data-locale')) {
            if (!$.datepicker.regional[$calendar.attr('data-locale')]) console.warn('jQuery-UI DatePicker language "' + $calendar.attr('data-locale') + '" was not loaded');
            var locale = $.datepicker.regional[$calendar.attr('data-locale')];
            if ($calendar.attr('data-format')) locale.dateFormat = $calendar.attr('data-format');
            $.datepicker.setDefaults(locale);
        }

        $calendar.datepicker({
            minDate: 1, // A partir de demain, toutes dates précedentes sont désactivées
            maxDate: '+3w', // 3 semaines à partir d'aujourd'hui, toutes les dates au-delà sont désactivées
            beforeShowDay: $.datepicker.noWeekends, // Les weekend sont off (samedi et dimanche)
            onSelect: function onSelect(dateText, inst) {
                $('.js-date-picked').text(dateText);
                accountReturn.returnRecap.date = new Date(inst.selectedYear, inst.selectedMonth, inst.selectedDay);
                var year = accountReturn.returnRecap.date.getFullYear();
                var month = accountReturn.returnRecap.date.getMonth() + 1;
                if (month < 10) month = "0" + month;
                var date = accountReturn.returnRecap.date.getDate();
                if (date < 10) date = "0" + date;

                accountReturn.returnRecap.date = year + "-" + month + '-' + date;
                accountReturn.updatePickupTime(accountReturn.returnRecap.date);
            }
        });
    },


    // change address on select
    onAddressChange: function onAddressChange() {
        var _address = $.parseJSON($(this).val());
        var $address = $('.js-account-address');

        $address.find('.js-display-name').text(_address.firstname + ' ' + _address.lastname);
        $address.find('.js-display-address').html(_address.address + "<br/>" + _address.address2);
        $address.find('.js-display-zipcode').text(_address.zipcode);
        $address.find('.js-display-city').text(_address.city);
        $address.find('.js-display-country').text(_address.country);
        $address.find('.js-display-phone').text(_address.phone);

        var $form = $('.js-address-modify-form');
        $form.find('.js-account-return-address-id').val(_address.id);
        $form.find('.js-account-return-title').data('customSelect').setValue(_address.title);
        $form.find('.js-account-return-firstname').val(_address.firstname);
        $form.find('.js-account-return-lastname').val(_address.lastname);
        $form.find('.js-account-return-address').val(_address.address);
        $form.find('.js-account-return-zipcode').val(_address.zipcode);
        $form.find('.js-account-return-city').val(_address.city);
        $form.find('.js-account-return-country').val(_address.country);
        $form.find('.js-account-return-phone').val(_address.phone);
    },


    // change address on select
    onReturnTypeChange: function onReturnTypeChange(e) {
        var $thisProduct = $(e.target).parents('.js-product');
        var $select = $thisProduct.find('.js-change-choice');
        var _selectedIndex = $select[0].selectedIndex;
        var $choices = $thisProduct.find('.js-choice-result');

        diorV7.DOMStateManager.hide($choices);
        //show exchange or refund instructions and hide the other 
        if (_selectedIndex == 1) {
            diorV7.DOMStateManager.show($thisProduct.find('.js-exchange-instruction'));
            $thisProduct.parents('.js-form:first').data('formValidator').refreshListeners();
        } else {
            diorV7.DOMStateManager.show($thisProduct.find('.js-refund-instruction'));
        }
    },


    // reinit forms and toggle "active" class on products checkbox change 
    onProductCheckboxChange: function onProductCheckboxChange(e) {
        var $thisProduct = $(e.target).parents('.js-product');
        var $choiceFormParent = $thisProduct.find('.js-account-product-choice');
        var $choiceForm = $choiceFormParent.find('.main-form');
        var $choices = $thisProduct.find('.js-choice-result');

        if ($(e.target).is(':checked')) {
            diorV7.DOMStateManager.show($choiceFormParent);
            $thisProduct.addClass('active');
        } else {
            $thisProduct.removeClass('active');
            diorV7.DOMStateManager.hide($choiceFormParent);
            diorV7.DOMStateManager.hide($choices);
            $choiceForm.find('.js-select').prop('selectedIndex', 0);
            $choiceForm.find('.js-select').each(function () {
                $(this).data('customSelect').refresh();
            });
        }
    },


    //get products from DOM in order to build step 3 
    getDataForStep3: function getDataForStep3() {
        this.returnRecap.products = {};
        this.returnRecap.products.exchanges = [];
        this.returnRecap.products.refunds = [];
        var $this = void 0;

        $('.js-product.active').each(function () {
            $this = $(this);
            var _returnType = $this.find('.js-change-choice').find('option:selected')[0].value;
            var _returnReason = $this.find('.js-motif-choice').find('option:selected')[0].value;
            var _comment = $this.find('textarea').val();
            var _product = {
                identifier: $this.attr('data-identifier'),
                name: $this.find('.js-name').text(),
                price: $this.find('.js-price').text(),
                title: $this.find('.js-title').text(),
                description: $this.find('.js-description').text(),
                size: $this.find('.js-size').attr('data-size'),
                intensity: $this.find('.js-intensity').attr('data-intensity'),
                reference: $this.find('.js-reference').attr('data-reference'),
                returnType: _returnType,
                returnReason: _returnReason,
                comment: _comment,
                quantity: $this.attr('data-quantity')
            };

            if (_returnType === "exchange") {
                accountReturn.returnRecap.products.exchanges.push(_product);
            } else {
                accountReturn.returnRecap.products.refunds.push(_product);
            }
        });
    },


    //get data from DOM for addess and hour 
    getReturnRecapDataFromDOM: function getReturnRecapDataFromDOM() {
        var $this = void 0;
        this.returnRecap.address = {};
        this.returnRecap.time = "";
        var $address = $('.js-account-address:visible');

        this.returnRecap.order_id = $('.js-order-id').text();

        //if address modify's form is open, use form's values, else use option's value
        this.returnRecap.address = $.parseJSON($('.js-change-adress').val());

        // define Time slot
        this.returnRecap.time = this.$el.find('.js-choose-hour-container input[type="radio"][name="return-times"]:checked').val();
    },
    renderStep3: function renderStep3() {
        var $addressModifyForm = $('.js-address-modify-form');

        if ($addressModifyForm.attr('aria-expanded') && $addressModifyForm.attr('aria-expanded') !== 'false') accountReturn.updateAddressFromForm($addressModifyForm);
        var $step3 = accountReturn.$el.find('.js-step3-content');
        var $wording = $step3.data('wording');
        var returnReasons = {};
        //remove ui-state-active class 
        accountReturn.$el.find('#calendar .ui-state-active').removeClass('ui-state-active');
        //get products data
        accountReturn.getDataForStep3();
        // create object from DOM For Templating 
        accountReturn.$el.find('.js-motif-choice:first option').each(function () {
            returnReasons[this.value] = this.innerText;
        });

        $step3.html(_templates2.default.account.returnStep3({
            productsExchanges: accountReturn.returnRecap.products.exchanges,
            productsRefunds: accountReturn.returnRecap.products.refunds,
            wording: $wording,
            returnReasons: returnReasons
        }));
    },
    updateAddressFromForm: function updateAddressFromForm() {
        var $addressSelect = accountReturn.$el.find('.js-change-adress');
        var _address = $.parseJSON($addressSelect.val());

        var $form = $('.js-address-modify-form');
        _address.title = $form.find('.js-account-return-title').val();
        _address.firstname = $form.find('.js-account-return-firstname').val();
        _address.lastname = $form.find('.js-account-return-lastname').val();
        _address.address = $form.find('.js-account-return-address').val();
        _address.zipcode = $form.find('.js-account-return-zipcode').val();
        _address.city = $form.find('.js-account-return-city').val();
        _address.country = $form.find('.js-account-return-country').val();
        _address.phone = $form.find('.js-account-return-phone').val();

        _address = JSON.stringify(_address);
        $addressSelect.find('option:selected').val(_address);
        accountReturn.onAddressChange.call($addressSelect);
    },


    // submit recap object thanks to hidden form
    onSubmit: function onSubmit(e) {

        e.preventDefault();
        accountReturn.getReturnRecapDataFromDOM();
        $('#return-data').val(JSON.stringify(accountReturn.returnRecap)).parents('form:first').submit();
    },

    initAccordionsAddresses: function initAccordionsAddresses($el) {
        var _this = this;

        $el.find('.js-address-accordion').each(function (i, el) {
            new diorV7.Accordion($(el), function (toggled, $section) {
                if (toggled) {
                    if ($section.is('.js-form') && $section.data('formValidator')) {
                        $section.data('formValidator').refreshListeners();
                        $section.data('serialized', $section.serialize());
                    }
                } else {
                    if ($section.data('serialized')) {
                        _this.resetFormFromSerialized($section);
                    }
                }
            });
        });
    },
    initAccordionsSteps: function initAccordionsSteps($el) {
        var _this2 = this;

        var _accordions = {};

        $el.find('.js-accordion-spec').each(function (i, el) {
            _accordions[$(el).data('accordion-target')] = new diorV7.Accordion($(el), {
                scroll: false,
                onToggle: function onToggle(toggled, $section) {
                    if (toggled) {
                        if ($section.is('.js-form') && $section.data('formValidator')) {
                            $section.data('formValidator').refreshListeners();
                            $section.data('serialized', $section.serialize());
                        }
                    } else {
                        if ($section.data('serialized')) {
                            _this2.resetFormFromSerialized($section);
                        }
                    }
                }
            });
        });

        var _fistStepId = $el.find('.accordion-section:first').attr('id');
        var _$firstStepTrigger = $el.find('.js-accordion-spec[data-accordion-target="#' + _fistStepId + '"]');
        _accordions[_$firstStepTrigger.data('accordion-target')].toggle(null, _$firstStepTrigger);
    },


    /**
     * When user clicks on cancel form is reset to serialized data set on opening.
     * We go though serialized data and apply values to form
     */
    resetFormFromSerialized: function resetFormFromSerialized($form) {
        var $el = void 0;
        var vals = void 0;

        $.each($form.data('serialized').split('&'), function (index, elem) {
            vals = elem.split('=');
            $el = $form.find('[name="' + vals[0] + '"]');

            $el.val(decodeURIComponent(vals[1].replace(/\+/g, ' ')));

            if ($el.is('select') && $el.data('customSelect')) {
                $el.data('customSelect').refresh();
            }
        });
    },
    updatePickupTime: function updatePickupTime(date) {
        accountReturn.getReturnRecapDataFromDOM();
        $.ajax({
            url: diorV7.config.webservices.ACCOUNT.RETURN_PICKUP_TIME.url,
            method: diorV7.config.webservices.ACCOUNT.RETURN_PICKUP_TIME.method,
            xhrFields: diorV7.config.webservices.ACCOUNT.RETURN_PICKUP_TIME.xhrFields,
            data: {
                date: date,
                postcode: accountReturn.returnRecap.address.zipcode,
                city: accountReturn.returnRecap.address.city,
                country: accountReturn.returnRecap.address.country
            },
            success: function success(html) {
                accountReturn.$chooseHourForm.find('.js-radio-container').html(html).parents('.js-form').data('formValidator').refreshListeners();
                diorV7.DOMStateManager.show(accountReturn.$chooseHourForm);
            }
        });
    }
};

exports.default = accountReturn;

},{"../../templates.js":24}],18:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _templates = require("../../templates.js");

var _templates2 = _interopRequireDefault(_templates);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var accountVideos = {

    deleting: false,
    init: function init($el) {
        this.$el = $el;
        this.$deleteToggle = $el.find(".js-delete-toggle");
        this.$deleteCancel = $el.find(".js-delete-cancel");
        this.$deleteConfirm = $el.find(".js-delete-confirm");
        this.$videoGrid = $el.find('.js-grid-video');
        this.$videoForm = this.$videoGrid.parents('form:first');
        this.$checkboxes = this.$videoGrid.find('input[type = "checkbox"]');

        diorV7.helpers.registerHandlebarsHelper('times');
        $(document).ready(function () {
            if (!diorV7.data.account) diorV7.data.account = {};
            diorV7.data.account.videos = [];
            accountVideos.getVideoDataFromDOM();
        });

        this.$deleteToggle.on('click', function (e) {
            e.preventDefault();
            accountVideos.toggleDelete(true);
        });

        this.$deleteCancel.on('click', function (e) {
            e.preventDefault();
            accountVideos.toggleDelete(false);
        });

        this.$videoForm.on('submit', this.deleteVideos);
    },
    toggleDelete: function toggleDelete(deleting) {
        this.deleting = typeof deleting !== 'undefined' ? deleting : !this.deleting;
        if (this.deleting) {
            diorV7.DOMStateManager.hide(accountVideos.$deleteToggle.parent('li:first'));
            diorV7.DOMStateManager.show(accountVideos.$deleteCancel.parent('li:first'));
            diorV7.DOMStateManager.show(accountVideos.$deleteConfirm.parent('li:first'));
            accountVideos.$videoForm.addClass('is-deleting');
        } else {
            this.$videoGrid.find('input:checked').prop('checked', false);
            diorV7.DOMStateManager.show(accountVideos.$deleteToggle.parent('li:first'));
            diorV7.DOMStateManager.hide(accountVideos.$deleteCancel.parent('li:first'));
            diorV7.DOMStateManager.hide(accountVideos.$deleteConfirm.parent('li:first'));
            accountVideos.$videoForm.removeClass('is-deleting');
        }
    },
    getVideoDataFromDOM: function getVideoDataFromDOM() {

        var $this = void 0;
        var popinData = void 0;
        $('.js-account-video').each(function () {
            $this = $(this);
            popinData = $this.find('.js-popin-player-trigger').data('options');
            diorV7.data.account.videos.push({
                id: $this.find('input[type="checkbox"]').val(),
                title: $this.find('figcaption').text(),
                poster: $this.find('img').attr('src'),
                mmmID: popinData.mmmID,
                url: popinData.url,
                duration: $this.find('.timer').text()
            });
        });
    },
    renderVideos: function renderVideos() {
        this.$videoGrid.html(_templates2.default.account.videos({
            videos: diorV7.data.account.videos,
            extraTD: diorV7.data.account.videos.length < 3 ? 3 - diorV7.data.account.videos.length : 0
        }));

        diorV7.popinManager.initVideoPopin();
        diorV7.DOMStateManager.toggleHidden(this.$el.find('.js-account-videos-empty'), diorV7.data.account.videos.length);
        diorV7.DOMStateManager.toggleHidden(this.$el.find('.js-account-videos-list'), !diorV7.data.account.videos.length);
        if (this.$videoForm.data('formValidator')) this.$videoForm.data('formValidator').refreshListeners();
    },
    deleteVideos: function deleteVideos(e) {
        e.preventDefault();
        $.ajax({
            url: diorV7.config.webservices.ACCOUNT.VIDEOS.DELETE.url,
            type: diorV7.config.webservices.ACCOUNT.VIDEOS.DELETE.method,
            data: accountVideos.$videoForm.serialize(),
            xhrFields: diorV7.config.webservices.ACCOUNT.VIDEOS.DELETE.xhrFields,
            success: function success(data) {
                if (!data.errorCode) {
                    accountVideos.$videoGrid.find('input:checked').each(function () {
                        accountVideos.deleteVideo($(this).val());
                    });
                    accountVideos.renderVideos();
                    accountVideos.toggleDelete(0);
                }
            }
        });
    },
    deleteVideo: function deleteVideo(videoId) {
        var _index = void 0;
        for (var i = 0, j = diorV7.data.account.videos.length; i < j; ++i) {
            if (diorV7.data.account.videos[i].id === videoId) {
                _index = i;
                break;
            }
        }

        if (typeof _index !== 'undefined') {
            diorV7.data.account.videos.splice(_index, 1);
            return true;
        } else {
            return false;
        }
    }
};

exports.default = accountVideos;

},{"../../templates.js":24}],19:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _PopinAjaxForm = require('../../components/popins/PopinAjaxForm.js');

var _PopinAjaxForm2 = _interopRequireDefault(_PopinAjaxForm);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var accountWishlist = {

    update: false,

    init: function init($el) {
        var _this = this;

        this.$el = $el;

        // DEV WARNING
        // In this page, you must be connected, to initialize Wishlist
        if (!diorV7.Account.connected) {
            console.warn('[Account]: missing he_connected=true in url to set cookie. You must be connected to access your wishlist.');
        }

        // Wishlist module init triggers on initial get success
        // listen to removed
        // -> not for now, but maybe one day a product will be removable from roll, and must be removed in page Account
        diorV7.WishListModule.on('removed', function (universe, identifier) {
            // we remove product in page only in case of removing
            // not if we change variant
            if (_this.update) {
                _this.update = false;
                return;
            }

            var $product = _this.$el.find('*[data-identifier="' + identifier + '"][data-universe="' + universe + '"]');
            if ($product.length) {
                _this.removeProduct($product);
            }
        });

        diorV7.popinManager.instanciate({
            identifier: 'share-wishlist',
            $el: $('.js-popin-share-wishlist'),
            $trigger: accountWishlist.$el.find('.js-open-share-popin'),
            webservice: diorV7.config.webservices.ACCOUNT.WISHLIST.SHARE
        }, _PopinAjaxForm2.default);

        this.$el.find('.js-select-size').on('change', function (e) {
            return _this.onSizeChange(e);
        });

        this.$el.find('.js-link').on('click', this.onLinkClick);

        this.$el.find('.js-impression').on('click', function (e) {
            e.preventDefault();
            window.print();
        });
    },
    removeProduct: function removeProduct($product) {

        $product.parents('.js-wishlist-product:first').remove();

        // if no more objects in wishlist
        if (!this.$el.find('.js-wishlist-product').length) {
            diorV7.DOMStateManager.hide(this.$el.find('.js-account-wishlist'));
            diorV7.DOMStateManager.show(this.$el.find('.js-account-wishlist-empty'));
        }
    },


    // event change variant
    // - if select a new sku, remove old from wishlist, and add new
    // diorV7.WishListModule.add( _universe, _id );
    // diorV7.WishListModule.remove( _universe, _id );
    onSizeChange: function onSizeChange(e) {

        var $sizeSelect = $(e.currentTarget);
        var $parent = $sizeSelect.parents('.js-wishlist-product');
        var variant = $.parseJSON($sizeSelect.val());
        var _origin = $sizeSelect.attr('data-universe').toUpperCase() || 'PCD';

        diorV7.DOMStateManager.toggleHidden($parent.find('.js-size'), !variant.availability);
        if (variant.unitPriceWithCurrency) $parent.find('.js-price').text(variant.unitPriceWithCurrency);

        $parent.find('.js-wishlist-delete').attr('data-identifier', variant.identifier);

        if (variant.availability) {
            $.ajax({
                url: diorV7.config.webservices.ACCOUNT.WISHLIST[_origin].UPDATE_PRODUCT.url,
                type: diorV7.config.webservices.ACCOUNT.WISHLIST[_origin].UPDATE_PRODUCT.method,
                data: {
                    identifier: $sizeSelect.attr('data-identifier'),
                    market: $sizeSelect.attr('data-market'),
                    newIdentifier: variant.identifier
                },
                xhrFields: diorV7.config.webservices.ACCOUNT.WISHLIST[_origin].UPDATE_PRODUCT.xhrFields,
                success: function success(response) {
                    if (response.errorCode) console.error(response);else {
                        diorV7.DOMStateManager.hide($parent.find('.js-unavailable'));
                        $parent.find('.js-wishlist-delete').attr('data-identifier', variant.identifier);
                        $parent.find('.js-ref').html('Réf : ' + variant.identifier);

                        if ($parent.find('.js-direct-addtocart').length) {
                            diorV7.DOMStateManager.show($parent.find('.js-direct-addtocart').attr('data-sku', variant.identifier).prop('disabled', false));
                        } else {
                            diorV7.DOMStateManager.show($parent.find('.js-link').attr('data-href', variant.url).prop('disabled', false));
                        }

                        $parent.find('.js-size').find('span').text(variant.size);
                        $sizeSelect.data('customSelect').destroy();
                        $sizeSelect.parents('form:first').remove();
                        $sizeSelect = null;
                    }
                },
                error: function error(_error) {
                    console.error(_error);
                }
            });
        } else {
            diorV7.DOMStateManager.show($parent.find('.js-unavailable'));
            diorV7.DOMStateManager.hide($parent.find('.js-direct-addtocart, .js-link'));
        }
    },
    onLinkClick: function onLinkClick(e) {
        e.preventDefault();
        window.location = $(this).attr('data-href');
    }
};

exports.default = accountWishlist;

},{"../../components/popins/PopinAjaxForm.js":5}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _PopinZipcode = require('../../components/popins/PopinZipcode.js');

var _PopinZipcode2 = _interopRequireDefault(_PopinZipcode);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var zipcode = {
    init: function init($el) {

        var $popinZipcode = $('.js-popin-zipcode');
        if ($popinZipcode.length) {
            diorV7.popinManager.instanciate({
                identifier: 'zipcode',
                $el: $popinZipcode,
                $trigger: $el.find('.js-open-zipcode-popin')
            }, _PopinZipcode2.default);
        }
    }
};

exports.default = zipcode;

},{"../../components/popins/PopinZipcode.js":7}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _equalHeight = require('../modules/equalHeight.js');

var _equalHeight2 = _interopRequireDefault(_equalHeight);

var _templates = require('../templates.js');

var _templates2 = _interopRequireDefault(_templates);

var _PopinStockAlert = require('../components/popins/PopinStockAlert.js');

var _PopinStockAlert2 = _interopRequireDefault(_PopinStockAlert);

var _Tags2 = require('../components/Tags.js');

var _Tags3 = _interopRequireDefault(_Tags2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var home = {
	actusSlider: null,
	slideInterval: null,
	slideHoverSpeed: 1000,
	init: function init() {

		$('.js-tag-wrapper').each(function (i, el) {
			var _Tags = new _Tags3.default($(el));
		});

		var _$slider = $('.js-actus-slider');
		var _infiniteLoop = _$slider.find('.js-push').length > 3;
		var _touchEnabled = window.diorV7.helpers.isTactile();

		this.actusSlider = _$slider.bxSlider({
			slideWidth: 440,
			minSlides: 3,
			maxSlides: 3,
			moveSlides: 1,
			infiniteLoop: _infiniteLoop,
			touchEnabled: _touchEnabled,
			slideMargin: 40,
			pager: false,
			prevSelector: '.js-slider-control--prev',
			nextSelector: '.js-slider-control--next',
			onSlideBefore: function onSlideBefore(currentSlideHtmlObject) {
				$('.js-slider-control').removeClass('control-opacity');
			},
			onSlideAfter: function onSlideAfter(currentSlideHtmlObject) {
				$('.js-slider-control').addClass('control-opacity');
			}
		});

		if ($('.js-random-product').length) {
			diorV7.helpers.registerHandlebarsHelper('ifCond');
			$.ajax({
				url: diorV7.config.webservices.HOME.RANDOM.url,
				type: diorV7.config.webservices.HOME.RANDOM.method,
				xhrFields: diorV7.config.webservices.HOME.RANDOM.xhrFields,
				success: function success(data) {
					var pushesTab = [];
					var l = data.length;
					var eventCategory = diorV7.tracking.getEventCategory();
					// loop through each items and randomly push to new array
					while (l--) {
						var _randomIndex = Math.random() * l;
						pushesTab.push(data.splice(_randomIndex, 1)[0]);
					}

					$('.js-random-product').each(function (i) {
						pushesTab[i].eventCategory = eventCategory;
						$(this).html(_templates2.default.home.product(pushesTab[i]));
					});

					diorV7.wishListModule.updateTriggers();
				}
			});
		}

		if ($('.js-open-popin-stock-alert').length) {
			this.stockAlertPopin = diorV7.popinManager.instanciate({
				identifier: 'stock-alert',
				$el: $('.js-popin-stock-alert'),
				$trigger: $('.js-open-popin-stock-alert'),
				webservice: diorV7.config.webservices.PRODUCT.STOCK_ALERT
			}, _PopinStockAlert2.default);
		}

		this.onResize();
		$(window).resize(this.onResize.bind(this));
	},
	onResize: function onResize() {
		// Dynamic margin for grid:
		//  _______
		// |   |   |
		// | 1 |---|
		// |___|___|
		//
		// For in-store CDC block - 3 pushes case
		// requirement:
		// - 1 .js-main-col: target height
		// - 2 .js-col: aside col that need to fit .js-main-col (and contains .js-push)
		if ($('.js-dynamic-margin').length) {

			var mainColHeight = $('.js-main-col').height();

			var colHeight = void 0;
			$('.js-col .js-push').each(function () {
				colHeight = $(this).height();
			});
			colHeight += colHeight;

			var marginHeight = mainColHeight - colHeight;

			$('.js-col .row:first').css('margin-bottom', marginHeight);
		}
	}
};

exports.default = home;

},{"../components/Tags.js":3,"../components/popins/PopinStockAlert.js":6,"../modules/equalHeight.js":10,"../templates.js":24}],22:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _equalHeight = require('../modules/equalHeight.js');

var _equalHeight2 = _interopRequireDefault(_equalHeight);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var prehome = {
	init: function init() {

		//Cover slider
		if ($('.js-cover-slider')) {

			$('.js-cover-slider').bxSlider({
				mode: 'fade',
				infiniteLoop: true,
				pager: false,
				prevSelector: '.js-slider-control--prev',
				nextSelector: '.js-slider-control--next',
				nextText: '',
				prevText: '',
				auto: true
			});
		}

		this.onResize();

		this._onResize = this.onResize.bind(this);

		$('.page-prehome img').onImagesLoaded(this._onResize);
		$(window).resize(this._onResize);
	},
	onResize: function onResize() {
		// Equalize columns
		$('.js-equal-cols').each(function () {
			_equalHeight2.default.equalize('.js-equal-cols');
		});
	}
};

exports.default = prehome;

},{"../modules/equalHeight.js":10}],23:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _LegalForm = require('../components/LegalForm.js');

var _LegalForm2 = _interopRequireDefault(_LegalForm);

var _templates = require('../templates.js');

var _templates2 = _interopRequireDefault(_templates);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var sampling = {

    $legalNewsletter: $('.js-popin-newsletter-legal'),
    citiesSlider: null,

    init: function init($el) {
        var _this = this;

        this.$el = $el;

        if ($('.js-cities-list').length) {
            this.$el.find('.js-select').on('change', this.citiesFilter.bind(this));

            this.$el.on('click', '.js-shop .js-link', function (e) {
                e.preventDefault();
                var $this = $(e.currentTarget);
                $('.js-link').removeClass('link--active');
                $this.addClass('link--active');
                $('.js-button').show();
            });

            this.$el.find('.js-slider-control').on('click', function () {
                _this.updateCitiesPagination($el);
            });
        }

        // LEGAL TERM
        if (this.$legalNewsletter.length) {
            this.initLegalPopin($el);
        } else {
            this.$el.find('.js-sampling-form').on('submit', function () {
                _this.getSampling($el);
            });
        }
    },
    citiesFilter: function citiesFilter(e) {
        var city = e.currentTarget.value;

        // Clear
        if (this.citiesSlider) this.citiesSlider.destroySlider();
        $('.js-cities-pagination').css('visibility', 'hidden');
        $('.js-button').hide();
        $('.js-shops').css('visibility', 'visible');

        diorV7.helpers.registerHandlebarsHelper('ifCond');
        $('.js-shops').empty().append(_templates2.default.sampling.cities(window.SamplingShops[city]));

        var numPage = $('.js-page-slider').length;
        if (numPage > 1) {

            // Pagination
            $('.js-cities-pagination').css('visibility', 'visible');
            $('.js-total-pages').html(numPage);
            $('.js-current-page').html('1');

            this.citiesSlider = $('.js-cities-slider').bxSlider({
                pager: false,
                infiniteLoop: false,
                hideControlOnEnd: true,
                prevSelector: '.js-slider-control--prev',
                nextSelector: '.js-slider-control--next',
                prevText: '',
                nextText: ''
            });
        }
    },
    updateCitiesPagination: function updateCitiesPagination($el) {
        var currentPage = this.citiesSlider.getCurrentSlide() + 1;
        $el.find($('.js-current-page').html(currentPage));
    },
    initLegalPopin: function initLegalPopin($el) {
        var _this2 = this;

        diorV7.popinManager.instanciate({
            identifier: 'newsletter-legal',
            $el: this.$legalNewsletter,
            triggerEvents: 1
        });

        var legalAccepted = false;

        /**
         * Newsletter legal form calls a callback on submit
         * On submit, set conditions to accepted and call
         * submit on the form below popin to send information
         * If legalAccepted is false the form below will not be
         * sent
         */
        var newsletterLegal = new _LegalForm2.default(this.$legalNewsletter, function (e) {
            e.preventDefault();
            legalAccepted = true;
            _this2.getSampling($el);
        });

        // updates scroll when popin is opened
        diorV7.popinManager.popins['newsletter-legal'].on('opened', function () {
            newsletterLegal.show();
        });

        $el.find('.js-sampling-form').on('submit', function (e) {
            if (!legalAccepted && $el.find('.js-sampling-form input:checked').length) {
                e.preventDefault();
                diorV7.popinManager.popins['newsletter-legal'].open();
            }
        });
    },
    getSampling: function getSampling($el) {
        $.ajax({
            url: diorV7.config.webservices.SAMPLING.REQUEST.url,
            type: diorV7.config.webservices.SAMPLING.REQUEST.method,
            data: this.$el.find('.js-sampling-form').serialize(),
            xhrFields: diorV7.config.webservices.SAMPLING.REQUEST.xhrFields,
            success: function success(data) {
                //
            }
        });
    }
};

exports.default = sampling;

},{"../components/LegalForm.js":2,"../templates.js":24}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function tpl() {
    this["app"] = window.diorV7.Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function main(container, depth0, helpers, partials, data) {
            return "";
        }, "useData": true });
    this["account"] = this["account"] || {};
    this["account"]["returnStep3"] = window.diorV7.Handlebars.template({ "1": function _(container, depth0, helpers, partials, data) {
            var stack1;

            return " " + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.productsExchanges : depth0, { "name": "each", "hash": {}, "fn": container.program(2, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " ";
        }, "2": function _(container, depth0, helpers, partials, data) {
            var stack1,
                helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = helpers.helperMissing,
                alias3 = "function",
                alias4 = container.escapeExpression,
                alias5 = container.lambda;

            return "    <div class=\"resume-product\" id=\"" + alias4((helper = (helper = helpers.identifier || (depth0 != null ? depth0.identifier : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "identifier", "hash": {}, "data": data }) : helper)) + "\"> <p> " + alias4(alias5((stack1 = (stack1 = data && data.root) && stack1.wording) && stack1.exchangeTitle, depth0)) + " </p> " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.name : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.title : depth0, { "name": "if", "hash": {}, "fn": container.program(5, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.description : depth0, { "name": "if", "hash": {}, "fn": container.program(7, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " <span>" + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.reference : depth0, { "name": "if", "hash": {}, "fn": container.program(9, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.size : depth0, { "name": "if", "hash": {}, "fn": container.program(11, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.intensity : depth0, { "name": "if", "hash": {}, "fn": container.program(13, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.price : depth0, { "name": "if", "hash": {}, "fn": container.program(15, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</span> " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.returnReason : depth0, { "name": "if", "hash": {}, "fn": container.program(18, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " <span class=\"note\">" + alias4(alias5((stack1 = (stack1 = data && data.root) && stack1.wording) && stack1.exchangeGift, depth0)) + " </span> <p>" + alias4((helper = (helper = helpers.commentaire || (depth0 != null ? depth0.commentaire : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "commentaire", "hash": {}, "data": data }) : helper)) + "</p> </div> ";
        }, "3": function _(container, depth0, helpers, partials, data) {
            var helper;

            return "<h3>" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</h3>";
        }, "5": function _(container, depth0, helpers, partials, data) {
            var helper;

            return "<span>" + container.escapeExpression((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "title", "hash": {}, "data": data }) : helper)) + "</span>";
        }, "7": function _(container, depth0, helpers, partials, data) {
            var helper;

            return "<span>" + container.escapeExpression((helper = (helper = helpers.description || (depth0 != null ? depth0.description : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "description", "hash": {}, "data": data }) : helper)) + "</span>";
        }, "9": function _(container, depth0, helpers, partials, data) {
            var helper;

            return container.escapeExpression((helper = (helper = helpers.reference || (depth0 != null ? depth0.reference : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "reference", "hash": {}, "data": data }) : helper));
        }, "11": function _(container, depth0, helpers, partials, data) {
            var helper;

            return ", " + container.escapeExpression((helper = (helper = helpers.size || (depth0 != null ? depth0.size : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "size", "hash": {}, "data": data }) : helper));
        }, "13": function _(container, depth0, helpers, partials, data) {
            var helper;

            return ", " + container.escapeExpression((helper = (helper = helpers.intensity || (depth0 != null ? depth0.intensity : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "intensity", "hash": {}, "data": data }) : helper));
        }, "15": function _(container, depth0, helpers, partials, data) {
            var stack1,
                helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = container.escapeExpression;

            return ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.reference : depth0, { "name": "if", "hash": {}, "fn": container.program(16, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + alias2(container.lambda((stack1 = (stack1 = data && data.root) && stack1.wording) && stack1.price, depth0)) + " " + alias2((helper = (helper = helpers.price || (depth0 != null ? depth0.price : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(alias1, { "name": "price", "hash": {}, "data": data }) : helper));
        }, "16": function _(container, depth0, helpers, partials, data) {
            return ", ";
        }, "18": function _(container, depth0, helpers, partials, data) {
            var stack1;

            return "<span>(" + ((stack1 = (helpers.keyInObject || depth0 && depth0.keyInObject || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.returnReason : depth0, (stack1 = data && data.root) && stack1.returnReasons, { "name": "keyInObject", "hash": {}, "fn": container.program(19, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ")</span>";
        }, "19": function _(container, depth0, helpers, partials, data) {
            return "";
        }, "21": function _(container, depth0, helpers, partials, data) {
            var stack1;

            return " " + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.productsRefunds : depth0, { "name": "each", "hash": {}, "fn": container.program(22, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " ";
        }, "22": function _(container, depth0, helpers, partials, data) {
            var stack1,
                helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = container.escapeExpression,
                alias3 = container.lambda;

            return "    <div class=\"resume-product\" id=\"" + alias2((helper = (helper = helpers.identifier || (depth0 != null ? depth0.identifier : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(alias1, { "name": "identifier", "hash": {}, "data": data }) : helper)) + "\"> <p> " + alias2(alias3((stack1 = (stack1 = data && data.root) && stack1.wording) && stack1.refundTitle, depth0)) + " </p> " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.name : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.title : depth0, { "name": "if", "hash": {}, "fn": container.program(5, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.description : depth0, { "name": "if", "hash": {}, "fn": container.program(7, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " <span>" + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.reference : depth0, { "name": "if", "hash": {}, "fn": container.program(9, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.size : depth0, { "name": "if", "hash": {}, "fn": container.program(11, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.intensity : depth0, { "name": "if", "hash": {}, "fn": container.program(13, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.price : depth0, { "name": "if", "hash": {}, "fn": container.program(15, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</span> " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.returnReason : depth0, { "name": "if", "hash": {}, "fn": container.program(18, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " <span class=\"note\">" + alias2(alias3((stack1 = (stack1 = data && data.root) && stack1.wording) && stack1.refundGift, depth0)) + "</span> <p>" + alias2(alias3((stack1 = (stack1 = data && data.root) && stack1.wording) && stack1.refundNote, depth0)) + "</p> </div> ";
        }, "compiler": [7, ">= 4.0.0"], "main": function main(container, depth0, helpers, partials, data) {
            var stack1,
                alias1 = depth0 != null ? depth0 : {};

            return ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.productsExchanges : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.productsRefunds : depth0, { "name": "if", "hash": {}, "fn": container.program(21, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "");
        }, "useData": true });
    this["account"] = this["account"] || {};
    this["account"]["videos"] = window.diorV7.Handlebars.template({ "1": function _(container, depth0, helpers, partials, data) {
            var stack1,
                alias1 = depth0 != null ? depth0 : {};

            return " " + ((stack1 = helpers.each.call(alias1, depth0 != null ? depth0.videos : depth0, { "name": "each", "hash": {}, "fn": container.program(2, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = (helpers.times || depth0 && depth0.times || helpers.helperMissing).call(alias1, depth0 != null ? depth0.extraTD : depth0, { "name": "times", "hash": {}, "fn": container.program(10, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</tr> ";
        }, "2": function _(container, depth0, helpers, partials, data) {
            var stack1,
                helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = helpers.helperMissing,
                alias3 = "function",
                alias4 = container.escapeExpression;

            return ((stack1 = helpers.unless.call(alias1, data && data.index, { "name": "unless", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + " <td class=\"video-container js-account-video\"> <figure class=\"js-popin-player-trigger\" data-options='{ \"mmmID\": \"" + alias4((helper = (helper = helpers.mmmID || (depth0 != null ? depth0.mmmID : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "mmmID", "hash": {}, "data": data }) : helper)) + "\", \"url\": \"" + alias4((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "url", "hash": {}, "data": data }) : helper)) + "\", \"autoplay\": true, \"fullscreen\": true }'> <span class=\"poster-wrapper\"> <img src=\"" + alias4((helper = (helper = helpers.poster || (depth0 != null ? depth0.poster : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "poster", "hash": {}, "data": data }) : helper)) + "\" alt=\"\"> <span class=\"timer\">" + alias4((helper = (helper = helpers.duration || (depth0 != null ? depth0.duration : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "duration", "hash": {}, "data": data }) : helper)) + "</span> </span> <figcaption> " + alias4((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "title", "hash": {}, "data": data }) : helper)) + " </figcaption> </figure> <div class=\"form-field\"> <input type=\"checkbox\" name=\"videos\" value=\"" + alias4((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "id", "hash": {}, "data": data }) : helper)) + "\" id=\"video-" + alias4((helper = (helper = helpers.index || data && data.index) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "index", "hash": {}, "data": data }) : helper)) + "\"  data-validation-group=\"account-videos-checkbox\"> <label for=\"video-" + alias4((helper = (helper = helpers.index || data && data.index) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "index", "hash": {}, "data": data }) : helper)) + "\" class=\"form-checkbox\">video " + alias4((helper = (helper = helpers.index || data && data.index) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "index", "hash": {}, "data": data }) : helper)) + "</label> </div> </td> ";
        }, "3": function _(container, depth0, helpers, partials, data) {
            return "		<tr> ";
        }, "5": function _(container, depth0, helpers, partials, data) {
            var stack1;

            return " " + ((stack1 = (helpers.ifCond || depth0 && depth0.ifCond || helpers.helperMissing).call(depth0 != null ? depth0 : {}, data && data.index, "%", 3, { "name": "ifCond", "hash": {}, "fn": container.program(6, data, 0), "inverse": container.program(8, data, 0), "data": data })) != null ? stack1 : "") + " ";
        }, "6": function _(container, depth0, helpers, partials, data) {
            return "";
        }, "8": function _(container, depth0, helpers, partials, data) {
            return "			</tr><tr> ";
        }, "10": function _(container, depth0, helpers, partials, data) {
            return "	<td></td> ";
        }, "compiler": [7, ">= 4.0.0"], "main": function main(container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.videos : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "useData": true });
    this["home"] = this["home"] || {};
    this["home"]["product"] = window.diorV7.Handlebars.template({ "1": function _(container, depth0, helpers, partials, data) {
            return "";
        }, "3": function _(container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "			<button class=\"button button--dark\" data-sku=\"" + container.escapeExpression((helper = (helper = helpers.sku || (depth0 != null ? depth0.sku : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "sku", "hash": {}, "data": data }) : helper)) + "\">" + ((stack1 = container.lambda((stack1 = depth0 != null ? depth0.eco : depth0) != null ? stack1.label : stack1, depth0)) != null ? stack1 : "") + "</button> ";
        }, "5": function _(container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = (helpers.ifCond || depth0 && depth0.ifCond || helpers.helperMissing).call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.eco : depth0) != null ? stack1.status : stack1, "===", 0, { "name": "ifCond", "hash": {}, "fn": container.program(6, data, 0), "inverse": container.program(8, data, 0), "data": data })) != null ? stack1 : "";
        }, "6": function _(container, depth0, helpers, partials, data) {
            var stack1;

            return "				<p>" + ((stack1 = container.lambda((stack1 = depth0 != null ? depth0.eco : depth0) != null ? stack1.label : stack1, depth0)) != null ? stack1 : "") + "</p> ";
        }, "8": function _(container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "				<a href=\"" + container.escapeExpression((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "url", "hash": {}, "data": data }) : helper)) + "\" class=\"button button--dark\">" + ((stack1 = container.lambda((stack1 = depth0 != null ? depth0.eco : depth0) != null ? stack1.label : stack1, depth0)) != null ? stack1 : "") + "</a> ";
        }, "compiler": [7, ">= 4.0.0"], "main": function main(container, depth0, helpers, partials, data) {
            var stack1,
                helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = helpers.helperMissing,
                alias3 = "function",
                alias4 = container.escapeExpression;

            return " <div class=\"push js-push push-eco\"> <a href=\"" + alias4((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "url", "hash": {}, "data": data }) : helper)) + "\" class=\"push-image push-image--border\"> <img src=\"" + alias4((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "image", "hash": {}, "data": data }) : helper)) + "\" alt=\"\"> <button class=\"icon icon-favorite js-wishlist-add\" data-identifier=\"" + alias4((helper = (helper = helpers.sku || (depth0 != null ? depth0.sku : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "sku", "hash": {}, "data": data }) : helper)) + "\" data-universe=\"" + alias4((helper = (helper = helpers.universe || (depth0 != null ? depth0.universe : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "universe", "hash": {}, "data": data }) : helper)) + "\" data-wishlist-tracking='{ \"event\":\"trackEvent\", \"eventCategory\":\"" + alias4((helper = (helper = helpers.eventCategory || (depth0 != null ? depth0.eventCategory : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "eventCategory", "hash": {}, "data": data }) : helper)) + "\", \"eventAction\":\"Add to Wishlist <NotConnected>\", \"eventLabel\": " + ((stack1 = (helpers.stringify || depth0 && depth0.stringify || alias2).call(alias1, depth0 != null ? depth0.name : depth0, { "name": "stringify", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " }'></button> </a> <div class=\"push-legend\"> <a href=\"" + alias4((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "url", "hash": {}, "data": data }) : helper)) + "\" class=\"push-text\"> <h4>" + alias4((helper = (helper = helpers.collection || (depth0 != null ? depth0.collection : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "collection", "hash": {}, "data": data }) : helper)) + "</h4> <p>" + alias4((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "name", "hash": {}, "data": data }) : helper)) + "</p> <span class=\"push-price\">" + alias4((helper = (helper = helpers.price || (depth0 != null ? depth0.price : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "price", "hash": {}, "data": data }) : helper)) + "</span> </a> <div class=\"push-button\"> " + ((stack1 = (helpers.ifCond || depth0 && depth0.ifCond || alias2).call(alias1, (stack1 = depth0 != null ? depth0.eco : depth0) != null ? stack1.status : stack1, "===", 1, { "name": "ifCond", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "		</div> </div> </div>";
        }, "useData": true });
    this["misc"] = this["misc"] || {};
    this["misc"]["zipcode"] = window.diorV7.Handlebars.template({ "1": function _(container, depth0, helpers, partials, data) {
            var helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = helpers.helperMissing,
                alias3 = "function",
                alias4 = container.escapeExpression;

            return "<tr class='js-select-zipcode zipcode-" + alias4((helper = (helper = helpers.index || data && data.index) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "index", "hash": {}, "data": data }) : helper)) + "' data-zipcode='" + alias4((helper = (helper = helpers.postcode6 || (depth0 != null ? depth0.postcode6 : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "postcode6", "hash": {}, "data": data }) : helper)) + "' data-address='" + alias4((helper = (helper = helpers.ko_common || (depth0 != null ? depth0.ko_common : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "ko_common", "hash": {}, "data": data }) : helper)) + alias4((helper = (helper = helpers.ko_jibeon || (depth0 != null ? depth0.ko_jibeon : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "ko_jibeon", "hash": {}, "data": data }) : helper)) + "' data-zipcode-new='" + alias4((helper = (helper = helpers.postcode5 || (depth0 != null ? depth0.postcode5 : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "postcode5", "hash": {}, "data": data }) : helper)) + "' data-address-new='" + alias4((helper = (helper = helpers.ko_common || (depth0 != null ? depth0.ko_common : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "ko_common", "hash": {}, "data": data }) : helper)) + alias4((helper = (helper = helpers.ko_doro || (depth0 != null ? depth0.ko_doro : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "ko_doro", "hash": {}, "data": data }) : helper)) + "'> <td class='first'><span>" + alias4((helper = (helper = helpers.postcode6 || (depth0 != null ? depth0.postcode6 : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "postcode6", "hash": {}, "data": data }) : helper)) + "</span><span class='new'>" + alias4((helper = (helper = helpers.postcode5 || (depth0 != null ? depth0.postcode5 : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "postcode5", "hash": {}, "data": data }) : helper)) + "</span></td> <td><span>" + alias4((helper = (helper = helpers.ko_common || (depth0 != null ? depth0.ko_common : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "ko_common", "hash": {}, "data": data }) : helper)) + alias4((helper = (helper = helpers.ko_jibeon || (depth0 != null ? depth0.ko_jibeon : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "ko_jibeon", "hash": {}, "data": data }) : helper)) + "</span><span class='new'>" + alias4((helper = (helper = helpers.ko_common || (depth0 != null ? depth0.ko_common : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "ko_common", "hash": {}, "data": data }) : helper)) + alias4((helper = (helper = helpers.ko_doro || (depth0 != null ? depth0.ko_doro : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "ko_doro", "hash": {}, "data": data }) : helper)) + "</span></td> </tr> ";
        }, "compiler": [7, ">= 4.0.0"], "main": function main(container, depth0, helpers, partials, data) {
            var stack1;

            return " " + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "");
        }, "useData": true });
    this["sampling"] = this["sampling"] || {};
    this["sampling"]["cities"] = window.diorV7.Handlebars.template({ "1": function _(container, depth0, helpers, partials, data) {
            var stack1,
                helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = helpers.helperMissing,
                alias3 = "function";

            return " " + ((stack1 = helpers.unless.call(alias1, data && data.index, { "name": "unless", "hash": {}, "fn": container.program(2, data, 0), "inverse": container.program(4, data, 0), "data": data })) != null ? stack1 : "") + " <li class=\"shop js-shop\" data-city=\"" + container.escapeExpression((helper = (helper = helpers.city || (depth0 != null ? depth0.city : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "city", "hash": {}, "data": data }) : helper)) + "\"> <a href=\"#\" class=\"js-link\"> <strong>" + ((stack1 = (helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "name", "hash": {}, "data": data }) : helper)) != null ? stack1 : "") + "</strong> <address>" + ((stack1 = (helper = (helper = helpers.address || (depth0 != null ? depth0.address : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "address", "hash": {}, "data": data }) : helper)) != null ? stack1 : "") + "</address> <span class=\"shop-city\">" + ((stack1 = (helper = (helper = helpers.city || (depth0 != null ? depth0.city : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "city", "hash": {}, "data": data }) : helper)) != null ? stack1 : "") + "</span> <span class=\"shop-phone\">" + ((stack1 = (helper = (helper = helpers.phone || (depth0 != null ? depth0.phone : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "phone", "hash": {}, "data": data }) : helper)) != null ? stack1 : "") + "</span> </a> </li> ";
        }, "2": function _(container, depth0, helpers, partials, data) {
            return "    <li class=\"page-slider js-page-slider\"><ul> ";
        }, "4": function _(container, depth0, helpers, partials, data) {
            var stack1;

            return " " + ((stack1 = (helpers.ifCond || depth0 && depth0.ifCond || helpers.helperMissing).call(depth0 != null ? depth0 : {}, data && data.index, "%", 8, { "name": "ifCond", "hash": {}, "fn": container.program(5, data, 0), "inverse": container.program(7, data, 0), "data": data })) != null ? stack1 : "") + " ";
        }, "5": function _(container, depth0, helpers, partials, data) {
            return "";
        }, "7": function _(container, depth0, helpers, partials, data) {
            return "    </ul></li> <li class=\"page-slider js-page-slider\"><ul> ";
        }, "compiler": [7, ">= 4.0.0"], "main": function main(container, depth0, helpers, partials, data) {
            var stack1;

            return ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</ul></li> ";
        }, "useData": true });
}exports.default = new tpl();

},{}]},{},[1])
;//Smile
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvanMvYXBwLmpzIiwiYXNzZXRzL2pzL2NvbXBvbmVudHMvTGVnYWxGb3JtLmpzIiwiYXNzZXRzL2pzL2NvbXBvbmVudHMvVGFncy5qcyIsImFzc2V0cy9qcy9jb21wb25lbnRzL3BvcGlucy9Qb3Bpbi5qcyIsImFzc2V0cy9qcy9jb21wb25lbnRzL3BvcGlucy9Qb3BpbkFqYXhGb3JtLmpzIiwiYXNzZXRzL2pzL2NvbXBvbmVudHMvcG9waW5zL1BvcGluU3RvY2tBbGVydC5qcyIsImFzc2V0cy9qcy9jb21wb25lbnRzL3BvcGlucy9Qb3BpblppcGNvZGUuanMiLCJhc3NldHMvanMvY29tcG9uZW50cy90YWcuanMiLCJhc3NldHMvanMvbW9kdWxlcy9EaXNwYXRjaGVyLmpzIiwiYXNzZXRzL2pzL21vZHVsZXMvZXF1YWxIZWlnaHQuanMiLCJhc3NldHMvanMvbW9kdWxlcy9zY3JvbGxUb0VsZW1lbnQuanMiLCJhc3NldHMvanMvbW9kdWxlcy9zdG9ja1N0YXR1cy5qcyIsImFzc2V0cy9qcy9wYWdlcy9hY2NvdW50LmpzIiwiYXNzZXRzL2pzL3BhZ2VzL2FjY291bnQvYWRkcmVzc2VzLmpzIiwiYXNzZXRzL2pzL3BhZ2VzL2FjY291bnQvY2FuY2VsLmpzIiwiYXNzZXRzL2pzL3BhZ2VzL2FjY291bnQvbmV3c2xldHRlcnMuanMiLCJhc3NldHMvanMvcGFnZXMvYWNjb3VudC9yZXR1cm4uanMiLCJhc3NldHMvanMvcGFnZXMvYWNjb3VudC92aWRlb3MuanMiLCJhc3NldHMvanMvcGFnZXMvYWNjb3VudC93aXNobGlzdC5qcyIsImFzc2V0cy9qcy9wYWdlcy9hY2NvdW50L3ppcGNvZGUuanMiLCJhc3NldHMvanMvcGFnZXMvaG9tZS5qcyIsImFzc2V0cy9qcy9wYWdlcy9wcmVob21lLmpzIiwiYXNzZXRzL2pzL3BhZ2VzL3NhbXBsaW5nLmpzIiwiYXNzZXRzL2pzL3RlbXBsYXRl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QUFLLFVBQVUsT0FBVixDQUFrQixDQUFsQixFQUFxQixJQUFyQixFQUEyQixDQUEzQixDQUE5QixFQUE0RCxXQUFVLFVBQVUsSUFBaEYsRUFBcUYsUUFBTyxJQUE1RixFQUF0RCxDQUFWLEtBQXVLLElBQXZLLEdBQThLLE1BQTlLLEdBQXVMLEVBQXhMLElBQ0gsYUFESjtBQUVELFNBakM4RCxFQWlDN0QsV0FBVSxJQWpDbUQsRUFBbEMsQ0FBN0I7QUFpQ29CLEMsa0JBQWdCLElBQUksR0FBSixFIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBwYWdlUHJlaG9tZSBmcm9tICcuL3BhZ2VzL3ByZWhvbWUuanMnO1xuaW1wb3J0IHBhZ2VIb21lIGZyb20gJy4vcGFnZXMvaG9tZS5qcyc7XG5pbXBvcnQgcGFnZUFjY291bnQgZnJvbSAnLi9wYWdlcy9hY2NvdW50LmpzJztcbmltcG9ydCBwYWdlU2FtcGxpbmcgZnJvbSAnLi9wYWdlcy9zYW1wbGluZy5qcyc7XG5pbXBvcnQgc3RvY2tTdGF0dXMgIGZyb20gJy4vbW9kdWxlcy9zdG9ja1N0YXR1cy5qcyc7XG5pbXBvcnQgc2Nyb2xsVG9FbGVtZW50ICBmcm9tICcuL21vZHVsZXMvc2Nyb2xsVG9FbGVtZW50LmpzJztcblxubGV0IGFwcCA9IHtcblxuICAgIHRvTG9hZDoge30sXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy4kbWFpbiA9ICQoJ21haW4nKTtcbiAgICAgICAgdGhpcy4kcGFnZSA9IHRoaXMuJG1haW4uY2hpbGRyZW4oXCJzZWN0aW9uXCIpO1xuICAgICAgICB0aGlzLiRwb3BpbldyYXBwZXIgPSAkKCcjcG9waW4td3JhcHBlcicpO1xuICAgICAgICB0aGlzLnBhZ2VJbml0KCB0aGlzLiRwYWdlLmF0dHIoJ2RhdGEtcGFnZScgKSApO1xuICAgICAgICB0aGlzLmluaXRGb3JtcygpO1xuICAgICAgICB0aGlzLmluaXRBY2NvcmRpb25zKCk7XG5cbiAgICAgICAgaWYgKGRpb3JWNy5oZWxwZXJzLmlzSUU5KCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2l6ZUdyaWRzKCk7XG4gICAgICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIHRoaXMuc2l6ZUdyaWRzLmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbml0UGxheWVycygpO1xuXG4gICAgICAgIHNjcm9sbFRvRWxlbWVudC5pbml0KCk7XG4gICAgICAgIHN0b2NrU3RhdHVzLmluaXQoKTtcbiAgICAgICAgZGlvclY3LnBvcGluTWFuYWdlci5pbml0VmlkZW9Qb3BpbigpO1xuICAgICAgICBkaW9yVjcudHJhY2tpbmcuaW5pdCh0aGlzLiRtYWluLmRhdGEoXCJ0cmFjay11bml2ZXJzZVwiKSwgdGhpcy4kbWFpbi5kYXRhKFwidHJhY2stcGFnZVwiKSk7XG5cbiAgICB9LFxuXG4gICAgcGFnZUluaXQocGFnZSkge1xuXG4gICAgICAgIHN3aXRjaChwYWdlKSB7XG4gICAgICAgICAgICBjYXNlICdwcmVob21lJzpcbiAgICAgICAgICAgICAgICBwYWdlUHJlaG9tZS5pbml0KCB0aGlzLiRwYWdlICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdob21lJzpcbiAgICAgICAgICAgICAgICBwYWdlSG9tZS5pbml0KCB0aGlzLiRwYWdlICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdhY2NvdW50JzpcbiAgICAgICAgICAgICAgICBwYWdlQWNjb3VudC5pbml0KCB0aGlzLiRwYWdlICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzYW1wbGluZyc6XG4gICAgICAgICAgICAgICAgcGFnZVNhbXBsaW5nLmluaXQoIHRoaXMuJHBhZ2UgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgfSxcblxuICAgIGluaXRGb3JtcygpIHtcblxuICAgICAgICB0aGlzLiRtYWluLmZpbmQoJy5qcy1mb3JtJykuZm9ybVZhbGlkYXRvcigpO1xuXG4gICAgICAgIHRoaXMuJG1haW4uZmluZCgnLmpzLXNlbGVjdCcpLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGV0ICR0aGlzID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgJHRoaXMuY3VzdG9tU2VsZWN0KHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0SW5MaXN0OiAkdGhpcy5oYXNDbGFzcygnanMtZGVmYXVsdC1pbi1saXN0JykgLy9zaG91bGQgZGVmYXVsdCBvcHRpb24gc2hvdyBpbiBsaXN0XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiRtYWluLmZpbmQoJy5qcy1tYXNrJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykuZmllbGRNYXNrKCQodGhpcykuYXR0cignZGF0YS1tYXNrJykpO1xuICAgICAgICB9KTtcblxuICAgIH0sXG5cbiAgICBpbml0QWNjb3JkaW9ucygpIHtcblxuICAgICAgICB0aGlzLiRtYWluLmZpbmQoJy5qcy1hY2NvcmRpb24nKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgbmV3IGRpb3JWNy5BY2NvcmRpb24oICQoZWwpLCAodG9nZ2xlZCwgJHNlY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIHRvZ2dsZWQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVmcmVzaCBmb3JtIGxpc3RlbmVycyBvbiBvcGVuIGlmIGFjY29yZGlvbiBpcyBmb3JtIG9yIGNvbnRhaW5zIGZvcm1cbiAgICAgICAgICAgICAgICAgICAgbGV0ICRmb3JtID0gJHNlY3Rpb24uaXMoJy5qcy1mb3JtJykgPyAkc2VjdGlvbiA6ICRzZWN0aW9uLmZpbmQoJy5qcy1mb3JtJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkZm9ybS5sZW5ndGggJiYgJGZvcm0uZGF0YSgnZm9ybVZhbGlkYXRvcicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZm9ybS5kYXRhKCdmb3JtVmFsaWRhdG9yJykucmVmcmVzaExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVmcmVzaCBmb3JtIGxpc3RlbmVycyBvbiBvcGVuIGlmIGFjY29yZGlvbiBoYXMgZmllbGRzIHRoYXQgbmVlZCB2YWxpZGF0aW9uIGFuZCBwYXJlbnQgaXMgZm9ybVxuICAgICAgICAgICAgICAgICAgICAkZm9ybSA9ICRzZWN0aW9uLnBhcmVudHMoJy5qcy1mb3JtOmZpcnN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2VjdGlvbi5maW5kKCdpbnB1dFtkYXRhLXJlcXVpcmVkXScpLmxlbmd0aCAmJiAkZm9ybS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZm9ybS5kYXRhKCdmb3JtVmFsaWRhdG9yJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZm9ybS5kYXRhKCdmb3JtVmFsaWRhdG9yJykucmVmcmVzaExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kbWFpbi5maW5kKCcuanMtY2xvc2UtYWNjb3JkaW9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgJCgnKltkYXRhLWFjY29yZGlvbi10YXJnZXQ9XCInKyQodGhpcykuYXR0cignZGF0YS1hY2NvcmRpb24tdGFyZ2V0JykrJ1wiXScpLm5vdCgnLmpzLWNsb3NlLWFjY29yZGlvbicpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICAgIH0pO1xuXG4gICAgfSxcblxuICAgIHNpemVHcmlkcygpIHtcblxuICAgICAgICBsZXQgJGVxdWFsSGVpZ2h0Um93cyA9ICQoJy5yb3cuZXF1YWwtaGVpZ2h0Jyk7XG4gICAgICAgICRlcXVhbEhlaWdodFJvd3MuZmluZCgnLmNvbCcpLmhlaWdodCgnYXV0bycpO1xuICAgICAgICAkZXF1YWxIZWlnaHRSb3dzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsZXQgJGNvbHMgPSAkKHRoaXMpLmZpbmQoJy5jb2wnKTtcbiAgICAgICAgICAgIGxldCBfaGVpZ2h0ID0gMDtcbiAgICAgICAgICAgICRjb2xzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCAkKHRoaXMpLmhlaWdodCgpID4gIF9oZWlnaHQgKSBfaGVpZ2h0ID0gJCh0aGlzKS5oZWlnaHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKF9oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgJGNvbHMuaGVpZ2h0KF9oZWlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgfSxcblxuICAgIGluaXRQbGF5ZXJzKCkge1xuXG4gICAgICAgIHRoaXMudG9Mb2FkLnBsYXllcnMgPSAwO1xuXG4gICAgICAgIGRpb3JWNy5kaXNwYXRjaGVyLm9uKCdhcHA6OnBsYXllcnM6OnJlYWR5JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50b0xvYWQucGxheWVycyA9IDE7XG4gICAgICAgICAgICB0aGlzLmlzUGFnZUxvYWRlZCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgJHBsYXllcnMgPSB0aGlzLiRtYWluLmZpbmQoJ3ZpZGVvW2RhdGEtb3B0aW9uc10nKTtcbiAgICAgICAgbGV0IHBsYXllcnNUb0xvYWQgPSAkcGxheWVycy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHBsYXllcnNUb0xvYWQpIHtcblxuICAgICAgICAgICAgbGV0IGxvYWRlZCA9IDA7XG5cbiAgICAgICAgICAgIGxldCBvblBsYXllcnNMb2FkZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsb2FkZWQrKztcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyc1RvTG9hZCA9PT0gbG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpb3JWNy5kaXNwYXRjaGVyLnRyaWdnZXIoJ2FwcDo6cGxheWVyczo6cmVhZHknKTtcbiAgICAgICAgICAgICAgICAgICAgZGlvclY3LlBsYXllci52aWRlb3MuZm9yRWFjaChfaW5zdGFuY2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2luc3RhbmNlLm9mZigncmVhZHknLCBvblBsYXllcnNMb2FkZWQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkcGxheWVycy5lYWNoKCAoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgXyR2aWRlbyA9ICQoZWwpO1xuICAgICAgICAgICAgICAgIGxldCBfb3B0aW9ucyA9IF8kdmlkZW8uZGF0YSgnb3B0aW9ucycpO1xuICAgICAgICAgICAgICAgIGxldCBfcGxheWVyO1xuICAgICAgICAgICAgICAgIC8vIDIgdHlwZXMgb2YgcGxheWVyOiBjbGFzc2ljIG9yIGNoYXB0ZXJlZFxuICAgICAgICAgICAgICAgIGlmICghX29wdGlvbnMuY2hhcHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgX3BsYXllciA9IG5ldyBkaW9yVjcuUGxheWVyKCBfb3B0aW9ucywgXyR2aWRlbyApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9wbGF5ZXIgPW5ldyBkaW9yVjcuUGxheWVyQ2hhcHRlcmVkKCBfb3B0aW9ucywgXyR2aWRlbyApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfcGxheWVyLm9uKCdyZWFkeScsIG9uUGxheWVyc0xvYWRlZCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlvclY3LmRpc3BhdGNoZXIudHJpZ2dlcignYXBwOjpwbGF5ZXJzOjpyZWFkeScpO1xuICAgICAgICB9XG5cbiAgICB9LFxuXG4gICAgaXNQYWdlTG9hZGVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMudG9Mb2FkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50b0xvYWQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy50b0xvYWRba2V5XSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub25QYWdlTG9hZGVkKCk7XG4gICAgfSxcblxuICAgIG9uUGFnZUxvYWRlZCgpIHtcbiAgICAgICAgdGhpcy5jaGVja1VybEZvckFjdGlvbnMoKTtcbiAgICB9LFxuXG4gICAgY2hlY2tVcmxGb3JBY3Rpb25zKCkge1xuICAgICAgICBsZXQgX2FuY2hvciA9IGRpb3JWNy5oZWxwZXJzLnF1ZXJ5U3RyaW5nLmdldCgnYW5jaG9yJyk7XG4gICAgICAgIHNjcm9sbFRvRWxlbWVudC5zY3JvbGxUb0FuY2hvcihfYW5jaG9yKTtcbiAgICAgICAgbGV0IF92aWRlbyA9IGRpb3JWNy5oZWxwZXJzLnF1ZXJ5U3RyaW5nLmdldCgndmlkZW8nKTtcbiAgICAgICAgaWYgKF92aWRlbyApIHNjcm9sbFRvRWxlbWVudC5zY3JvbGxUb1ZpZGVvKCQoJyMnK192aWRlbykpO1xuICAgIH1cblxufTtcblxuJCh3aW5kb3cpLnJlYWR5KGFwcC5pbml0LmJpbmQoYXBwKSk7XG4iLCJjbGFzcyBMZWdhbEZvcm0ge1xuXHRcbiAgICBjb25zdHJ1Y3RvcigkZWwsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuJGVsID0gJGVsO1xuICAgICAgICB0aGlzLiRmb3JtID0gdGhpcy4kZWwuZmluZCgnLmpzLWZvcm0nKTtcbiAgICAgICAgdGhpcy5pbml0QWNjb3JkaW9uKCk7XG4gICAgICAgIGlmIChjYWxsYmFjaykgdGhpcy4kZm9ybS5vbignc3VibWl0JywgY2FsbGJhY2spO1xuICAgICAgICB0aGlzLmluaXRDaGVja2JveGVzKCk7XG4gICAgfVxuXG4gICAgaW5pdEFjY29yZGlvbigpIHtcblxuICAgICAgICBsZXQgJHNjcm9sbCA9IHRoaXMuJGVsLmZpbmQoJy5qcy1zY3JvbGwnKTtcblxuICAgICAgICBpZiAoJHNjcm9sbC5sZW5ndGggJiYgISRzY3JvbGwuZGF0YSgnc2Nyb2xsZXInKSkge1xuICAgICAgICAgICAgJHNjcm9sbC5zY3JvbGxlcih7XG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHRTY3JvbGw6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdXNlciBvcGVucyBsZWdhbCBhY2NvcmRpb25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5qcy1sZWdhbC1hY2NvcmRpb24nKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgbmV3IGRpb3JWNy5BY2NvcmRpb24oJChlbCksIHtcbiAgICAgICAgICAgICAgICBzY3JvbGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uVG9nZ2xlOiAodG9nZ2xlZCwgJHNlY3Rpb24pID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodG9nZ2xlZCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZWZyZXNoIGZvcm1WYWxpZGF0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiRmb3JtLmRhdGEoJ2Zvcm1WYWxpZGF0b3InKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGZvcm0uZGF0YSgnZm9ybVZhbGlkYXRvcicpLnJlZnJlc2hMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZWZyZXNoIHNjcm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgJHNjcm9sbCA9ICRzZWN0aW9uLmZpbmQoJy5qcy1zY3JvbGwnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY3JvbGwubGVuZ3RoICYmICRzY3JvbGwuZGF0YSgnc2Nyb2xsZXInKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY3JvbGwuZGF0YSgnc2Nyb2xsZXInKS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGluaXRDaGVja2JveGVzKCkge1xuXG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5qcy1vcGVuLW5leHQtYWNjb3JkaW9uJykub24oJ2NoYW5nZScsIChlKSA9PiB7XG5cbiAgICAgICAgICAgIGxldCAkY2hlY2tib3ggPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICBsZXQgJHBhcmVudCA9ICRjaGVja2JveC5wYXJlbnRzKCcuYWNjb3JkaW9uLXNlY3Rpb24nKTtcbiAgICAgICAgICAgIGlmICgkY2hlY2tib3gucHJvcCgnY2hlY2tlZCcpKSB7XG4gICAgICAgICAgICAgICAgJHBhcmVudC5uZXh0KCcuanMtbGVnYWwtYWNjb3JkaW9uJykudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICB1cGRhdGVTY3JvbGwoKSB7XG4gICAgICAgIGlmICghdGhpcy4kZWwuZmluZCgnLmpzLXNjcm9sbDp2aXNpYmxlJykuZGF0YSgnc2Nyb2xsZXInKSApIHRoaXMuJGVsLmZpbmQoJy5qcy1zY3JvbGwnKS5zY3JvbGxlcigpO1xuICAgICAgICBlbHNlIHRoaXMuJGVsLmZpbmQoJy5qcy1zY3JvbGw6dmlzaWJsZScpLmRhdGEoJ3Njcm9sbGVyJykucmVmcmVzaCgpO1xuICAgIH1cblxuICAgIHNob3coKSB7XG4gICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuc2hvdyh0aGlzLiRlbCk7XG4gICAgICAgIHRoaXMudXBkYXRlU2Nyb2xsKCk7XG4gICAgICAgIHRoaXMuJGZvcm0uZGF0YSgnZm9ybVZhbGlkYXRvcicpLnJlZnJlc2hMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLmhpZGUodGhpcy4kZWwpO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMZWdhbEZvcm07XG4iLCJcbmltcG9ydCBUYWcgZnJvbSAnLi90YWcuanMnO1xuXG5jbGFzcyBUYWdzIHtcbiAgICAvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG4gICAgJGN1cnJlbnQgPSBudWxsO1xuICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICR0YWdzID0gbnVsbDtcbiAgICB0YWdzID0gW107XG5cbiAgICAvLyBtdWx0aXBsZSB0YWdzIGNhbiBiZSBkaXNwbGF5ZWRcbiAgICBtdWx0aXBsZSA9IGZhbHNlO1xuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXG5cbiAgICBjb25zdHJ1Y3RvciggJHdyYXBwZXIgKSB7XG4gICAgICAgIHRoaXMuJHdyYXBwZXIgPSAkd3JhcHBlcjtcbiAgICAgICAgdGhpcy4kdGFncyA9ICR3cmFwcGVyLmZpbmQoJy5qcy10YWcnKTtcblxuICAgICAgICB0aGlzLm11bHRpcGxlID0gdGhpcy4kd3JhcHBlci5kYXRhKCdtdWx0aXBsZScpO1xuXG4gICAgICAgIHRoaXMuJHRhZ3MuZWFjaCggKGksIGVsKSA9PiB7XG5cdFx0XHR2YXIgJHRhZyA9ICQoZWwpO1xuXG4gICAgICAgICAgICBsZXQgX3RhZyA9IG5ldyBUYWcoICR0YWcsIHtcblx0XHRcdFx0aG92ZXJab25lOiB0cnVlLFxuXHRcdFx0XHRob3ZlckhlaWdodDogJHRhZy5kYXRhKCdob3ZlcmhlaWdodCcpLFxuXHRcdFx0XHRob3ZlcldpZHRoOiAkdGFnLmRhdGEoJ2hvdmVyd2lkdGgnKVxuXHRcdFx0fSk7XG4gICAgICAgICAgICBfdGFnLm9uKCdlbnRlcicsIHRoaXMub25UYWdNb3VzZUVudGVyLmJpbmQodGhpcykgKTtcbiAgICAgICAgICAgIF90YWcub24oJ2xlYXZlJywgdGhpcy5vblRhZ01vdXNlTGVhdmUuYmluZCh0aGlzKSApO1xuXG5cdFx0XHR0aGlzLnRhZ3MucHVzaCggX3RhZyApO1xuXHRcdH0pO1xuXG4gICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy50YWdzLmxlbmd0aDtcblxuICAgICAgICB0aGlzLmFkZExpc3RlbmVycygpO1xuICAgIH1cblxuICAgIC8vIG1vdXNlIGlzIG92ZXIgYSB0YWdcbiAgICBvblRhZ01vdXNlRW50ZXIoIHRhZywgZSApIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHRhZztcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC5hY3RpdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFyZSB3ZSBzdGlsbCBvbiBwcmV2aW91cyB0YWcgKG5vdCB0aGUgYXJlYSwgYnV0IHRoZSB0YWcgaXRsc2VsZilcbiAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50LmlzTW91c2VPdmVyKGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlIHRhZ1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5kZWFjdGl2ZSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdGFnO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5hY3RpdmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8ga2VlcCBjdXJyZW50IHRhZ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25UYWdNb3VzZUxlYXZlKCB0YWcsIGUgKSB7XG5cbiAgICB9XG5cbiAgICBvbk1vdXNlb3V0V3JhcHBlcihlKSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLnRhZ3NbaV0uZGVhY3RpdmF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgb25Nb3VzZW1vdmVXcmFwcGVyKGUpIHtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHRoaXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBfdGFnID0gdGhpcy50YWdzW2ldO1xuXG4gICAgICAgICAgICAvLyBnZXQgdGhlIHRhZyB1bmRlciBtb3VzZSBwb3NpdGlvblxuICAgICAgICAgICAgaWYgKF90YWcuaXNNb3VzZU92ZXIoZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBubyB0YWcgY3VycmVudGx5IGFjdGl2ZVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50IHx8IHRoaXMubXVsdGlwbGUgfHwgIXRoaXMuY3VycmVudC5pc01vdXNlT3ZlcihlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50ICYmICF0aGlzLm11bHRpcGxlKSB0aGlzLmN1cnJlbnQuZGVhY3RpdmF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IF90YWc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5hY3RpdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblJlc2l6ZSgpIHtcbiAgICAgIC8vIFVwZGF0ZSB3cmFwcGVyIHNpemVzXG4gICAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIHRoaXMudGFnc1tpXS53cmFwcGVyVyA9IHRoaXMuJHdyYXBwZXIub3V0ZXJXaWR0aCgpO1xuICAgICAgICAgIHRoaXMudGFnc1tpXS53cmFwcGVySCA9IHRoaXMuJHdyYXBwZXIub3V0ZXJIZWlnaHQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX29uTW91c2Vtb3ZlV3JhcHBlciA9IChlKSA9PiB0aGlzLm9uTW91c2Vtb3ZlV3JhcHBlcihlKTtcbiAgICAgICAgdGhpcy5fb25Nb3VzZW91dFdyYXBwZXIgPSAoZSkgPT4gdGhpcy5vbk1vdXNlb3V0V3JhcHBlcihlKTtcbiAgICAgICAgdGhpcy5fb25SZXNpemUgPSAoKSA9PiB0aGlzLm9uUmVzaXplKCk7XG5cbiAgICAgICAgdGhpcy4kd3JhcHBlci5vbignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZW1vdmVXcmFwcGVyKTtcbiAgICAgICAgdGhpcy4kd3JhcHBlci5vbignbW91c2VsZWF2ZScsIHRoaXMuX29uTW91c2VvdXRXcmFwcGVyKTtcblxuICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIHRoaXMuX29uUmVzaXplKTtcbiAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIH1cblxuICAgIHJlbW92ZUxpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy4kd3JhcHBlci5vZmYoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2Vtb3ZlV3JhcHBlcik7XG4gICAgICAgIHRoaXMuJHdyYXBwZXIub2ZmKCdtb3VzZWxlYXZlJywgdGhpcy5fb25Nb3VzZW91dFdyYXBwZXIpO1xuICAgICAgICAkKHdpbmRvdykub2ZmKCdyZXNpemUnLCB0aGlzLl9yZXNpemUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGFncztcbiIsIi8qKlxuICogRGVwZW5kZW5jaWVzOlxuICogLSBkaW9yVjcuUGxheWVyLlBhdXNlQWxsKClcbiAqL1xuY2xhc3MgUG9waW4ge1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICAgKiB7XG4gICAgICogICAgICAgIGlkZW50aWZpZXI6IG51bGwsICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbmFtZSBvZiB0aGUgcG9waW4sIHVzZWQgaW4gaXRzIGNsYXNzIG5hbWUsIGl0cyBzZWxlY3RvcnMgYW5kIGV2ZW50c1xuICAgICAqICAgICAgICAkdHJpZ2dlcjogbnVsbCwgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgdGhhdCB3aWxsIHRyaWdnZXIgdGhlIG9wZW4gbWV0aG9kXG4gICAgICogICAgICAgICRlbDogbnVsbCwgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgJHBvcGluIGl0c2VsZiwgb25seSByZXF1aXJlZCBmb3Igc3RhdCBwb3BpblxuICAgICAqICAgICAgICAkd3JhcHBlcjogJCgnI3BvcGluLXdyYXBwZXInKSwgICAgICAgLy8gdGhlIHdyYXBwZXIgaW4gd2hpY2ggZXZlcnkgcG9waW4gaXMgaW5qZWN0ZWQgYXQgYm90dG9tIG9mIGJvZHlcbiAgICAgKiAgICAgICAgbWFuYWdlcjogbnVsbCwgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgcmVmZXJlbmNlIHRvIHBvcGluTWFuYWdlclxuICAgICAqICAgICAgICBjbG9zZUJ1dHRvbkNsYXNzOiAnLmpzLXBvcGluLWNsb3NlJyxcbiAgICAgKiAgICAgICAgdHJpZ2dlckV2ZW50czogMCAgICAgICAgICAgICAgICAgICAgIC8vIHdoZXRoZXIgb3Igbm90IHRoZSBwb3BpbiB0cmlnZ2VycyBldmVudHNcbiAgICAgICAgfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblxuICAgICAgICBsZXQgX2RlZmF1bHRzID0ge1xuICAgICAgICAgICAgaWRlbnRpZmllcjogbnVsbCxcbiAgICAgICAgICAgICR0cmlnZ2VyOiBudWxsLFxuICAgICAgICAgICAgJGVsOiBudWxsLFxuICAgICAgICAgICAgJHdyYXBwZXI6ICQoJyNwb3Bpbi13cmFwcGVyJyksXG4gICAgICAgICAgICBtYW5hZ2VyOiBudWxsLFxuICAgICAgICAgICAgY2xvc2VCdXR0b25DbGFzczogJy5qcy1wb3Bpbi1jbG9zZScsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogbnVsbCxcbiAgICAgICAgICAgIHdlYnNlcnZpY2U6IG51bGwsXG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnRzOiAwLFxuICAgICAgICAgICAgZnVsbHNjcmVlbjogMFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubyA9ICQuZXh0ZW5kKF9kZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIHRoaXMuJGVsLmRhdGEoJ3BvcGluJywgdGhpcyk7XG4gICAgICAgIHRoaXMuYWRkTGlzdGVuZXJzKCk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VmdWwgZm9yIFBvcGluRHluYW1pYyB0aGF0IGV4dGVuZHMgUG9waW5cbiAgICAgKi9cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLiRlbCA9IHRoaXMuby4kZWw7XG4gICAgfVxuXG4gICAgYWRkTGlzdGVuZXJzKCkge1xuXG4gICAgICAgIGlmICh0aGlzLm8uJHRyaWdnZXIpIHtcblxuICAgICAgICAgICAgdGhpcy5fb25UcmlnZ2VyQ2xpY2sgPSAoZSkgPT4gdGhpcy5vcGVuKGUpO1xuXG4gICAgICAgICAgICB0aGlzLm8uJHRyaWdnZXIub24oJ2NsaWNrJywgdGhpcy5fb25UcmlnZ2VyQ2xpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fb25DbG9zZUNsaWNrID0gKCkgPT4gdGhpcy5jbG9zZSgpO1xuICAgICAgICB0aGlzLiRlbC5maW5kKHRoaXMuby5jbG9zZUJ1dHRvbkNsYXNzKS5vbignY2xpY2snLCB0aGlzLl9vbkNsb3NlQ2xpY2spO1xuICAgICAgICB0aGlzLl9yZXNpemUgPSAoKSA9PiB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fcmVzaXplKCkgKTtcblxuICAgIH1cblxuICAgIG9wZW4oZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG5cbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuZmFkZVRvZ2dsZSggdGhpcy4kZWwsICdoaWRkZW4nLCAxLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdvcGVuZWQnKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kZWwuZmluZCgnLmpzLWZvcm0nKS5sZW5ndGgpIHRoaXMuJGVsLmZpbmQoJy5qcy1mb3JtJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuZGF0YSgnZm9ybVZhbGlkYXRvcicpKSAkKHRoaXMpLmRhdGEoJ2Zvcm1WYWxpZGF0b3InKS5yZWZyZXNoTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ29wZW4nKTtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlRnVsbHNjcmVlbigpO1xuXG4gICAgICAgICAgICB0aGlzLm8ubWFuYWdlci50b2dnbGVPdmVybGF5KHRoaXMuJGVsLCAxKTtcblxuICAgICAgICAgICAgZGlvclY3LlBsYXllci5QYXVzZUFsbCggdGhpcy5wbGF5ZXIgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvZ2dsZUZ1bGxzY3JlZW4oIGZ1bGxzY3JlZW4gKSB7XG5cbiAgICAgICAgaWYgKCFmdWxsc2NyZWVuKSBmdWxsc2NyZWVuID0gdGhpcy5vLmZ1bGxzY3JlZW47XG5cbiAgICAgICAgaWYgKCFmdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ3BvcGluLWZ1bGxzY3JlZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBfekluZGV4ID0gdGhpcy4kZWwuY3NzKCd6LWluZGV4Jyk7XG4gICAgICAgICAgICB0aGlzLiRlbC5yZW1vdmVBdHRyKCdzdHlsZScpLmNzcygnei1pbmRleCcsIF96SW5kZXgpO1xuICAgICAgICAgICAgJCgnaHRtbCcpLmFkZENsYXNzKCdwb3Bpbi1mdWxsc2NyZWVuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRQb3NpdGlvbigpIHtcbiAgICAgICAgbGV0IF9zY3JvbGxUb3AgPSBNYXRoLm1pbiggJCgnYm9keScpLmhlaWdodCgpIC0gd2luZG93LmlubmVySGVpZ2h0LCAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSApO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGxldCBfbWFyZ2luVG9wID0gKHdpbmRvdy5pbm5lckhlaWdodCAtIHRoaXMuJGVsLm91dGVySGVpZ2h0KHRydWUpKSAqIDAuNTtcbiAgICAgICAgICAgIHRoaXMuJGVsLmNzcygndG9wJywgX3Njcm9sbFRvcCArIF9tYXJnaW5Ub3ApO1xuICAgICAgICB9LCA1MCk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuZmFkZVRvZ2dsZSggdGhpcy4kZWwsJ2hpZGRlbicsIDAsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vLmZ1bGxzY3JlZW4pICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygncG9waW4tZnVsbHNjcmVlbicpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcignY2xvc2VkJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuby5tYW5hZ2VyLnRvZ2dsZU92ZXJsYXkodGhpcy4kZWwsIDApO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdjbG9zZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzaXplKCkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ3Jlc2l6ZScpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuby4kdHJpZ2dlcikge1xuICAgICAgICAgICAgdGhpcy5vLiR0cmlnZ2VyLm9mZignY2xpY2snLCB0aGlzLl9vblRyaWdnZXJDbGljayk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRlbC5maW5kKHRoaXMuby5jbG9zZUJ1dHRvbkNsYXNzKS5vZmYoJ2NsaWNrJywgdGhpcy5fb25DbG9zZUNsaWNrKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX3Jlc2l6ZSgpICk7XG4gICAgICAgIHRoaXMudHJpZ2dlcignZGVzdHJveWVkJyk7XG4gICAgfVxuXG4gICAgdHJpZ2dlcihldmVudCkge1xuICAgICAgICBpZiAodGhpcy5vLnRyaWdnZXJFdmVudHMpIGRpb3JWNy5kaXNwYXRjaGVyLnRyaWdnZXIoJ3BvcGluLScrdGhpcy5vLmlkZW50aWZpZXIrJzo6JytldmVudCk7XG4gICAgfVxuXG4gICAgb24oZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLm8udHJpZ2dlckV2ZW50cykgZGlvclY3LmRpc3BhdGNoZXIub24oJ3BvcGluLScrdGhpcy5vLmlkZW50aWZpZXIrJzo6JytldmVudCwgY2FsbGJhY2spO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9waW47IiwiaW1wb3J0IFBvcGluIGZyb20gJy4vUG9waW4uanMnO1xuY2xhc3MgUG9waW5BamF4Rm9ybSBleHRlbmRzIFBvcGluIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMudHJpZ2dlckV2ZW50cyA9IDE7XG4gICAgICAgIHN1cGVyKCBvcHRpb25zICk7XG4gICAgICAgIGlmICghb3B0aW9ucy53ZWJzZXJ2aWNlKSBjb25zb2xlLndhcm4oJ1BvcGluQWpheEZvcm0gLT4gd2Vic2VydmljZSBpcyB1bmRlZmluZWQnKTtcbiAgICAgICAgdGhpcy53ZWJzZXJ2aWNlID0gb3B0aW9ucy53ZWJzZXJ2aWNlO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHN1cGVyLmluaXQoKTtcbiAgICAgICAgdGhpcy4kZm9ybSA9IHRoaXMuJGVsLmZpbmQoJy5qcy1wb3Bpbi1mb3JtJykuZm9ybVZhbGlkYXRvcih7XG4gICAgICAgICAgICBvblN1Ym1pdDogKGUpID0+IHRoaXMuc2VuZChlKVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm9uKCdvcGVuZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiRmb3JtLmRhdGEoJ2Zvcm1WYWxpZGF0b3InKS5yZWZyZXNoTGlzdGVuZXJzKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub24oJ2Nsb3NlZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2VuZChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBsZXQgX2RhdGE7XG4gICAgICAgIGlmICh0aGlzLndlYnNlcnZpY2UuY29udGVudFR5cGUgJiYgdGhpcy53ZWJzZXJ2aWNlLmNvbnRlbnRUeXBlID09PSAnYXBwbGljYXRpb24vanNvbicpIHtcbiAgICAgICAgICAgIGxldCBfYXJyYXkgPSB0aGlzLiRlbC5maW5kKCdmb3JtJykuc2VyaWFsaXplQXJyYXkoKTtcbiAgICAgICAgICAgIGxldCBfbCA9IF9hcnJheS5sZW5ndGg7XG4gICAgICAgICAgICBfZGF0YSA9IHt9O1xuICAgICAgICAgICAgZm9yIChpPTA7IGk8X2w7ICsraSkge1xuICAgICAgICAgICAgICAgIF9kYXRhWyBfYXJyYXlbaV0ubmFtZSBdID0gX2FycmF5W2ldLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2RhdGEgPSBKU09OLnN0cmluZ2lmeSggX2RhdGEgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF9kYXRhID0gdGhpcy4kZWwuZmluZCgnZm9ybScpLnNlcmlhbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogdGhpcy53ZWJzZXJ2aWNlLnVybCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMud2Vic2VydmljZS5tZXRob2QsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogdGhpcy53ZWJzZXJ2aWNlLmNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgeGhyRmllbGRzOiB0aGlzLndlYnNlcnZpY2UueGhyRmllbGRzLFxuICAgICAgICAgICAgZGF0YTogX2RhdGEsXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4gdGhpcy5vblN1Y2Nlc3MoZGF0YSksXG4gICAgICAgICAgICBlcnJvcjogKGRhdGEpID0+IHRoaXMub25FcnJvcihkYXRhKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblN1Y2Nlc3MoZGF0YSkge1xuICAgICAgICAvL1Y2IC0gVjcgU3VwcG9ydFxuICAgICAgICBpZiAoIChkYXRhLnN0YXR1cyAmJiBkYXRhLnN0YXR1cyAhPT0gJ29rJykgfHwgZGF0YS5lcnJvckNvZGUpIHJldHVybiB0aGlzLm9uRXJyb3IoZGF0YSk7XG4gICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZSh0aGlzLiRlbC5maW5kKCcuanMtcG9waW4tZm9ybS13cmFwcGVyJykpO1xuICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLnNob3codGhpcy4kZWwuZmluZCgnLmpzLXBvcGluLWNvbmZpcm1hdGlvbicpKTtcbiAgICB9XG5cbiAgICBvbkVycm9yKGRhdGEpIHtcbiAgICAgICAgbGV0ICRlcnIgPSB0aGlzLiRlbC5maW5kKCcuanMtcG9waW4tZXJyb3InKTtcbiAgICAgICAgaWYgKCRlcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5lcnJvck1lc3NhZ2VzKSAkZXJyLmh0bWwoZGF0YS5lcnJvck1lc3NhZ2VzLmpvaW4oJzxici8+JykpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5tZXNzYWdlKSAkZXJyLmh0bWwoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuc2hvdygkZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUG9waW5BamF4Rm9ybSAtPiBObyBqcy1wb3Bpbi1lcnJvciBlbGVtZW50IGluIHBvcGluJyk7XG4gICAgICAgIH1cbiAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KHRoaXMuJGVsLmZpbmQoJy5qcy1wb3Bpbi1mb3JtLXdyYXBwZXInKSk7XG4gICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZSh0aGlzLiRlbC5maW5kKCcuanMtcG9waW4tY29uZmlybWF0aW9uJykpO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLmhpZGUodGhpcy4kZWwuZmluZCgnLmpzLXBvcGluLWVycm9yJykpO1xuICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLnNob3codGhpcy4kZWwuZmluZCgnLmpzLXBvcGluLWZvcm0td3JhcHBlcicpKTtcbiAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5oaWRlKHRoaXMuJGVsLmZpbmQoJy5qcy1wb3Bpbi1jb25maXJtYXRpb24nKSk7XG4gICAgICAgIHRoaXMuJGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cImVtYWlsXCJdLCBpbnB1dFt0eXBlPVwidGV4dFwiXScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnZhbCgnJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9waW5BamF4Rm9ybTtcbiIsImltcG9ydCBQb3BpbkFqYXhGb3JtIGZyb20gJy4vUG9waW5BamF4Rm9ybS5qcyc7XG5cbmNsYXNzIFBvcGluU3RvY2tBbGVydCBleHRlbmRzIFBvcGluQWpheEZvcm0ge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICBmb3JtRGF0YSA9IG51bGw7XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcblxuICAgIHNlbmQoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgdGhpcy5mb3JtRGF0YSA9IHRoaXMuJGVsLmZpbmQoJ2Zvcm0nKS5zZXJpYWxpemUoKTtcblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiB0aGlzLndlYnNlcnZpY2UudXJsLFxuICAgICAgICAgICAgdHlwZTogdGhpcy53ZWJzZXJ2aWNlLm1ldGhvZCxcbiAgICAgICAgICAgIGRhdGE6IHRoaXMuZm9ybURhdGEsXG4gICAgICAgICAgICB4aHJGaWVsZHM6IHRoaXMud2Vic2VydmljZS54aHJGaWVsZHMsXG4gICAgICAgICAgICAvLyBERUZJTkUgQSBGT1JNQVRURVIgT0JKRUNUIEZPUiBUSEUgQ0FMTFxuICAgICAgICAgICAgLy8gbXVzdCBoYXZlIGEgUmVxdWVzdCBtZXRob2QgdGhhdCBmb3JtYXQgdGhlIHNldHRpbmdzIGRhdGEgb2JqZWN0IGRpcmVjdGx5XG4gICAgICAgICAgICAvLyBtdXN0IGhhdmUgYSBSZXNwb25zZSBtZXRob2QgdGhhdCBmb3JtYXQgdGhlIGRhdGEsIGFuZCByZXR1cm4gYSBzdHJpbmdpZmllZCBvYmplY3RcbiAgICAgICAgICAgIC8vIEBzZWUgZGlvclY3LmNvbmZpZy5qc1xuICAgICAgICAgICAgLy8gQHNlZWFsc28gcGNpcy5BamF4Rm9ybWF0LmpzIChodHRwOi8vd3d3LmRpb3IuY24vbWVkaWFzL3ZlcnNpb24tNi45LjE0ODg1NTg2Njk3MzkvcGNpcy9qcy9jdXN0b21fY24uanMpXG4gICAgICAgICAgICBmb3JtYXR0ZXI6IHRoaXMud2Vic2VydmljZS5mb3JtYXR0ZXIsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogdGhpcy53ZWJzZXJ2aWNlLmNvbnRlbnRUeXBlLFxuXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4gdGhpcy5vblN1Y2Nlc3MoZGF0YSksXG4gICAgICAgICAgICBlcnJvcjogKGRhdGEpID0+IHRoaXMub25FcnJvcihkYXRhKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblN1Y2Nlc3MoZGF0YSkge1xuICAgICAgICAvLyBTcGVjaWZpYyBDaGluYSAtIE5ld3NsZXR0ZXIgaXMgc3RpbGwgbWFuYWdlZCBieSBicmFuZCBzaXRlXG4gICAgICAgIGlmKGRhdGEuc3Vic2NyaWJlTmV3c2xldHRlcikge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvcmUuQWpheENvbmZpZy5Qcm9kdWN0LlNUT0NLX0FMRVJUX05FV1NMRVRURVIudXJsLFxuICAgICAgICAgICAgICAgIHR5cGU6IGNvcmUuQWpheENvbmZpZy5Qcm9kdWN0LlNUT0NLX0FMRVJUX05FV1NMRVRURVIubWV0aG9kLFxuICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgeGhyRmllbGRzOiBjb3JlLkFqYXhDb25maWcuUHJvZHVjdC5TVE9DS19BTEVSVF9ORVdTTEVUVEVSLnhockZpZWxkcyxcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6IGNvcmUuQWpheENvbmZpZy5Qcm9kdWN0LlNUT0NLX0FMRVJUX05FV1NMRVRURVIuZm9ybWF0dGVyLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvKiBEbyBub3QgZGlzcGxheSBhbnl0aGluZywgcHVycG9zZSBvZiB0aGUgcG9waW4gaXMgdG8gc3Vic2NyaWJlIHRvIFNUT0NLX0FMRVJUIG5vdGlmaWNhdGlvbiAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAnb2snKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltTdG9ja0FsZXJ0XTogTmV3c2xldHRlciBzdWJjcmlidGlvbiBzdWNjZXNzXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJbU3RvY2tBbGVydF06IE5ld3NsZXR0ZXIgc3ViY3JpYnRpb24gZmFpbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9WNiAtIFY3IFN1cHBvcnRcbiAgICAgICAgaWYgKCAoZGF0YS5zdGF0dXMgJiYgZGF0YS5zdGF0dXMgIT09ICdvaycpIHx8IGRhdGEuZXJyb3JDb2RlKSByZXR1cm4gdGhpcy5vbkVycm9yKGRhdGEpO1xuICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLmhpZGUodGhpcy4kZWwuZmluZCgnLmpzLXBvcGluLWZvcm0td3JhcHBlcicpKTtcbiAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KHRoaXMuJGVsLmZpbmQoJy5qcy1wb3Bpbi1jb25maXJtYXRpb24nKSk7XG5cblxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9waW5TdG9ja0FsZXJ0O1xuIiwiaW1wb3J0IFBvcGluIGZyb20gJy4vUG9waW4uanMnO1xuXG5jbGFzcyBQb3BpblppcGNvZGUgZXh0ZW5kcyBQb3BpbiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBvcHRpb25zLnRyaWdnZXJFdmVudHMgPSB0cnVlO1xuICAgICAgICBzdXBlciggb3B0aW9ucyApO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHN1cGVyLmluaXQoKTtcblxuICAgICAgICBsZXQgX3RoaXMgICAgICAgICAgICA9IHRoaXM7XG4gICAgICAgIHRoaXMucmVzdWx0c1BlclBhZ2UgID0gNTtcbiAgICAgICAgdGhpcy5wYWdlICAgICAgICAgICAgPSAwO1xuICAgICAgICB0aGlzLnBhZ2VTICAgICAgICAgICA9IDE7XG4gICAgICAgIHRoaXMuJHRhYmxlQ29udGFpbmVyID0gdGhpcy4kZWwuZmluZCgnLmpzLXppcGNvZGUtdGFibGUtd3JhcHBlcicpO1xuICAgICAgICB0aGlzLiR0YWJsZSAgICAgICAgICA9IHRoaXMuJHRhYmxlQ29udGFpbmVyLmZpbmQoJyN6aXBjb2RlLXRhYmxlJyk7XG4gICAgICAgIHRoaXMuJGNvbnRyb2xzICAgICAgID0gdGhpcy4kZWwuZmluZCgnLmpzLWNvbnRyb2xzJyk7XG4gICAgICAgIHRoaXMuJGxlZnQgICAgICAgICAgID0gdGhpcy4kY29udHJvbHMuZmluZCgnLmpzLXByZXYnKTtcbiAgICAgICAgdGhpcy4kcmlnaHQgICAgICAgICAgPSB0aGlzLiRjb250cm9scy5maW5kKCcuanMtbmV4dCcpO1xuICAgICAgICB0aGlzLiRpbnB1dCAgICAgICAgICA9IHRoaXMuJGVsLmZpbmQoJ2lucHV0W3R5cGU9dGV4dF0nKTtcbiAgICAgICAgdGhpcy4kZm9ybSAgICAgICAgICAgPSB0aGlzLiRlbC5maW5kKCcuanMtemlwY29kZS1mb3JtJyk7XG4gICAgICAgIHRoaXMuJGVycm9yICAgICAgICAgID0gdGhpcy4kZWwuZmluZCgnLmpzLWVycm9yLW1zZycpO1xuXG4gICAgICAgIHRoaXMuJGZvcm0ub24oJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLmdldExpc3QodGhpcy4kaW5wdXQudmFsKCkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvcGVuKGUpIHtcbiAgICAgICAgdGhpcy4kZmllbGRXcmFwcGVyID0gJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5qcy1mb3JtJyk7XG4gICAgICAgIHN1cGVyLm9wZW4oZSk7XG4gICAgfVxuXG4gICAgb25TdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgLy9WNiAtIFY3IFN1cHBvcnRcbiAgICAgICAgaWYgKCAoZGF0YS5zdGF0dXMgJiYgZGF0YS5zdGF0dXMgIT09ICdvaycpIHx8IGRhdGEuZXJyb3JDb2RlKSByZXR1cm4gdGhpcy5vbkVycm9yKGRhdGEpO1xuXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMucGFnZXMgPSBNYXRoLmNlaWwoZGF0YS5yZXN1bHRzLmxlbmd0aC90aGlzLnJlc3VsdHNQZXJQYWdlKTtcbiAgICAgICAgdGhpcy4kY29udHJvbHMudG9nZ2xlQ2xhc3MoJ3Zpc2libGUnLCB0aGlzLnBhZ2VzPjEpO1xuICAgICAgICB0aGlzLiR0YWJsZS5odG1sKHRoaXMuemlwY29kZUxpc3RUZW1wbGF0ZShkYXRhLnJlc3VsdHMpKTtcblxuICAgICAgICAkKCcuanMtc2VsZWN0LXppcGNvZGUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIF90aGlzLm9uWmlwY29kZVNlbGVjdCgkKHRoaXMpLmF0dHIoJ2RhdGEtemlwY29kZScpLCAkKHRoaXMpLmF0dHIoJ2RhdGEtYWRkcmVzcycpLCAkKHRoaXMpLmF0dHIoJ2RhdGEtemlwY29kZS1uZXcnKSwgJCh0aGlzKS5hdHRyKCdkYXRhLWFkZHJlc3MtbmV3JykpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiRsZWZ0Lm9mZignY2xpY2snKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnZGlzYWJsZWQnKSAmJiB0aGlzLnBhZ2U+IDApIF90aGlzLnNldFBhZ2UodGhpcy5wYWdlLTEpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiRyaWdodC5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgJiYgX3RoaXMucGFnZTwgX3RoaXMucGFnZXMtMSkgX3RoaXMuc2V0UGFnZShfdGhpcy5wYWdlKzEpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiR0YWJsZUNvbnRhaW5lci50b2dnbGVDbGFzcygndmlzaWJsZScsIHRydWUpO1xuICAgICAgICB0aGlzLiRlbC5maW5kKCcuanMtemlwY29kZS13cmFwcGVyJykucmVtb3ZlQ2xhc3MoJ2xvYWRpbmcnKTtcblxuICAgIH1cblxuICAgIGdldExpc3QoX3ZhbCkge1xuXG4gICAgICAgIGlmIChfdmFsICYmIF92YWwhPT1cIlwiKSB7XG4gICAgICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy4kZXJyb3IucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcblxuICAgICAgICAgICAgdGhpcy4kaW5wdXQucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7XG4gICAgICAgICAgICB0aGlzLiRlbC5maW5kKCcuanMtemlwY29kZS13cmFwcGVyJykuYWRkQ2xhc3MoJ2xvYWRpbmcnKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcblxuICAgICAgICAgICAgICAgIHVybDogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5aSVBDT0RFLnVybCxcbiAgICAgICAgICAgICAgICBtZXRob2Q6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuWklQQ09ERS5tZXRob2QsXG4gICAgICAgICAgICAgICAgeGhyRmllbGRzOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLlpJUENPREUueGhyRmllbGRzLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoOl92YWxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0aGlzLm9uU3VjY2Vzcy5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy4kZXJyb3IuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHppcGNvZGVMaXN0VGVtcGxhdGUoemlwY29kZXMpIHtcblxuICAgICAgICB2YXIgX2xpc3QgPVwiXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gemlwY29kZXMubGVuZ3RoOyBpPGo7ICsraSkge1xuICAgICAgICAgICAgX2xpc3QrPSBcIjx0ciBjbGFzcz0nanMtc2VsZWN0LXppcGNvZGUgemlwY29kZS1cIitpK1wiIGVudHJ5LVwiKyhpKzEpK1wiJyBkYXRhLXppcGNvZGU9J1wiK3ppcGNvZGVzW2ldLnBvc3Rjb2RlNitcIicgZGF0YS1hZGRyZXNzPSdcIit6aXBjb2Rlc1tpXS5rb19jb21tb24remlwY29kZXNbaV0ua29famliZW9uK1wiJyBkYXRhLXppcGNvZGUtbmV3PSdcIit6aXBjb2Rlc1tpXS5wb3N0Y29kZTUrXCInIGRhdGEtYWRkcmVzcy1uZXc9J1wiK3ppcGNvZGVzW2ldLmtvX2NvbW1vbit6aXBjb2Rlc1tpXS5rb19kb3JvK1wiJz5cXG5cIitcbiAgICAgICAgICAgICAgICBcIiAgICA8dGQgY2xhc3M9J2ZpcnN0Jz48c3Bhbj5cIit6aXBjb2Rlc1tpXS5wb3N0Y29kZTYrXCI8L3NwYW4+PHNwYW4gY2xhc3M9J25ldyc+XCIremlwY29kZXNbaV0ucG9zdGNvZGU1K1wiPC9zcGFuPjwvdGQ+XFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiICAgIDx0ZD48c3Bhbj5cIit6aXBjb2Rlc1tpXS5rb19jb21tb24remlwY29kZXNbaV0ua29famliZW9uK1wiPC9zcGFuPjxzcGFuIGNsYXNzPSduZXcnPlwiK3ppcGNvZGVzW2ldLmtvX2NvbW1vbit6aXBjb2Rlc1tpXS5rb19kb3JvK1wiPC9zcGFuPjwvdGQ+XFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiPC90cj5cIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2xpc3Q7XG4gICAgfVxuXG4gICAgb25aaXBjb2RlU2VsZWN0KHppcCwgYWRkcmVzcywgbmV3WmlwLCBuZXdBZGRyZXNzKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuJGZpZWxkV3JhcHBlcikge1xuICAgICAgICAgICAgdGhpcy4kZmllbGRXcmFwcGVyLmZpbmQoXCIuanMtemlwY29kZVwiKS52YWwoemlwKTtcbiAgICAgICAgICAgIHRoaXMuJGZpZWxkV3JhcHBlci5maW5kKFwiLmpzLWFkZHJlc3Mta29cIikudmFsKGFkZHJlc3MpO1xuICAgICAgICAgICAgdGhpcy4kZmllbGRXcmFwcGVyLmZpbmQoXCIuanMtemlwY29kZS1uZXdcIikudmFsKG5ld1ppcCk7XG4gICAgICAgICAgICB0aGlzLiRmaWVsZFdyYXBwZXIuZmluZChcIi5qcy1hZGRyZXNzLWtvLW5ld1wiKS52YWwobmV3QWRkcmVzcyk7XG4gICAgICAgIH0gZWxzZSBpZih0aGlzLiRmaWVsZFdyYXBwZXJNdWx0aSl7XG4gICAgICAgICAgICB0aGlzLiRmaWVsZFdyYXBwZXJNdWx0aS5maW5kKFwiLmpzLXppcGNvZGVcIikudmFsKHppcCk7XG4gICAgICAgICAgICB0aGlzLiRmaWVsZFdyYXBwZXJNdWx0aS5maW5kKFwiLmpzLWFkZHJlc3Mta29cIikudmFsKGFkZHJlc3MpO1xuICAgICAgICAgICAgdGhpcy4kZmllbGRXcmFwcGVyTXVsdGkuZmluZChcIi5qcy16aXBjb2RlLW5ld1wiKS52YWwobmV3WmlwKTtcbiAgICAgICAgICAgIHRoaXMuJGZpZWxkV3JhcHBlck11bHRpLmZpbmQoXCIuanMtYWRkcmVzcy1rby1uZXdcIikudmFsKG5ld0FkZHJlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuXG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuJHRhYmxlLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuJGlucHV0LnZhbCgnJyk7XG4gICAgICAgIHRoaXMucGFnZSAgPSAwO1xuICAgICAgICB0aGlzLnBhZ2VzID0gMDtcbiAgICAgICAgdGhpcy4kY29udHJvbHMucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgdGhpcy4kdGFibGVDb250YWluZXIucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgdGhpcy4kZXJyb3IucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICB9XG5cbiAgICBzZXRQYWdlKHBhZ2UpIHtcbiAgICAgICAgdGhpcy5wYWdlID0gcGFnZTtcbiAgICAgICAgdGhpcy4kbGVmdC50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCBwYWdlPT09MCk7XG4gICAgICAgIHRoaXMuJHJpZ2h0LnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsIHBhZ2U9PT10aGlzLnBhZ2VzLTEpO1xuICAgICAgICB0aGlzLiR0YWJsZVswXS5jbGFzc05hbWUgPSB0aGlzLiR0YWJsZVswXS5jbGFzc05hbWUucmVwbGFjZSgvKHBhZ2UtW1xcZF0rKS9nLCcnKTtcbiAgICAgICAgdGhpcy4kdGFibGVbMF0uY2xhc3NOYW1lKz1cIiBwYWdlLVwiK3BhZ2U7XG4gICAgfVxuXG4gICAgc3RhdGljIG9uRXJyb3IoZGF0YSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1BvcGluWmlwY29kZSAtPiBFcnJvcicsIGRhdGEpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9waW5aaXBjb2RlOyIsImltcG9ydCBEaXNwYXRjaGVyIGZyb20gJy4uL21vZHVsZXMvRGlzcGF0Y2hlci5qcyc7XG5cbmNsYXNzIFRhZyB7XG5cbiAgICBjb25zdHJ1Y3RvciggJHRhZywgb3B0aW9ucyApIHtcblxuICAgICAgICBsZXQgX2RlZmF1bHRzID0ge1xuICAgICAgICAgICAgY2xhc3NOYW1lczoge1xuICAgICAgICAgICAgICAgIHRhZ1dyYXBwZXI6ICdqcy10YWctd3JhcHBlcicsXG4gICAgICAgICAgICAgICAgdGFnQXJyb3c6ICdqcy10YWctYXJyb3cnLFxuICAgICAgICAgICAgICAgIHRhZ0NvbnRlbnQ6ICdqcy10YWctY29udGVudCcsXG4gICAgICAgICAgICAgICAgdGFnSG92ZXJab25lOiAndGFnLWhvdmVyem9uZSBqcy10YWctaG92ZXJ6b25lJyxcbiAgICAgICAgICAgICAgICB0YWc6ICdqcy10YWcnLFxuICAgICAgICAgICAgICAgIHBvc3Rpb25MZWZ0OiAndGFnLS1sZWZ0JyxcbiAgICAgICAgICAgICAgICBwb3N0aW9uQ2VudGVyOiAndGFnLS1jZW50ZXInLFxuICAgICAgICAgICAgICAgIHBvc3Rpb25SaWdodDogJ3RhZy0tcmlnaHQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhvdmVyWm9uZTogZmFsc2UsXG4gICAgICAgICAgICBob3ZlcldpZHRoOiBcIjEwJVwiLFxuICAgICAgICAgICAgaG92ZXJIZWlnaHQ6IFwiNTAlXCIsXG4gICAgICAgICAgICBzYWZldHlNYXJnaW46IDQwXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gbmV3IERpc3BhdGNoZXIoKTtcblxuICAgICAgICB0aGlzLm8gPSAkLmV4dGVuZChfZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuJHRhZyA9ICR0YWc7XG4gICAgICAgIHRoaXMuJGFycm93ID0gJHRhZy5maW5kKFwiLlwiK3RoaXMuby5jbGFzc05hbWVzLnRhZ0Fycm93KTtcbiAgICAgICAgdGhpcy4kY29udGVudCA9ICR0YWcuZmluZChcIi5cIit0aGlzLm8uY2xhc3NOYW1lcy50YWdDb250ZW50KTtcbiAgICAgICAgdGhpcy4kd3JhcHBlciA9IHRoaXMuJHRhZy5wYXJlbnRzKFwiLlwiK3RoaXMuby5jbGFzc05hbWVzLnRhZ1dyYXBwZXIpO1xuXG4gICAgICAgIHRoaXMuYWRkTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMubW91c2VPdmVyVGFnID0gZmFsc2U7XG5cbiAgICAgICAgLy8gQ2hhbmdlIGhvdmVyIHpvbmUgYW5kIHNhZmV0eU1hcmdpbiB0byBwb3VyY2VudGFnZSBiYXNlZCBvbiBuYXJ0dXJhbCBpbWFnZSBzaXplXG4gICAgICAgIHRoaXMuaG92ZXJXaWR0aCA9IHRoaXMuby5ob3ZlcldpZHRoLmluZGV4T2YoJyUnKSA+IDAgPyAgcGFyc2VJbnQodGhpcy5vLmhvdmVyV2lkdGguc3Vic3RyKDAsdGhpcy5vLmhvdmVyV2lkdGgubGVuZ3RoLTEpKSA6ICggcGFyc2VJbnQodGhpcy5vLmhvdmVyV2lkdGguc3Vic3RyKDAsdGhpcy5vLmhvdmVyV2lkdGgubGVuZ3RoLTIpKSAqIDEwMCApIC8gdGhpcy4kd3JhcHBlci5maW5kKCdpbWcnKS5nZXQoMCkubmF0dXJhbFdpZHRoO1xuICAgICAgICB0aGlzLmhvdmVySGVpZ2h0ID0gdGhpcy5vLmhvdmVySGVpZ2h0LmluZGV4T2YoJyUnKSA+IDAgPyAgcGFyc2VJbnQodGhpcy5vLmhvdmVySGVpZ2h0LnN1YnN0cigwLHRoaXMuby5ob3ZlckhlaWdodC5sZW5ndGgtMSkpIDogKCBwYXJzZUludCh0aGlzLm8uaG92ZXJIZWlnaHQuc3Vic3RyKDAsdGhpcy5vLmhvdmVySGVpZ2h0Lmxlbmd0aC0yKSkgKiAxMDAgKSAvIHRoaXMuJHdyYXBwZXIuZmluZCgnaW1nJykuZ2V0KDApLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIHRoaXMuc2FmZXR5TWFyZ2luID0gKHRoaXMuby5zYWZldHlNYXJnaW4qIDEwMCApIC8gdGhpcy4kd3JhcHBlci5maW5kKCdpbWcnKS5nZXQoMCkubmF0dXJhbFdpZHRoO1xuICAgIH1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09IElOVEVSTkFMIE1FVEhPRFMgPT09PT09PT09PT09PT09PT09PVxuICAgIGNoZWNrUG9zaXRpb25UYWcoKSB7XG4gICAgICBpZiAoIHRoaXMuJHRhZy5oYXNDbGFzcyh0aGlzLm8uY2xhc3NOYW1lcy5wb3N0aW9uQ2VudGVyKSApIHtcbiAgICAgICAgbGV0IGNvbnRlbnRXID0gdGhpcy4kY29udGVudC5vdXRlcldpZHRoKCk7XG4gICAgICAgIGxldCBvbGRUcmFuc2Zvcm1YID0gcGFyc2VJbnQoKHBhcnNlRmxvYXQodGhpcy4kY29udGVudC5jc3MoJ3RyYW5zZm9ybScpLnNwbGl0KCcsJylbNF0pKjEwMCkvY29udGVudFcpO1xuICAgICAgICBsZXQgc2FmZXR5TWFyZ2luUHggPSAodGhpcy5zYWZldHlNYXJnaW4qdGhpcy53cmFwcGVyVykvMTAwO1xuXG4gICAgICAgIGxldCBvdmVybGFwTGVmdCA9IHRoaXMuJGNvbnRlbnQub2Zmc2V0KCkubGVmdCAtIHRoaXMuJHdyYXBwZXIub2Zmc2V0KCkubGVmdCAtIHNhZmV0eU1hcmdpblB4O1xuICAgICAgICBsZXQgb3ZlcmxhcFJpZ2h0ID0gKHRoaXMuJGNvbnRlbnQub2Zmc2V0KCkubGVmdCArIGNvbnRlbnRXKSAtICh0aGlzLiR3cmFwcGVyLm9mZnNldCgpLmxlZnQgKyB0aGlzLndyYXBwZXJXIC0gc2FmZXR5TWFyZ2luUHgpO1xuXG4gICAgICAgIGlmICggb3ZlcmxhcExlZnQgPCAwICkge1xuICAgICAgICAgIC8vIGRlZmF1bHQgdHJhbnNsYXRlIC01MCVcbiAgICAgICAgICBsZXQgbmV3VmFsdWUgPSBvbGRUcmFuc2Zvcm1YICsgTWF0aC5hYnMocGFyc2VJbnQoKG92ZXJsYXBMZWZ0KjEwMCkvY29udGVudFcpKSA7XG4gICAgICAgICAgdGhpcy4kY29udGVudC5jc3MoJ3RyYW5zZm9ybScsJ3RyYW5zbGF0ZVgoJytuZXdWYWx1ZSsnJSknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggb3ZlcmxhcFJpZ2h0ID4gMCApIHtcbiAgICAgICAgICBsZXQgbmV3VmFsdWUgPSBvbGRUcmFuc2Zvcm1YIC0gTWF0aC5hYnMocGFyc2VJbnQoKG92ZXJsYXBSaWdodCoxMDApL2NvbnRlbnRXKSkgO1xuICAgICAgICAgIHRoaXMuJGNvbnRlbnQuY3NzKCd0cmFuc2Zvcm0nLCd0cmFuc2xhdGVYKCcrbmV3VmFsdWUrJyUpJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09IEVYVEVSTkFMIE1FVEhPRFMgPT09PT09PT09PT09PT09PT09PVxuICAgIHRyaWdnZXIoZXZlbnQsIGZvcmNlKSB7XG4gICAgICAgIGlmICh0aGlzLm8udHJpZ2dlckV2ZW50cykgdGhpcy5kaXNwYXRjaGVyLnRyaWdnZXIoZXZlbnQsIHRoaXMpO1xuICAgIH1cblxuICAgIG9uKGV2ZW50LCBjYWxsYmFjaywgc2NvcGUpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLm9uKGV2ZW50LCBjYWxsYmFjaywgc2NvcGUpO1xuICAgIH1cbiAgICBvZmYoIGV2ZW50LCBjYWxsYmFjaywgc2NvcGUgKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5vZmYoZXZlbnQsIGNhbGxiYWNrLCBzY29wZSk7XG4gICAgfVxuXG4gICAgaXNNb3VzZU92ZXIoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3VzZU92ZXJUYWcgfHwgdGhpcy5pc01vdXNlT3ZlclpvbmUoZSk7XG4gICAgfVxuXG4gICAgaXNNb3VzZU92ZXJab25lKGUpIHtcbiAgICAgICAgbGV0IG1vdXNlWCA9IGUuY2xpZW50WDtcbiAgICAgICAgbGV0IG1vdXNlWSA9IGUuY2xpZW50WTtcbiAgICAgICAgbGV0IGFycm93ID0gdGhpcy4kYXJyb3dbMF07XG4gICAgICAgIGxldCB0YWdYID0gKHBhcnNlSW50KGFycm93LnN0eWxlLmxlZnQpKnRoaXMud3JhcHBlclcpLzEwMCArIHRoaXMuJHdyYXBwZXIub2Zmc2V0KCkubGVmdDtcbiAgICAgICAgbGV0IHRhZ1kgPSAocGFyc2VJbnQoYXJyb3cuc3R5bGUudG9wKSp0aGlzLndyYXBwZXJIKS8xMDAgKyB0aGlzLiR3cmFwcGVyLm9mZnNldCgpLnRvcDtcbiAgICAgICAgbGV0IGhvdmVyV2lkdGhQeCA9ICh0aGlzLmhvdmVyV2lkdGgqdGhpcy53cmFwcGVyVy8xMDApO1xuICAgICAgICBsZXQgaG92ZXJIZWlnaHRQeCA9ICh0aGlzLmhvdmVySGVpZ2h0KnRoaXMud3JhcHBlckgvMTAwKTtcblxuICAgICAgICByZXR1cm4gKHRoaXMuby5ob3ZlcldpZHRoICE9PSBcIjEwMCVcIiAmJiBtb3VzZVggPiB0YWdYIC0gaG92ZXJXaWR0aFB4LzIgJiYgbW91c2VYIDwgdGFnWCArIGhvdmVyV2lkdGhQeC8yICYmIHRoaXMuby5ob3ZlckhlaWdodCAhPT0gXCIxMDAlXCIgJiYgbW91c2VZID4gdGFnWSAtIGhvdmVySGVpZ2h0UHgvMiAmJiBtb3VzZVkgPCB0YWdZICsgaG92ZXJIZWlnaHRQeC8yKSB8fFxuICAgICAgICAgICAgICAgICh0aGlzLm8uaG92ZXJIZWlnaHQgPT09IFwiMTAwJVwiICYmIHRoaXMuby5ob3ZlcldpZHRoID09PSBcIjEwMCVcIikgfHxcbiAgICAgICAgICAgICAgICAodGhpcy5vLmhvdmVySGVpZ2h0ID09PSBcIjEwMCVcIiAmJiB0aGlzLm8uaG92ZXJXaWR0aCAhPT0gXCIxMDAlXCIgJiYgbW91c2VYID4gdGFnWCAtIGhvdmVyV2lkdGhQeC8yICYmIG1vdXNlWCA8IHRhZ1ggKyBob3ZlcldpZHRoUHgvMikgfHxcbiAgICAgICAgICAgICAgICAodGhpcy5vLmhvdmVyV2lkdGggPT09IFwiMTAwJVwiICYmIHRoaXMuby5ob3ZlckhlaWdodCAhPT0gXCIxMDAlXCIgJiYgbW91c2VZID4gdGFnWSAtIGhvdmVySGVpZ2h0UHgvMiAmJiBtb3VzZVkgPCB0YWdZICsgaG92ZXJIZWlnaHRQeC8yKTtcbiAgICB9XG5cbiAgICBvbm1vdXNlT3ZlclRhZyhlKSB7XG4gICAgICAgIHRoaXMubW91c2VPdmVyVGFnID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnRyaWdnZXIoJ2VudGVyJywgdGhpcywgZSk7XG4gICAgfVxuXG4gICAgb25Nb3VzZW91dHRhZyhlKSB7XG4gICAgICAgIHRoaXMubW91c2VPdmVyVGFnID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci50cmlnZ2VyKCdsZWF2ZScsIHRoaXMsIGUpO1xuICAgIH1cblxuICAgIGFjdGl2ZSgpIHtcbiAgICAgICAgdGhpcy4kdGFnLmFkZENsYXNzKCd0YWctLWFjdGl2ZScpO1xuICAgICAgICB0aGlzLmNoZWNrUG9zaXRpb25UYWcoKTtcbiAgICB9XG4gICAgZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy4kdGFnLnJlbW92ZUNsYXNzKCd0YWctLWFjdGl2ZScpO1xuICAgICAgICB0aGlzLm1vdXNlT3ZlclRhZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGFkZExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fb25tb3VzZU92ZXJUYWcgPSAoZSkgPT4gdGhpcy5vbm1vdXNlT3ZlclRhZyhlKTtcbiAgICAgICAgdGhpcy5fb25Nb3VzZW91dHRhZyA9IChlKSA9PiB0aGlzLm9uTW91c2VvdXR0YWcoZSk7XG5cbiAgICAgICAgLyogIFVzZSBtb3VzZWVudGVyL21vdXNlbGVhdmUgOiBwcmV2ZW50IG9ubW91c2VvdXQgd2hlbiBob3ZlcmluZyBjaGlsZCBlbGVtZW50ICAqL1xuICAgICAgICB0aGlzLiR0YWcub24oJ21vdXNlZW50ZXInLCB0aGlzLl9vbm1vdXNlT3ZlclRhZyk7XG4gICAgICAgIHRoaXMuJHRhZy5vbignbW91c2VsZWF2ZScsIHRoaXMuX29uTW91c2VvdXR0YWcpO1xuICAgIH1cblxuICAgIHJlbW92ZUxpc3RlbmVycygpIHtcbiAgICAgICAgLyogIFVzZSBtb3VzZWVudGVyL21vdXNlbGVhdmUgOiBwcmV2ZW50IG9ubW91c2VvdXQgd2hlbiBob3ZlcmluZyBjaGlsZCBlbGVtZW50ICAqL1xuICAgICAgICB0aGlzLiR0YWcub2ZmKCdtb3VzZWVudGVyJywgdGhpcy5fb25tb3VzZU92ZXJUYWcpO1xuICAgICAgICB0aGlzLiR0YWcub2ZmKCdtb3VzZWxlYXZlJywgdGhpcy5fb25Nb3VzZW91dHRhZyk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFRhZztcbiIsImNsYXNzIERpc3BhdGNoZXIge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYWN0aW9ucyA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayB3aXRoIGFuIGFjdGlvblxuICAgICAqIHNjb3BlIGRlZmluZXMgdGhlIHNjb3BlIG9uIHdpY2ggY2FsbGJhY2tcbiAgICAgKiB3aWxsIGJlIGNhbGxlZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7Y29udGV4dH0gc2NvcGVcbiAgICAgKi9cbiAgICBvbihhY3Rpb24sIGNhbGxiYWNrLCBzY29wZSkge1xuXG4gICAgICAgIGlmICghdGhpcy5hY3Rpb25zW2FjdGlvbl0pIHRoaXMuYWN0aW9uc1thY3Rpb25dID0gW3tcbiAgICAgICAgICAgIHNjb3BlOiBzY29wZSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgICAgICB9XTtcbiAgICAgICAgZWxzZSB0aGlzLmFjdGlvbnNbYWN0aW9uXS5wdXNoKHtcbiAgICAgICAgICAgIHNjb3BlOiBzY29wZSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgcmVnaXN0ZXJlZCBjYWxsYmFjayBmcm9tIGFuIGFjdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqL1xuICAgIG9mZihhY3Rpb24sIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3Rpb25zW2FjdGlvbl0pIGNvbnNvbGUud2FybignRGlzcGF0Y2hlci0+JythY3Rpb24rJyBpcyB1bmRlZmluZWQnKTtcbiAgICAgICAgaWYgKCFjYWxsYmFjaykgdGhpcy5hY3Rpb25zW2FjdGlvbl0gPSBbXTtcblxuICAgICAgICBsZXQgX2luZGV4ID0gdGhpcy5hY3Rpb25zW2FjdGlvbl0uaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgIGlmIChfaW5kZXggPiAtMSkgdGhpcy5hY3Rpb25zW2FjdGlvbl0uc3BsaWNlKF9pbmRleCwxKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYW4gYWN0aW9uIGFuZCBhbGwgYXNzb2NpYXRlZCBjYWxsYmFja3NcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uXG4gICAgICogQHBhcmFtIHthbnl9IHBhcmFtcyAtIGFueSBudW1iZXIgb2Ygb3B0aW9ubmFsIHBhcmFtcyBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrc1xuICAgICAqL1xuICAgIHRyaWdnZXIoYWN0aW9uLCAuLi5wYXJhbXMpIHtcblxuICAgICAgICBpZiAodGhpcy5hY3Rpb25zW2FjdGlvbl0pIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uc1thY3Rpb25dLmZvckVhY2goZnVuY3Rpb24oX2FjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgX2FjdGlvbi5jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2FjdGlvbi5zY29wZSkgX2FjdGlvbi5jYWxsYmFjay5jYWxsKF9hY3Rpb24uc2NvcGUsIC4uLnBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgX2FjdGlvbi5jYWxsYmFjayguLi5wYXJhbXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGlzcGF0Y2hlcjsiLCJsZXQgZXF1YWxIZWlnaHQgPSB7XG5cbiAgICBkZWZhdWx0Q29udGFpbmVyOiAnI2NvbnRhaW5lcicsXG4gICAgZGVmYXVsdFNlbGVjdG9yOiAnLmpzLWVxdWFsLWhlaWdodCcsXG4gICAgZGVmYXVsdE1haW5TZWxlY3RvcjogJy5qcy1lcXVhbC1oZWlnaHQtbWFpbicsXG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0byBzZXQgZXF1YWwgaGVpZ2h0IG9uIGFsbCBpdGVtcyBvZiBhIGNvbnRhaW5lclxuICAgICAqIEBwYXJhbSBpdGVtQ29udGFpbmVyIHtzdHJpbmd9XG4gICAgICogQHBhcmFtIGl0ZW1TZWxlY3RvciB7c3RyaW5nfVxuICAgICAqIEBwYXJhbSBtYWluU2VsZWN0b3Ige3N0cmluZ30gU3BlY2lmeSB0aGUgcmVmZXJlbmNlIGVsZW1lbnQ6IGFsbCBvdGhlcnMgaXRlbXMgd2lsbCBiZSBzaXplZCB0byBtYXRjaCB0aGlzIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gcmVtb3ZlUGFkZGluZyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBlcXVhbGl6ZSggaXRlbUNvbnRhaW5lciwgaXRlbVNlbGVjdG9yLCBtYWluU2VsZWN0b3IsIHJlbW92ZVBhZGRpbmcgKVxuICAgIHtcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGl0ZW1Db250YWluZXIgPyBpdGVtQ29udGFpbmVyIDogdGhpcy5kZWZhdWx0Q29udGFpbmVyO1xuICAgICAgICBsZXQgc2VsZWN0b3IgPSBpdGVtU2VsZWN0b3IgPyBpdGVtU2VsZWN0b3IgOiB0aGlzLmRlZmF1bHRTZWxlY3RvcjtcbiAgICAgICAgbGV0IG1haW4gPSBtYWluU2VsZWN0b3IgPyBtYWluU2VsZWN0b3IgOiB0aGlzLmRlZmF1bHRNYWluU2VsZWN0b3I7XG5cbiAgICAgICAgJChjb250YWluZXIpLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGV0ICRpdGVtcyA9ICQodGhpcykuZmluZChzZWxlY3Rvcik7XG4gICAgICAgICAgICBsZXQgbWF4SCA9ICRpdGVtcy5maW5kKG1haW4pLmxlbmd0aCA+IDAgPyAkaXRlbXMuZmluZChtYWluKS5vdXRlckhlaWdodCgpIDogMDtcblxuICAgICAgICAgICAgaWYgKCRpdGVtcy5maW5kKG1haW4pLmxlbmd0aCA8PSAwKSB7IC8vIGlmIG5vIG1haW4gZ2V0IG1heFxuICAgICAgICAgICAgICAgICRpdGVtcy5lYWNoKCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNhdmUgb2xkIHN0eWxlXG4gICAgICAgICAgICAgICAgICAgIGxldCBfJGl0ZW0gPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgb2xkU3R5bGUgPSBfJGl0ZW0uYXR0cignc3R5bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgXyRpdGVtLmF0dHIoJ3N0eWxlJywgJycpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbUggPSBwYXJzZUZsb2F0KF8kaXRlbS5vdXRlckhlaWdodCgpKSAtIHBhcnNlRmxvYXQoXyRpdGVtLmNzcygncGFkZGluZy10b3AnKSkgLSBwYXJzZUZsb2F0KF8kaXRlbS5jc3MoJ3BhZGRpbmctYm90dG9tJykpO1xuICAgICAgICAgICAgICAgICAgICBtYXhIID0gKCBpdGVtSCA+IG1heEggKSA/IGl0ZW1IIDogbWF4SDtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgc3R5bGVcbiAgICAgICAgICAgICAgICAgICAgXyRpdGVtLmF0dHIoJ3N0eWxlJywgb2xkU3R5bGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXJlbW92ZVBhZGRpbmcpIHtcbiAgICAgICAgICAgICAgICAkaXRlbXMuaGVpZ2h0KCBtYXhIICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRpdGVtcy5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0ICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuaGVpZ2h0KCBtYXhIIC0gcGFyc2VGbG9hdCgkdGhpcy5jc3MoJ3BhZGRpbmctdG9wJykpIC0gcGFyc2VGbG9hdCgkdGhpcy5jc3MoJ3BhZGRpbmctYm90dG9tJykpICk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGVxdWFsSGVpZ2h0O1xuIiwibGV0IHNjcm9sbFRvRWxlbWVudCA9IHtcblxuICAgIGluaXQoKSB7XG5cbiAgICAgICAgd2luZG93Lm9uaGFzaGNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2Nyb2xsVG9FbGVtZW50LnNjcm9sbFRvQW5jaG9yKCB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSkgKTtcbiAgICAgICAgfTtcblxuICAgIH0sXG5cbiAgICBzY3JvbGxUb0VsZW1lbnQoJGVsLCBjYWxsYmFjaykge1xuXG4gICAgICAgIGxldCBfc2Nyb2xsVG9wID0gJCgnaHRtbCcpLnNjcm9sbFRvcCgpIHx8ICQoJ2JvZHknKS5zY3JvbGxUb3AoKTtcbiAgICAgICAgbGV0IF9vZmZzZXQgPSAkZWwub2Zmc2V0KCkudG9wO1xuICAgICAgICBsZXQgX3RpbWUgPSBNYXRoLmFicyggKF9vZmZzZXQtX3Njcm9sbFRvcCkgLyAxMDAgKiA1MCApOyAvLzUwbXMgdG8gZ28gZG93biAxMDBweFxuXG4gICAgICAgICQud2hlbigkKCdodG1sLGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDpfb2Zmc2V0XG4gICAgICAgIH0sX3RpbWUpKS5kb25lKCBjYWxsYmFjayApO1xuXG4gICAgfSxcblxuICAgIHNjcm9sbFRvVmlkZW8oJHZpZGVvKSB7XG5cbiAgICAgICAgaWYgKCR2aWRlbyAmJiAkdmlkZW8ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvRWxlbWVudCgkdmlkZW8sICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoJHZpZGVvLmlzKCd2aWRlbycpICYmICR2aWRlby5kYXRhKCdwbGF5ZXInKSkge1xuICAgICAgICAgICAgICAgICAgICAkdmlkZW8uZGF0YSgncGxheWVyJykucGxheSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHZpZGVvLmhhc0NsYXNzKCdqcy1wb3Bpbi1wbGF5ZXItdHJpZ2dlcicpKSB7XG4gICAgICAgICAgICAgICAgICAgICR2aWRlb1swXS5jbGljaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgIH0sXG5cbiAgICBzY3JvbGxUb0FuY2hvcihfYW5jaG9yKSB7XG5cbiAgICAgICAgaWYgKF9hbmNob3IpIHtcblxuICAgICAgICAgICAgbGV0ICRhbmNob3IgPSAkKCcjJytfYW5jaG9yKTtcbiAgICAgICAgICAgIGlmICghJGFuY2hvci5sZW5ndGgpICRhbmNob3IgPSAkKCdbZGF0YS1oYXNoPVwiJyArIF9hbmNob3IgKyAnXCJdJyk7XG4gICAgICAgICAgICBpZiAoJGFuY2hvci5sZW5ndGgpIHRoaXMuc2Nyb2xsVG9FbGVtZW50KCRhbmNob3IsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICgkYW5jaG9yLmRhdGEoJ2FjY29yZGlvbicpKSAkYW5jaG9yLmRhdGEoJ2FjY29yZGlvbicpLm9wZW4oJGFuY2hvcik7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIH1cblxuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHNjcm9sbFRvRWxlbWVudDtcbiIsIlxubGV0IHN0b2NrU3RhdHVzID0ge1xuXG4gICAgcHVzaEVjb1NlbGVjdG9yOiBcIi5qcy1wdXNoLWVjb1wiLFxuICAgIG5vdEZvclNhbGU6ICdOT1RGT1JTQUxFJyxcbiAgICBvdXRPZlN0b2NrOiAnT1VUT0ZTVE9DSycsXG4gICAgYXZhaWxhYmxlOiAnQVZBSUxBQkxFJyxcblxuICAgIC8vIGNhc2UgY2hpbmE6IGluamVjdCBwcmljZVxuICAgIHB1c2hQcmljZVNlbGVjdG9yOiBcIi5qcy1wdXNoLXByaWNlXCIsXG5cbiAgICAkcHVzaGVzOiBudWxsLFxuXG4gICAgdGltZW91dDogbnVsbCxcblxuICAgIGluaXQoKSB7XG4gICAgICAgIHN0b2NrU3RhdHVzLiRwdXNoZXMgPSAkKHN0b2NrU3RhdHVzLnB1c2hFY29TZWxlY3Rvcik7XG5cbiAgICAgICAgbGV0IF9kYXRhO1xuICAgICAgICBpZiAoZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5QUk9EVUNULlNUT0NLX1NUQVRVUy5tZXRob2QgPT09ICdQT1NUJykge1xuXG4gICAgICAgICAgICBsZXQgX2l0ZW1zID0gW107XG5cbiAgICAgICAgICAgIHN0b2NrU3RhdHVzLiRwdXNoZXMuZWFjaCggKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IF9idG4gPSAkKGVsKS5maW5kKCdidXR0b25bZGF0YS1za3VdLCBidXR0b25bZGF0YS1wcm9kdWN0c2t1c3FiXScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKF9idG4uYXR0cignZGF0YS1za3UnKSkge1xuICAgICAgICAgICAgICAgICAgICBfaXRlbXMucHVzaCgge3NrdTogX2J0bi5kYXRhKCdza3UnKX0gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgX3NrdXMgPSBfYnRuLmRhdGEoJ3Byb2R1Y3Rza3VzcWInKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IF9jb2RlcyA9IF9za3VzLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBfbCA9IF9jb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgX2w7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZW1zLnB1c2goIHtza3U6IF9jb2Rlc1tqXX0gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBfZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBpdGVtczogX2l0ZW1zXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5QUk9EVUNULlNUT0NLX1NUQVRVUy5jb250ZW50VHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nKSB7XG4gICAgICAgICAgICAgICAgX2RhdGEgPSBKU09OLnN0cmluZ2lmeSggX2RhdGEgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdG9ja1N0YXR1cy4kcHVzaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCB4aHIgPSAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5QUk9EVUNULlNUT0NLX1NUQVRVUy51cmwsXG4gICAgICAgICAgICAgICAgdHlwZTogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5QUk9EVUNULlNUT0NLX1NUQVRVUy5tZXRob2QsXG4gICAgICAgICAgICAgICAgLy8gZm9yIENoaW5hLCBwYXNzIHRoZSB3YW50ZWQgc2t1cyBsaXN0XG4gICAgICAgICAgICAgICAgZGF0YTogX2RhdGEsXG4gICAgICAgICAgICAgICAgLy8gREVGSU5FIEEgRk9STUFUVEVSIE9CSkVDVCBGT1IgVEhFIENBTExcbiAgICAgICAgICAgICAgICAvLyBtdXN0IGhhdmUgYSBSZXF1ZXN0IG1ldGhvZCB0aGF0IGZvcm1hdCB0aGUgc2V0dGluZ3MgZGF0YSBvYmplY3QgZGlyZWN0bHlcbiAgICAgICAgICAgICAgICAvLyBtdXN0IGhhdmUgYSBSZXNwb25zZSBtZXRob2QgdGhhdCBmb3JtYXQgdGhlIGRhdGEsIGFuZCByZXR1cm4gYSBzdHJpbmdpZmllZCBvYmplY3RcbiAgICAgICAgICAgICAgICAvLyBAc2VlIGRpb3JWNy5jb25maWcuanNcbiAgICAgICAgICAgICAgICAvLyBAc2VlYWxzbyBwY2lzLkFqYXhGb3JtYXQuanMgKGh0dHA6Ly93d3cuZGlvci5jbi9tZWRpYXMvdmVyc2lvbi02LjkuMTQ4ODU1ODY2OTczOS9wY2lzL2pzL2N1c3RvbV9jbi5qcylcbiAgICAgICAgICAgICAgICB4aHJGaWVsZHM6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuUFJPRFVDVC5TVE9DS19TVEFUVVMueGhyRmllbGRzLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5QUk9EVUNULlNUT0NLX1NUQVRVUy5mb3JtYXR0ZXIsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuUFJPRFVDVC5TVE9DS19TVEFUVVMuY29udGVudFR5cGUsXG5cbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4gdGhpcy5vblN1Y2Nlc3MoZGF0YSksXG4gICAgICAgICAgICAgICAgZXJyb3I6IChkYXRhKSA9PiB0aGlzLm9uRXJyb3IoZGF0YSlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyB0aW1lb3V0OiBpZiBXUyBkb2Vzbid0IHJlc3BvbmQgcXVpY2tseSBlbm91Z2hcbiAgICAgICAgICAgIGlmIChkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLlBST0RVQ1QuU1RPQ0tfU1RBVFVTLnRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICBzdG9ja1N0YXR1cy50aW1lb3V0ID0gc2V0VGltZW91dCggKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB4aHIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9LCBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLlBST0RVQ1QuU1RPQ0tfU1RBVFVTLnRpbWVvdXQgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvblN1Y2Nlc3MoZGF0YSkge1xuICAgICAgICBjbGVhclRpbWVvdXQoIHN0b2NrU3RhdHVzLnRpbWVvdXQgKTtcbiAgICAgICAgaWYgKGRhdGEuZXJyb3JDb2RlKSByZXR1cm4gdGhpcy5vbkVycm9yKGRhdGEpO1xuXG4gICAgICAgIHN0b2NrU3RhdHVzLiRwdXNoZXMuZWFjaCggKGksIGVsKSA9PiB7XG4gICAgICAgICAgICBsZXQgX2J0biA9ICQoZWwpLmZpbmQoJ2J1dHRvbltkYXRhLXNrdV0sIGJ1dHRvbltkYXRhLXByb2R1Y3Rza3VzcWJdJyk7XG4gICAgICAgICAgICBsZXQgX2NvZGVzID0gW107XG4gICAgICAgICAgICBsZXQgX2RlZmF1bHRTa3U7XG5cbiAgICAgICAgICAgIGlmIChfYnRuLmF0dHIoJ2RhdGEtc2t1JykpIHtcbiAgICAgICAgICAgICAgICBfZGVmYXVsdFNrdSA9IF9idG4uZGF0YSgnc2t1Jyk7XG4gICAgICAgICAgICAgICAgX2NvZGVzID0gW19kZWZhdWx0U2t1XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IF9za3VzID0gX2J0bi5kYXRhKCdwcm9kdWN0c2t1c3FiJyk7XG4gICAgICAgICAgICAgICAgaWYgKF9za3VzID09PSB1bmRlZmluZWQpIGNvbnNvbGUud2FybignW1N0b2NrU3RhdHVzXTogcHJvZHVjdCBtaXNzaW5nIHZhcmllbnQgbGlzdCBpbiBhdHRyaWJ1dGUgZGF0YS1wcm9kdWN0c2t1c3FiJyk7XG4gICAgICAgICAgICAgICAgX2NvZGVzID0gX3NrdXMuc3BsaXQoJywnKTtcblxuICAgICAgICAgICAgICAgIF9kZWZhdWx0U2t1ID0gX2J0bi5hdHRyKCdkZWZhdWx0LXNrdScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgX2wgPSBfY29kZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBydWxlczpcbiAgICAgICAgICAgIC8vIC0gaWYgYXQgbGVhc3Qgb25lIGlzIGF2YWlsYWJsZSwgZGlzcGxheSBidXkgYnRuXG4gICAgICAgICAgICAvLyAtIGlmIG9uZSBpcyBub3RGb3JTYWxlLCBkaXNwbGF5IGRpc2NvdmVyXG4gICAgICAgICAgICAvLyAtIGVsc2UsIGl0IG1lYW5zIHRoYXQgYWxsIGFyZSBvdXQgb2Ygc3RvY2ssIGRpc3BsYXkgbWVzc2FnZVxuICAgICAgICAgICAgbGV0IF9hdmFpbGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBfbm90Rm9yU2FsZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8X2w7ICsraSkge1xuICAgICAgICAgICAgICAgIGxldCBfY29kZSA9IF9jb2Rlc1tpXTtcblxuICAgICAgICAgICAgICAgIGxldCBfc3RhdHVzO1xuICAgICAgICAgICAgICAgIGlmIChfY29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zdGF0dXMgPSBkYXRhLmRhdGFbX2NvZGVdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9zdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0b2NrU3RhdHVzLmF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChfc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3N0YXR1cy5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugc3RvY2tTdGF0dXMubm90Rm9yU2FsZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbm90Rm9yU2FsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHN0b2NrU3RhdHVzLm91dE9mU3RvY2s6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHN0b2NrU3RhdHVzLmF2YWlsYWJsZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYXZhaWxhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tTdG9ja1N0YXR1c106IG1pc3NpbmcgcHJvZHVjdCAnKyBfY29kZSArJyBpbiBXUyAtPiBjb25zaWRlciB0aGlzIHByb2R1Y3QgYXMgYXZhaWxhYmxlLicpO1xuICAgICAgICAgICAgICAgICAgICBfYXZhaWxhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfYXZhaWxhYmxlKSB7XG4gICAgICAgICAgICAgICAgLy8gZGlzcGxheSBidXkgYnV0dG9uXG4gICAgICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KCQoZWwpLmZpbmQoJy5wdXNoLWJ1dHRvbiBidXR0b24nKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF9ub3RGb3JTYWxlKSB7XG4gICAgICAgICAgICAgICAgLy8gZGlzcGxheSBkaXNjb3ZlciBsaW5rXG4gICAgICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KCQoZWwpLmZpbmQoJy5wdXNoLWJ1dHRvbiBhJykpO1xuICAgICAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZSgkKGVsKS5maW5kKCcucHVzaC1wcmljZScpKTtcbiAgICAgICAgICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLmhpZGUoJChlbCkuZmluZCgnLnNlcGFyYXRvcicpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYWxsIHByb2R1Y3RzIG91dCBvZiBzdG9ja1xuICAgICAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuc2hvdygkKGVsKS5maW5kKCcucHVzaC1idXR0b24gcCcpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ0hJTkE6IGluamVjdCBwcmljZSAob2YgdGhlIHNrdSBvciBkZWZhdWx0IHNrdSlcbiAgICAgICAgICAgIGxldCBfZGVmYXVsdFN0YXR1cyA9IGRhdGEuZGF0YVtfZGVmYXVsdFNrdV07XG4gICAgICAgICAgICBpZiAoX2RlZmF1bHRTdGF0dXMgJiYgX2RlZmF1bHRTdGF0dXMucHJpY2UgJiYgc3RvY2tTdGF0dXMucHVzaFByaWNlU2VsZWN0b3IgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAkKGVsKS5maW5kKCBzdG9ja1N0YXR1cy5wdXNoUHJpY2VTZWxlY3RvciApLnRleHQoIF9kZWZhdWx0U3RhdHVzLnByaWNlICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBvbkVycm9yKGRhdGEpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KCBzdG9ja1N0YXR1cy50aW1lb3V0ICk7XG4gICAgICAgIGNvbnNvbGUud2FybignW1N0b2NrU3RhdHVzXTogd3MgZmFpbGVkLicpO1xuXG4gICAgICAgIC8vIGRpc3BsYXkgcHJvZHVjdCBsaW5rIGJ5IGRlZmF1bHRcbiAgICAgICAgc3RvY2tTdGF0dXMuJHB1c2hlcy5lYWNoKCAoaSwgZWwpID0+IHtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuc2hvdyggJChlbCkuZmluZCgnLnB1c2gtYnV0dG9uIGJ1dHRvbi5qcy1hZGR0b2NhcnQnKSApO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHN0b2NrU3RhdHVzO1xuIiwiaW1wb3J0IGFjY291bnRBZGRyZXNzZXMgZnJvbSAnLi9hY2NvdW50L2FkZHJlc3Nlcy5qcyc7XG5pbXBvcnQgYWNjb3VudFZpZGVvcyBmcm9tICcuL2FjY291bnQvdmlkZW9zLmpzJztcbmltcG9ydCBhY2NvdW50UmV0dXJuIGZyb20gJy4vYWNjb3VudC9yZXR1cm4uanMnO1xuaW1wb3J0IGFjY291bnRDYW5jZWwgZnJvbSAnLi9hY2NvdW50L2NhbmNlbC5qcyc7XG5pbXBvcnQgYWNjb3VudFdpc2hsaXN0IGZyb20gJy4vYWNjb3VudC93aXNobGlzdC5qcyc7XG5pbXBvcnQgemlwY29kZSBmcm9tICcuL2FjY291bnQvemlwY29kZS5qcyc7XG5pbXBvcnQgYWNjb3VudE5ld3NsZXR0ZXJzIGZyb20gJy4vYWNjb3VudC9uZXdzbGV0dGVycy5qcyc7XG5pbXBvcnQgUG9waW5BamF4Rm9ybSBmcm9tICcuLi9jb21wb25lbnRzL3BvcGlucy9Qb3BpbkFqYXhGb3JtLmpzJztcbmltcG9ydCBMZWdhbEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9MZWdhbEZvcm0uanMnO1xuXG5sZXQgYWNjb3VudCA9IHtcblxuICAgIGluaXQgOiBmdW5jdGlvbigkZWwpIHtcbiAgICAgICAgdGhpcy4kZWwgPSAkZWw7XG4gICAgICAgIGRpb3JWNy5oZWxwZXJzLnJlZ2lzdGVySGFuZGxlYmFyc0hlbHBlcignaWZDb25kJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjY291bnQgd2lzaGxpc3QgZGlzcGxheXMgdGhlIGxpc3Qgb2YgaXRlbXMgYSB1c2VyIGhhcyBhZGRlZCB0byBoaXMgd2lzaGxpc3RcbiAgICAgICAgICogSXQgYWxsb3dzIHRoZSB1c2VyIHRvIGRlbGV0ZSBpdGVtcyBmcm9tIHRoYXQgbGlzdFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuJGVsLmhhc0NsYXNzKCdqcy1hY2NvdW50LXdpc2hsaXN0JykpIGFjY291bnRXaXNobGlzdC5pbml0KCRlbCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjY291bnQgdmlkZW9zIGRpc3BsYXlzIHRoZSBsaXN0IG9mIHZpZGVvcyBhIHVzZXIgaGFzIGFkZGVkIHRvIGhpcyB2aWRlbyBsaXN0XG4gICAgICAgICAqIEl0IGFsbG93cyB0aGUgdXNlciB0byBkZWxldGUgaXRlbXMgZnJvbSB0aGF0IGxpc3QgYW5kIHRvIHZpZXcgdGhlIHZpZGVvcyBpbiBhXG4gICAgICAgICAqIGZ1bGxzY3JlZW4gcG9waW5cbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLiRlbC5oYXNDbGFzcygnanMtYWNjb3VudC12aWRlb3MnKSkgYWNjb3VudFZpZGVvcy5pbml0KCRlbCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhY2NvdW50IGFkZHJlc3MgYm9vayBhbGxvd3MgdXNlcnMgdG8gbWFuYWdlIHRoZWlyIGFkZHJlc3NlcywgYWRkaW5nLFxuICAgICAgICAgKiBkZWxldGluZyBhbmQgdXBkYXRpbmcgdGhlbVxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuJGVsLmhhc0NsYXNzKCdqcy1hY2NvdW50LWFkZHJlc3NlcycpKSBhY2NvdW50QWRkcmVzc2VzLmluaXQoJGVsKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5ld3NsZXR0ZXIgcGFnZSBhbGxvd3MgdG8gbWFuYWdlIG5ld3NsZXR0ZXIgc3Vic2NyaXB0aW9ucyBmb3IgYSB1c2VyXG4gICAgICAgICAqIHRoYW5rcyB0byBhIGxpc3Qgb2YgY2hlY2tib3hlcy5cbiAgICAgICAgICogSWYgY291bnRyeSByZXF1aXJlcyBsZWdhbCBjb25kaXRpb25zIHRvIGJlIGNoZWNrZWQgdmFsaWRhdGlvbiB3aWxsIHRyaWdnZXJcbiAgICAgICAgICogYSBsZWdhbCBjb25kaXRpb25zIHBvcGluIHRvIHZhbGlkYXRlIGNoYW5nZXNcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLiRlbC5maW5kKCcuanMtYWNjb3VudC1uZXdzbGV0dGVycycpLmxlbmd0aCkgYWNjb3VudE5ld3NsZXR0ZXJzLmluaXQoJGVsKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJldHVybiBwYWdlIGFsbG93cyB0byBtYW5hZ2UgcmV0dXJuIGNob2ljZXMgJiBjb25kaXRpb25zIGZvciBhIHVzZXJcbiAgICAgICAgICogdGhhbmtzIHRvIGEgMyBzdGVwcyBmb3JtLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuJGVsLmhhc0NsYXNzKCdqcy1hY2NvdW50LXJldHVybicpKSBhY2NvdW50UmV0dXJuLmluaXQoJGVsKTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FuY2VsIG9yZGVyIHBhZ2UgYWxsb3dzIHRvIG1hbmFnZSBjYW5jZWwgb3JkZXIgZm9yIGEga29yZWFuIHVzZXJcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLiRlbC5oYXNDbGFzcygnanMtY2FuY2VsLW9yZGVyJykpIGFjY291bnRDYW5jZWwuaW5pdCgkZWwpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIGlmIGFkZHJlc3MgZm9ybSBjb250YWluIHppcGNvZGUgZm9yIGtvXG4gICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLiRlbC5maW5kKCcuanMtemlwY29kZScpLmxlbmd0aCkgemlwY29kZS5pbml0KCRlbCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXIgY2FuIG1hbmFnZSBwZXJzb25uYWwgaW5mb3JtYXRpb24gYW5kIGVkaXQgcGFzc3dvcmQuXG4gICAgICAgICAqIFRoaXMgZnVuY3Rpb25uYWxpdHkgYWxsb3dzIHRoZSB1c2VyIHRvIGRpc3BsYXkgaGlzIHBhc3N3b3JkXG4gICAgICAgICAqIGFzIHRleHQgaW5zdGVhZCBvZiBoaWRkZW4gY2hhcmFjdGVyc1xuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuJGVsLmZpbmQoJy5qcy1zaG93LXBhc3N3b3JkJykubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgIGxldCAkc2hvd1Bhc3N3b3JkID0gdGhpcy4kZWwuZmluZCgnLmpzLXNob3ctcGFzc3dvcmQnKTtcbiAgICAgICAgICAgIGxldCAkcGFzc3dvcmRJbnB1dCA9IHRoaXMuJGVsLmZpbmQoJy5qcy1wYXNzd29yZCcpO1xuXG4gICAgICAgICAgICBpZigkc2hvd1Bhc3N3b3JkLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICAgICAgICAgJHBhc3N3b3JkSW5wdXQuYXR0cihcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkcGFzc3dvcmRJbnB1dC5hdHRyKFwidHlwZVwiLCBcInBhc3N3b3JkXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc2hvd1Bhc3N3b3JkLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmKCRzaG93UGFzc3dvcmQuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgJHBhc3N3b3JkSW5wdXQuYXR0cihcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRwYXNzd29yZElucHV0LmF0dHIoXCJ0eXBlXCIsIFwicGFzc3dvcmRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmR2IGFuZCByZXNlcnZhdGlvbnMgcGFnZSBoYXMgdHdvIHN0YXRpYyBwb3BpbnMgdGhhdCBkaXNwbGF5XG4gICAgICAgICAqIHBob25lIG51bWJlcnMgdG8gbW9kaWZ5IHJlc2VydmF0aW9ucyBhbmQgcmR2XG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy4kZWwuZmluZCgnLmpzLW9wZW4tcG9waW4tYm9va2luZy1tb2RpZnknKS5sZW5ndGgpIHtcblxuICAgICAgICAgICAgZGlvclY3LnBvcGluTWFuYWdlci5pbnN0YW5jaWF0ZSh7XG4gICAgICAgICAgICAgICAgaWRlbnRpZmllcjogJ2FjY291bnQtYm9va2luZy1tb2RpZnknLFxuICAgICAgICAgICAgICAgICR0cmlnZ2VyOiBhY2NvdW50LiRlbC5maW5kKCcuanMtb3Blbi1wb3Bpbi1ib29raW5nLW1vZGlmeScpLFxuICAgICAgICAgICAgICAgICRlbDogJCgnLmpzLXBvcGluLWFjY291bnQtYm9va2luZy1tb2RpZnknKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRpb3JWNy5wb3Bpbk1hbmFnZXIuaW5zdGFuY2lhdGUoe1xuICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6ICdhY2NvdW50LWJvb2tpbmctZGVsZXRlJyxcbiAgICAgICAgICAgICAgICAkdHJpZ2dlcjogYWNjb3VudC4kZWwuZmluZCgnLmpzLW9wZW4tcG9waW4tYm9va2luZy1kZWxldGUnKSxcbiAgICAgICAgICAgICAgICAkZWw6ICQoJy5qcy1wb3Bpbi1hY2NvdW50LWJvb2tpbmctZGVsZXRlJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb3Jnb3R0ZW4gcGFzc3dvcmQgcG9waW4gaXMgZGlzcGxheWVkIG9uIGxvZ2luIHBhZ2VcbiAgICAgICAgICogSXQgaXMgYSBQb3BpbkFqYXhGb3JtIGluc3RhbmNlIHRoYXQgY2FsbHMgYSB3ZWJzZXJ2aWNlXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy4kZWwuZmluZCgnLmpzLW9wZW4tZm9yZ290dGVuLXBhc3N3b3JkJykubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnBhc3N3b3JkUG9waW4gPSBkaW9yVjcucG9waW5NYW5hZ2VyLmluc3RhbmNpYXRlKHtcbiAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiAnZm9yZ290dGVuLXBhc3N3b3JkJyxcbiAgICAgICAgICAgICAgICAkZWw6ICQoJy5qcy1wb3Bpbi1mb3Jnb3R0ZW4tcGFzc3dvcmQnKSxcbiAgICAgICAgICAgICAgICAkdHJpZ2dlcjogdGhpcy4kZWwuZmluZCgnLmpzLW9wZW4tZm9yZ290dGVuLXBhc3N3b3JkJyksXG4gICAgICAgICAgICAgICAgd2Vic2VydmljZTogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5BQ0NPVU5ULkZPUkdPVFRFTl9QQVNTV09SRFxuICAgICAgICAgICAgfSwgUG9waW5BamF4Rm9ybSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogS29yZWFuIGxlZ2FsIGZvcm1cbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLiRlbC5maW5kKCcuanMtbGVnYWwtZm9ybScpLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMubGVnYWxGb3JtID0gbmV3IExlZ2FsRm9ybSh0aGlzLiRlbC5maW5kKCcuanMtbGVnYWwtZm9ybScpKTtcblxuXG4gICAgfVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBhY2NvdW50OyIsIlxubGV0IGFjY291bnRBZGRyZXNzZXMgPSB7XG5cbiAgICBpbml0KCRlbCkge1xuICAgICAgICB0aGlzLmluaXRBY2NvcmRpb25zKCRlbCk7XG4gICAgICAgIHRoaXMuJGVsID0gJGVsO1xuICAgICAgICB0aGlzLiRkZWxldGUgPSB0aGlzLiRlbC5maW5kKCcuanMtYWRkcmVzcy1kZWxldGUtb3Blbi1wb3B1cCcpO1xuXG4gICAgICAgIGxldCBfY29uZmlybVBvcGluID0gZGlvclY3LnBvcGluTWFuYWdlci5pbnN0YW5jaWF0ZSh7XG4gICAgICAgICAgICBpZGVudGlmaWVyOiAnZGVsZXRlLWFkZHJlc3MnLFxuICAgICAgICAgICAgJHRyaWdnZXI6IGFjY291bnRBZGRyZXNzZXMuJGRlbGV0ZSxcbiAgICAgICAgICAgICRlbDogJCgnLmpzLXBvcGluLWRlbGV0ZS1hZGRyZXNzJylcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kY29uZmlybSA9IF9jb25maXJtUG9waW4uJGVsLmZpbmQoJy5qcy1kZWxldGUtYWRyZXNzZScpO1xuICAgICAgICBcbiAgICAgICAgYWNjb3VudEFkZHJlc3Nlcy4kZGVsZXRlLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBhY2NvdW50QWRkcmVzc2VzLiRhZGRyZXNzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgYWNjb3VudEFkZHJlc3Nlcy5faWQgPSBhY2NvdW50QWRkcmVzc2VzLiRhZGRyZXNzLmF0dHIoJ2lkJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJGNvbmZpcm0ub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5kZWxldGVBZGRyZXNzKCkpO1xuICAgICAgICBcbiAgICB9LFxuXG4gICAgZGVsZXRlQWRkcmVzcygpIHtcbiAgICAgICAgbGV0ICRhZGRyZXNzID0gYWNjb3VudEFkZHJlc3Nlcy4kYWRkcmVzcztcbiAgICAgICAgbGV0IF9pZCA9IGFjY291bnRBZGRyZXNzZXMuX2lkO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuQUREUkVTUy5ERUxFVEUudXJsLFxuICAgICAgICAgICAgdHlwZTogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5BQ0NPVU5ULkFERFJFU1MuREVMRVRFLm1ldGhvZCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiBfaWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB4aHJGaWVsZHM6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQUNDT1VOVC5BRERSRVNTLkRFTEVURS54aHJGaWVsZHMsXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZGF0YS5lcnJvckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgJGFkZHJlc3MucGFyZW50cygnLmpzLWFjY291bnQtYWRkcmVzczpmaXJzdCcpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIGluaXRBY2NvcmRpb25zKCRlbCkge1xuICAgICAgICAkZWwuZmluZCgnLmpzLWFkZHJlc3MtYWNjb3JkaW9uJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgIG5ldyBkaW9yVjcuQWNjb3JkaW9uKCQoZWwpLCAodG9nZ2xlZCwgJHNlY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodG9nZ2xlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJHNlY3Rpb24uaXMoJy5qcy1mb3JtJykgJiYgJHNlY3Rpb24uZGF0YSgnZm9ybVZhbGlkYXRvcicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2VjdGlvbi5kYXRhKCdmb3JtVmFsaWRhdG9yJykucmVmcmVzaExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNlY3Rpb24uZGF0YSgnc2VyaWFsaXplZCcsICRzZWN0aW9uLnNlcmlhbGl6ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2VjdGlvbi5kYXRhKCdzZXJpYWxpemVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRGb3JtRnJvbVNlcmlhbGl6ZWQoJHNlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogV2hlbiB1c2VyIGNsaWNrcyBvbiBjYW5jZWwgZm9ybSBpcyByZXNldCB0byBzZXJpYWxpemVkIGRhdGEgc2V0IG9uIG9wZW5pbmcuXG4gICAgICogV2UgZ28gdGhvdWdoIHNlcmlhbGl6ZWQgZGF0YSBhbmQgYXBwbHkgdmFsdWVzIHRvIGZvcm1cbiAgICAgKi9cbiAgICByZXNldEZvcm1Gcm9tU2VyaWFsaXplZCgkZm9ybSkge1xuXG4gICAgICAgIGxldCAkZWw7XG4gICAgICAgIGxldCB2YWxzO1xuXG4gICAgICAgICQuZWFjaCgkZm9ybS5kYXRhKCdzZXJpYWxpemVkJykuc3BsaXQoJyYnKSwgZnVuY3Rpb24gKGluZGV4LCBlbGVtKSB7XG4gICAgICAgICAgICB2YWxzID0gZWxlbS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgJGVsID0gJGZvcm0uZmluZCgnW25hbWU9XCInK3ZhbHNbMF0rJ1wiXScpO1xuXG4gICAgICAgICAgICAkZWwudmFsKGRlY29kZVVSSUNvbXBvbmVudCh2YWxzWzFdLnJlcGxhY2UoL1xcKy9nLCAnICcpKSk7XG5cbiAgICAgICAgICAgIGlmICgkZWwuaXMoJ3NlbGVjdCcpICYmICRlbC5kYXRhKCdjdXN0b21TZWxlY3QnKSkge1xuICAgICAgICAgICAgICAgICRlbC5kYXRhKCdjdXN0b21TZWxlY3QnKS5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBhY2NvdW50QWRkcmVzc2VzOyIsImxldCBhY2NvdW50Q2FuY2VsID0ge1xuXG5cblx0aW5pdCgkZWwpIHtcbiAgICAgICAgdGhpcy4kZWwgPSAkZWw7XG4gICAgICAgIHRoaXMuJGNhbmNlbFRyaWdnZXIgPSB0aGlzLiRlbC5maW5kKCcuanMtb3Blbi1wb3Bpbi1jYW5jZWwtb3JkZXInKTtcblxuXG4gICAgICAgIGRpb3JWNy5wb3Bpbk1hbmFnZXIuaW5zdGFuY2lhdGUoe1xuICAgICAgICAgICAgICAgaWRlbnRpZmllcjogJ2FjY291bnQtY29uZmlybS1jYW5jZWwnLFxuICAgICAgICAgICAgICAgJHRyaWdnZXI6IGFjY291bnRDYW5jZWwuJGNhbmNlbFRyaWdnZXIsXG4gICAgICAgICAgICAgICAkZWw6ICQoJy5qcy1wb3Bpbi1hY2NvdW50LWNvbmZpcm0tY2FuY2VsJylcbiAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kY2FuY2VsVHJpZ2dlci5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgXHRlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIFx0JC5hamF4KHtcblx0ICAgICAgICAgICAgdXJsOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuT1JERVIuQ0FOQ0VMLnVybCxcblx0ICAgICAgICAgICAgdHlwZTogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5BQ0NPVU5ULk9SREVSLkNBTkNFTC5tZXRob2QsXG4gICAgICAgICAgICAgICAgeGhyRmllbGRzOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuT1JERVIuQ0FOQ0VMLnhockZpZWxkcyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG5cdCAgICAgICAgICAgICAgICBvcmRlcl9pZDogJCh0aGlzKS5hdHRyKCdkYXRhLW9yZGVyLWlkJylcbiAgICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4gYWNjb3VudENhbmNlbC5vblN1Y2Nlc3MoZGF0YSlcdCAgICAgICAgICAgIFxuXHQgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgfSwgXG4gICAgb25TdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgaWYoIGRhdGEuZXJyb3JDb2RlID09PSBmYWxzZSl7XG4gICAgICAgIFx0JCgnLmpzLWNhbmNlbC1tZXNzYWdlJykudGV4dChkYXRhLm1lc3NhZ2UpO1xuICAgICAgICBcdGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZShhY2NvdW50Q2FuY2VsLiRlbC5maW5kKCcuanMtY2FuY2VsLWJ1dHRvbnMnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcuanMtY2FuY2VsLW1lc3NhZ2UnKS50ZXh0KGRhdGEubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBhY2NvdW50Q2FuY2VsOyIsImltcG9ydCBOZXdzbGV0dGVyTGVnYWxGb3JtIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTGVnYWxGb3JtLmpzJztcblxubGV0IGFjY291bnROZXdzbGV0dGVycyA9IHtcblxuICAgIGluaXQoJGVsKSB7XG4gICAgICAgIHRoaXMuaW5pdENoZWNrYm94ZXMoJGVsKTtcbiAgICAgICAgdGhpcy5pbml0TGVnYWxQb3BpbigkZWwpO1xuICAgIH0sXG5cbiAgICBpbml0Q2hlY2tib3hlcygkZWwpIHtcblxuICAgICAgICBsZXQgJHRoaXM7XG4gICAgICAgIGxldCAkc3ViSW5wdXRzO1xuICAgICAgICBsZXQgX2NoZWNrZWQ7XG4gICAgICAgICRlbC5maW5kKCcuanMtc3VibmV3c2xldHRlci1jaGVja2JveCcpLmVhY2goZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICAgICRzdWJJbnB1dHMgPSAkdGhpcy5wYXJlbnQoKS5uZXh0KCcuanMtYWNjb3VudC1zdWJuZXdzbGV0dGVycycpLmZpbmQoJ2lucHV0Jyk7XG5cbiAgICAgICAgICAgICR0aGlzLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoISR0aGlzLnByb3AoJ2NoZWNrZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAkc3ViSW5wdXRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSkudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRzdWJJbnB1dHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucHJvcCgnY2hlY2tlZCcsIHRydWUpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHN1YklucHV0cy5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX2NoZWNrZWQgPSAwO1xuICAgICAgICAgICAgICAgICRzdWJJbnB1dHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykucHJvcCgnY2hlY2tlZCcpKSBfY2hlY2tlZCsrO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICR0aGlzLnByb3AoJ2NoZWNrZWQnLCBfY2hlY2tlZCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgaW5pdExlZ2FsUG9waW4oJGVsKSB7XG4gICAgICAgIGxldCAkbGVnYWxOZXdzbGV0dGVyID0gJCgnLmpzLXBvcGluLW5ld3NsZXR0ZXItbGVnYWwnKTtcbiAgICAgICAgaWYgKCRsZWdhbE5ld3NsZXR0ZXIubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgIGRpb3JWNy5wb3Bpbk1hbmFnZXIuaW5zdGFuY2lhdGUoe1xuICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6ICduZXdzbGV0dGVyLWxlZ2FsJyxcbiAgICAgICAgICAgICAgICAkZWw6ICRsZWdhbE5ld3NsZXR0ZXIsXG4gICAgICAgICAgICAgICAgdHJpZ2dlckV2ZW50czogMVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCBsZWdhbEFjY2VwdGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTmV3c2xldHRlciBsZWdhbCBmb3JtIGNhbGxzIGEgY2FsbGJhY2sgb24gc3VibWl0XG4gICAgICAgICAgICAgKiBPbiBzdWJtaXQsIHNldCBjb25kaXRpb25zIHRvIGFjY2VwdGVkIGFuZCBjYWxsXG4gICAgICAgICAgICAgKiBzdWJtaXQgb24gdGhlIGZvcm0gYmVsb3cgcG9waW4gdG8gc2VuZCBpbmZvcm1hdGlvblxuICAgICAgICAgICAgICogSWYgbGVnYWxBY2NlcHRlZCBpcyBmYWxzZSB0aGUgZm9ybSBiZWxvdyB3aWxsIG5vdCBiZVxuICAgICAgICAgICAgICogc2VudFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsZXQgbmV3c2xldHRlckxlZ2FsID0gbmV3IE5ld3NsZXR0ZXJMZWdhbEZvcm0oJGxlZ2FsTmV3c2xldHRlciwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbGVnYWxBY2NlcHRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJGVsLmZpbmQoJy5qcy1hY2NvdW50LW5ld3NsZXR0ZXJzJykuc3VibWl0KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlcyBzY3JvbGwgd2hlbiBwb3BpbiBpcyBvcGVuZWRcbiAgICAgICAgICAgIGRpb3JWNy5wb3Bpbk1hbmFnZXIucG9waW5zWyduZXdzbGV0dGVyLWxlZ2FsJ10ub24oJ29wZW5lZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG5ld3NsZXR0ZXJMZWdhbC5zaG93KCk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICAkZWwuZmluZCgnLmpzLWFjY291bnQtbmV3c2xldHRlcnMnKS5vbignc3VibWl0JywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmICghbGVnYWxBY2NlcHRlZCAmJiAkZWwuZmluZCgnLmpzLWFjY291bnQtbmV3c2xldHRlcnMgaW5wdXQ6Y2hlY2tlZCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGRpb3JWNy5wb3Bpbk1hbmFnZXIucG9waW5zWyduZXdzbGV0dGVyLWxlZ2FsJ10ub3BlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICB9XG5cblxufTtcblxuZXhwb3J0IGRlZmF1bHQgYWNjb3VudE5ld3NsZXR0ZXJzOyIsImltcG9ydCB0cGwgZnJvbSAnLi4vLi4vdGVtcGxhdGVzLmpzJztcblxubGV0IGFjY291bnRSZXR1cm4gPSB7XG5cbiAgICBpbml0KCRlbCkge1xuICAgICAgICB0aGlzLiRlbCA9ICRlbDtcbiAgICAgICAgZGlvclY3LmhlbHBlcnMucmVnaXN0ZXJIYW5kbGViYXJzSGVscGVyKCdrZXlJbk9iamVjdCcpO1xuICAgICAgICB0aGlzLmluaXRBY2NvcmRpb25zQWRkcmVzc2VzKCRlbCk7XG4gICAgICAgIHRoaXMuaW5pdEFjY29yZGlvbnNTdGVwcygkZWwpO1xuICAgICAgICB0aGlzLiRhZHJlc3NlcyA9ICRlbC5maW5kKCcuanMtYWNjb3VudC1hZHJlc3NlcycpO1xuICAgICAgICB0aGlzLiRjaG9pY2VzID0gJGVsLmZpbmQoJy5qcy1jaG9pY2UtcmVzdWx0Jyk7XG4gICAgICAgIHRoaXMucmV0dXJuUmVjYXAgPSB7fTtcbiAgICAgICAgdGhpcy4kY2hvb3NlSG91ckZvcm0gPSAkZWwuZmluZCgnLmpzLWNob29zZS1ob3VyLWNvbnRhaW5lciAuanMtcmV0dXJuLXBpY2t1cC10aW1lJyk7XG5cbiAgICAgICAgJChkb2N1bWVudCkucmVhZHkodGhpcy5vbkRvY3VtZW50UmVhZHkpO1xuICAgICAgICAkZWwuZmluZCgnLmpzLWNoYW5nZS1hZHJlc3MnKS5vbignY2hhbmdlJywgdGhpcy5vbkFkZHJlc3NDaGFuZ2UpO1xuICAgICAgICAkZWwuZmluZCgnLmpzLWNoYW5nZS1jaG9pY2UnKS5vbignY2hhbmdlJywgdGhpcy5vblJldHVyblR5cGVDaGFuZ2UpO1xuICAgICAgICAkZWwuZmluZCgnLmpzLXJldHVybi1jaGVja2JveCcpLm9uKCdjaGFuZ2UnLCB0aGlzLm9uUHJvZHVjdENoZWNrYm94Q2hhbmdlKTtcbiAgICAgICAgJGVsLmZpbmQoJy5qcy1yZW5kZXItc3RlcDMnKS5vbignY2xpY2snLCB0aGlzLnJlbmRlclN0ZXAzKTtcbiAgICAgICAgJCgnLmpzLXJldHVybi1zZW5kJykub24oJ2NsaWNrJywgdGhpcy5vblN1Ym1pdC5iaW5kKHRoaXMpKTtcbiAgICB9LFxuXG4gICAgb25Eb2N1bWVudFJlYWR5KCkge1xuXG5cbiAgICAgICAgbGV0ICRjYWxlbmRhciA9ICQoIFwiI2NhbGVuZGFyXCIgKTtcblxuICAgICAgICBpZiAoJGNhbGVuZGFyLmF0dHIoJ2RhdGEtbG9jYWxlJykpIHtcbiAgICAgICAgICAgIGlmICghJC5kYXRlcGlja2VyLnJlZ2lvbmFsWyRjYWxlbmRhci5hdHRyKCdkYXRhLWxvY2FsZScpXSkgY29uc29sZS53YXJuKCdqUXVlcnktVUkgRGF0ZVBpY2tlciBsYW5ndWFnZSBcIicrJGNhbGVuZGFyLmF0dHIoJ2RhdGEtbG9jYWxlJykrJ1wiIHdhcyBub3QgbG9hZGVkJyk7XG4gICAgICAgICAgICBsZXQgbG9jYWxlID0gJC5kYXRlcGlja2VyLnJlZ2lvbmFsWyRjYWxlbmRhci5hdHRyKCdkYXRhLWxvY2FsZScpXSA7XG4gICAgICAgICAgICBpZiAoICRjYWxlbmRhci5hdHRyKCdkYXRhLWZvcm1hdCcpICkgbG9jYWxlLmRhdGVGb3JtYXQgPSAkY2FsZW5kYXIuYXR0cignZGF0YS1mb3JtYXQnKTtcbiAgICAgICAgICAgICQuZGF0ZXBpY2tlci5zZXREZWZhdWx0cyhsb2NhbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgJGNhbGVuZGFyLmRhdGVwaWNrZXIoe1xuICAgICAgICAgICAgbWluRGF0ZToxLCAvLyBBIHBhcnRpciBkZSBkZW1haW4sIHRvdXRlcyBkYXRlcyBwcsOpY2VkZW50ZXMgc29udCBkw6lzYWN0aXbDqWVzXG4gICAgICAgICAgICBtYXhEYXRlOicrM3cnLCAvLyAzIHNlbWFpbmVzIMOgIHBhcnRpciBkJ2F1am91cmQnaHVpLCB0b3V0ZXMgbGVzIGRhdGVzIGF1LWRlbMOgIHNvbnQgZMOpc2FjdGl2w6llc1xuICAgICAgICAgICAgYmVmb3JlU2hvd0RheTogJC5kYXRlcGlja2VyLm5vV2Vla2VuZHMsIC8vIExlcyB3ZWVrZW5kIHNvbnQgb2ZmIChzYW1lZGkgZXQgZGltYW5jaGUpXG4gICAgICAgICAgICBvblNlbGVjdDogZnVuY3Rpb24oZGF0ZVRleHQsIGluc3QpIHtcbiAgICAgICAgICAgICAgICAkKCcuanMtZGF0ZS1waWNrZWQnKS50ZXh0KGRhdGVUZXh0KTtcbiAgICAgICAgICAgICAgICBhY2NvdW50UmV0dXJuLnJldHVyblJlY2FwLmRhdGUgPSBuZXcgRGF0ZSggaW5zdC5zZWxlY3RlZFllYXIsaW5zdC5zZWxlY3RlZE1vbnRoLCBpbnN0LnNlbGVjdGVkRGF5KTtcbiAgICAgICAgICAgICAgICBsZXQgeWVhciA9IGFjY291bnRSZXR1cm4ucmV0dXJuUmVjYXAuZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgIGxldCBtb250aCA9IGFjY291bnRSZXR1cm4ucmV0dXJuUmVjYXAuZGF0ZS5nZXRNb250aCgpKzE7XG4gICAgICAgICAgICAgICAgaWYgKG1vbnRoPDEwKSBtb250aCA9IFwiMFwiK21vbnRoO1xuICAgICAgICAgICAgICAgIGxldCBkYXRlID0gYWNjb3VudFJldHVybi5yZXR1cm5SZWNhcC5kYXRlLmdldERhdGUoKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZTwxMCkgZGF0ZSA9IFwiMFwiK2RhdGU7XG5cbiAgICAgICAgICAgICAgICBhY2NvdW50UmV0dXJuLnJldHVyblJlY2FwLmRhdGUgPSB5ZWFyK1wiLVwiK21vbnRoKyctJytkYXRlO1xuICAgICAgICAgICAgICAgIGFjY291bnRSZXR1cm4udXBkYXRlUGlja3VwVGltZSggYWNjb3VudFJldHVybi5yZXR1cm5SZWNhcC5kYXRlICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfSxcblxuICAgIC8vIGNoYW5nZSBhZGRyZXNzIG9uIHNlbGVjdFxuICAgIG9uQWRkcmVzc0NoYW5nZSgpIHtcbiAgICAgICAgbGV0IF9hZGRyZXNzID0gJC5wYXJzZUpTT04oJCh0aGlzKS52YWwoKSk7XG4gICAgICAgIGxldCAkYWRkcmVzcyA9ICQoJy5qcy1hY2NvdW50LWFkZHJlc3MnKTtcblxuICAgICAgICAkYWRkcmVzcy5maW5kKCcuanMtZGlzcGxheS1uYW1lJykudGV4dChfYWRkcmVzcy5maXJzdG5hbWUrJyAnK19hZGRyZXNzLmxhc3RuYW1lKTtcbiAgICAgICAgJGFkZHJlc3MuZmluZCgnLmpzLWRpc3BsYXktYWRkcmVzcycpLmh0bWwoX2FkZHJlc3MuYWRkcmVzcytcIjxici8+XCIrX2FkZHJlc3MuYWRkcmVzczIpO1xuICAgICAgICAkYWRkcmVzcy5maW5kKCcuanMtZGlzcGxheS16aXBjb2RlJykudGV4dChfYWRkcmVzcy56aXBjb2RlKTtcbiAgICAgICAgJGFkZHJlc3MuZmluZCgnLmpzLWRpc3BsYXktY2l0eScpLnRleHQoX2FkZHJlc3MuY2l0eSk7XG4gICAgICAgICRhZGRyZXNzLmZpbmQoJy5qcy1kaXNwbGF5LWNvdW50cnknKS50ZXh0KF9hZGRyZXNzLmNvdW50cnkpO1xuICAgICAgICAkYWRkcmVzcy5maW5kKCcuanMtZGlzcGxheS1waG9uZScpLnRleHQoX2FkZHJlc3MucGhvbmUpO1xuXG4gICAgICAgIGxldCAkZm9ybSA9ICQoJy5qcy1hZGRyZXNzLW1vZGlmeS1mb3JtJyk7XG4gICAgICAgICRmb3JtLmZpbmQoJy5qcy1hY2NvdW50LXJldHVybi1hZGRyZXNzLWlkJykudmFsKF9hZGRyZXNzLmlkKTtcbiAgICAgICAgJGZvcm0uZmluZCgnLmpzLWFjY291bnQtcmV0dXJuLXRpdGxlJykuZGF0YSgnY3VzdG9tU2VsZWN0Jykuc2V0VmFsdWUoX2FkZHJlc3MudGl0bGUpO1xuICAgICAgICAkZm9ybS5maW5kKCcuanMtYWNjb3VudC1yZXR1cm4tZmlyc3RuYW1lJykudmFsKF9hZGRyZXNzLmZpcnN0bmFtZSk7XG4gICAgICAgICRmb3JtLmZpbmQoJy5qcy1hY2NvdW50LXJldHVybi1sYXN0bmFtZScpLnZhbChfYWRkcmVzcy5sYXN0bmFtZSk7XG4gICAgICAgICRmb3JtLmZpbmQoJy5qcy1hY2NvdW50LXJldHVybi1hZGRyZXNzJykudmFsKF9hZGRyZXNzLmFkZHJlc3MpO1xuICAgICAgICAkZm9ybS5maW5kKCcuanMtYWNjb3VudC1yZXR1cm4temlwY29kZScpLnZhbChfYWRkcmVzcy56aXBjb2RlKTtcbiAgICAgICAgJGZvcm0uZmluZCgnLmpzLWFjY291bnQtcmV0dXJuLWNpdHknKS52YWwoX2FkZHJlc3MuY2l0eSk7XG4gICAgICAgICRmb3JtLmZpbmQoJy5qcy1hY2NvdW50LXJldHVybi1jb3VudHJ5JykudmFsKF9hZGRyZXNzLmNvdW50cnkpO1xuICAgICAgICAkZm9ybS5maW5kKCcuanMtYWNjb3VudC1yZXR1cm4tcGhvbmUnKS52YWwoX2FkZHJlc3MucGhvbmUpO1xuXG4gICAgfSxcblxuICAgIC8vIGNoYW5nZSBhZGRyZXNzIG9uIHNlbGVjdFxuICAgIG9uUmV0dXJuVHlwZUNoYW5nZShlKSB7XG4gICAgICAgIGxldCAkdGhpc1Byb2R1Y3QgICAgPSAkKGUudGFyZ2V0KS5wYXJlbnRzKCcuanMtcHJvZHVjdCcpO1xuICAgICAgICBsZXQgJHNlbGVjdCAgICAgICAgID0gJHRoaXNQcm9kdWN0LmZpbmQoJy5qcy1jaGFuZ2UtY2hvaWNlJyk7XG4gICAgICAgIGxldCBfc2VsZWN0ZWRJbmRleCA9ICRzZWxlY3RbMF0uc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgbGV0ICRjaG9pY2VzICAgICAgICA9ICR0aGlzUHJvZHVjdC5maW5kKCcuanMtY2hvaWNlLXJlc3VsdCcpO1xuXG4gICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZSggJGNob2ljZXMgKTtcbiAgICAgICAgLy9zaG93IGV4Y2hhbmdlIG9yIHJlZnVuZCBpbnN0cnVjdGlvbnMgYW5kIGhpZGUgdGhlIG90aGVyIFxuICAgICAgICBpZiAoX3NlbGVjdGVkSW5kZXggPT0gMSkge1xuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KCAkdGhpc1Byb2R1Y3QuZmluZCgnLmpzLWV4Y2hhbmdlLWluc3RydWN0aW9uJykgKTtcbiAgICAgICAgICAgICR0aGlzUHJvZHVjdC5wYXJlbnRzKCcuanMtZm9ybTpmaXJzdCcpLmRhdGEoJ2Zvcm1WYWxpZGF0b3InKS5yZWZyZXNoTGlzdGVuZXJzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLnNob3coICR0aGlzUHJvZHVjdC5maW5kKCcuanMtcmVmdW5kLWluc3RydWN0aW9uJykgKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyByZWluaXQgZm9ybXMgYW5kIHRvZ2dsZSBcImFjdGl2ZVwiIGNsYXNzIG9uIHByb2R1Y3RzIGNoZWNrYm94IGNoYW5nZSBcbiAgICBvblByb2R1Y3RDaGVja2JveENoYW5nZShlKSB7XG4gICAgICAgIGxldCAkdGhpc1Byb2R1Y3QgICAgICA9ICQoZS50YXJnZXQpLnBhcmVudHMoJy5qcy1wcm9kdWN0Jyk7XG4gICAgICAgIGxldCAkY2hvaWNlRm9ybVBhcmVudCA9ICR0aGlzUHJvZHVjdC5maW5kKCcuanMtYWNjb3VudC1wcm9kdWN0LWNob2ljZScpO1xuICAgICAgICBsZXQgJGNob2ljZUZvcm0gICAgICAgPSAkY2hvaWNlRm9ybVBhcmVudC5maW5kKCcubWFpbi1mb3JtJyk7XG4gICAgICAgIGxldCAkY2hvaWNlcyAgICAgICAgICA9ICR0aGlzUHJvZHVjdC5maW5kKCcuanMtY2hvaWNlLXJlc3VsdCcpO1xuXG4gICAgICAgIGlmKCQoZS50YXJnZXQpLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLnNob3coICRjaG9pY2VGb3JtUGFyZW50ICk7XG4gICAgICAgICAgICAkdGhpc1Byb2R1Y3QuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHRoaXNQcm9kdWN0LnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZSggJGNob2ljZUZvcm1QYXJlbnQgKTtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZSggJGNob2ljZXMgKTtcbiAgICAgICAgICAgICRjaG9pY2VGb3JtLmZpbmQoJy5qcy1zZWxlY3QnKS5wcm9wKCdzZWxlY3RlZEluZGV4JywwKTtcbiAgICAgICAgICAgICRjaG9pY2VGb3JtLmZpbmQoJy5qcy1zZWxlY3QnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQodGhpcykuZGF0YSgnY3VzdG9tU2VsZWN0JykucmVmcmVzaCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy9nZXQgcHJvZHVjdHMgZnJvbSBET00gaW4gb3JkZXIgdG8gYnVpbGQgc3RlcCAzIFxuICAgIGdldERhdGFGb3JTdGVwMygpIHtcbiAgICAgICAgdGhpcy5yZXR1cm5SZWNhcC5wcm9kdWN0cyAgICAgICAgICAgPSB7fTtcbiAgICAgICAgdGhpcy5yZXR1cm5SZWNhcC5wcm9kdWN0cy5leGNoYW5nZXMgPSBbXTtcbiAgICAgICAgdGhpcy5yZXR1cm5SZWNhcC5wcm9kdWN0cy5yZWZ1bmRzICAgPSBbXTtcbiAgICAgICAgbGV0ICR0aGlzO1xuXG4gICAgICAgICQoJy5qcy1wcm9kdWN0LmFjdGl2ZScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkdGhpcyAgICAgICAgICAgICAgICAgICA9ICQodGhpcyk7XG4gICAgICAgICAgICBsZXQgX3JldHVyblR5cGUgICAgICAgICA9ICR0aGlzLmZpbmQoJy5qcy1jaGFuZ2UtY2hvaWNlJykuZmluZCgnb3B0aW9uOnNlbGVjdGVkJylbMF0udmFsdWU7XG4gICAgICAgICAgICBsZXQgX3JldHVyblJlYXNvbiAgICAgICA9ICR0aGlzLmZpbmQoJy5qcy1tb3RpZi1jaG9pY2UnKS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKVswXS52YWx1ZTtcbiAgICAgICAgICAgIGxldCBfY29tbWVudCAgICAgICAgICAgID0gJHRoaXMuZmluZCgndGV4dGFyZWEnKS52YWwoKTtcbiAgICAgICAgICAgIGxldCBfcHJvZHVjdCAgICAgICAgICAgID0ge1xuICAgICAgICAgICAgICAgIGlkZW50aWZpZXIgOiAkdGhpcy5hdHRyKCdkYXRhLWlkZW50aWZpZXInKSxcbiAgICAgICAgICAgICAgICBuYW1lOiAkdGhpcy5maW5kKCcuanMtbmFtZScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICBwcmljZSA6ICR0aGlzLmZpbmQoJy5qcy1wcmljZScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICB0aXRsZSA6ICR0aGlzLmZpbmQoJy5qcy10aXRsZScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA6ICR0aGlzLmZpbmQoJy5qcy1kZXNjcmlwdGlvbicpLnRleHQoKSxcbiAgICAgICAgICAgICAgICBzaXplIDogJHRoaXMuZmluZCgnLmpzLXNpemUnKS5hdHRyKCdkYXRhLXNpemUnKSxcbiAgICAgICAgICAgICAgICBpbnRlbnNpdHkgOiAkdGhpcy5maW5kKCcuanMtaW50ZW5zaXR5JykuYXR0cignZGF0YS1pbnRlbnNpdHknKSxcbiAgICAgICAgICAgICAgICByZWZlcmVuY2UgOiAkdGhpcy5maW5kKCcuanMtcmVmZXJlbmNlJykuYXR0cignZGF0YS1yZWZlcmVuY2UnKSxcbiAgICAgICAgICAgICAgICByZXR1cm5UeXBlOiBfcmV0dXJuVHlwZSxcbiAgICAgICAgICAgICAgICByZXR1cm5SZWFzb246IF9yZXR1cm5SZWFzb24sXG4gICAgICAgICAgICAgICAgY29tbWVudDogX2NvbW1lbnQsXG4gICAgICAgICAgICAgICAgcXVhbnRpdHk6ICR0aGlzLmF0dHIoJ2RhdGEtcXVhbnRpdHknKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKF9yZXR1cm5UeXBlID09PSBcImV4Y2hhbmdlXCIpIHtcbiAgICAgICAgICAgICAgICBhY2NvdW50UmV0dXJuLnJldHVyblJlY2FwLnByb2R1Y3RzLmV4Y2hhbmdlcy5wdXNoKF9wcm9kdWN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWNjb3VudFJldHVybi5yZXR1cm5SZWNhcC5wcm9kdWN0cy5yZWZ1bmRzLnB1c2goX3Byb2R1Y3QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvL2dldCBkYXRhIGZyb20gRE9NIGZvciBhZGRlc3MgYW5kIGhvdXIgXG4gICAgZ2V0UmV0dXJuUmVjYXBEYXRhRnJvbURPTSgpIHtcbiAgICAgICAgbGV0ICR0aGlzO1xuICAgICAgICB0aGlzLnJldHVyblJlY2FwLmFkZHJlc3MgPSB7fTtcbiAgICAgICAgdGhpcy5yZXR1cm5SZWNhcC50aW1lICAgID0gXCJcIjtcbiAgICAgICAgbGV0ICRhZGRyZXNzICAgICAgICAgICAgID0gJCgnLmpzLWFjY291bnQtYWRkcmVzczp2aXNpYmxlJyk7XG5cbiAgICAgICAgdGhpcy5yZXR1cm5SZWNhcC5vcmRlcl9pZCA9ICQoJy5qcy1vcmRlci1pZCcpLnRleHQoKTtcblxuICAgICAgICAvL2lmIGFkZHJlc3MgbW9kaWZ5J3MgZm9ybSBpcyBvcGVuLCB1c2UgZm9ybSdzIHZhbHVlcywgZWxzZSB1c2Ugb3B0aW9uJ3MgdmFsdWVcbiAgICAgICAgdGhpcy5yZXR1cm5SZWNhcC5hZGRyZXNzID0gJC5wYXJzZUpTT04oJCgnLmpzLWNoYW5nZS1hZHJlc3MnKS52YWwoKSk7XG5cbiAgICAgICAgLy8gZGVmaW5lIFRpbWUgc2xvdFxuICAgICAgICB0aGlzLnJldHVyblJlY2FwLnRpbWUgPSB0aGlzLiRlbC5maW5kKCcuanMtY2hvb3NlLWhvdXItY29udGFpbmVyIGlucHV0W3R5cGU9XCJyYWRpb1wiXVtuYW1lPVwicmV0dXJuLXRpbWVzXCJdOmNoZWNrZWQnKS52YWwoKTtcbiAgICB9LFxuXG4gICAgcmVuZGVyU3RlcDMoKSB7XG4gICAgICAgIGxldCAkYWRkcmVzc01vZGlmeUZvcm0gPSQoJy5qcy1hZGRyZXNzLW1vZGlmeS1mb3JtJyk7XG5cbiAgICAgICAgaWYoJGFkZHJlc3NNb2RpZnlGb3JtLmF0dHIoJ2FyaWEtZXhwYW5kZWQnKSAmJiAkYWRkcmVzc01vZGlmeUZvcm0uYXR0cignYXJpYS1leHBhbmRlZCcpICE9PSAnZmFsc2UnKSBhY2NvdW50UmV0dXJuLnVwZGF0ZUFkZHJlc3NGcm9tRm9ybSgkYWRkcmVzc01vZGlmeUZvcm0pO1xuICAgICAgICBsZXQgJHN0ZXAzICAgICAgICA9IGFjY291bnRSZXR1cm4uJGVsLmZpbmQoJy5qcy1zdGVwMy1jb250ZW50Jyk7XG4gICAgICAgIGxldCAkd29yZGluZyAgICAgID0gJHN0ZXAzLmRhdGEoJ3dvcmRpbmcnKTtcbiAgICAgICAgbGV0IHJldHVyblJlYXNvbnMgPSB7fTtcbiAgICAgICAgLy9yZW1vdmUgdWktc3RhdGUtYWN0aXZlIGNsYXNzIFxuICAgICAgICBhY2NvdW50UmV0dXJuLiRlbC5maW5kKCcjY2FsZW5kYXIgLnVpLXN0YXRlLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCd1aS1zdGF0ZS1hY3RpdmUnKTtcbiAgICAgICAgLy9nZXQgcHJvZHVjdHMgZGF0YVxuICAgICAgICBhY2NvdW50UmV0dXJuLmdldERhdGFGb3JTdGVwMygpO1xuICAgICAgICAvLyBjcmVhdGUgb2JqZWN0IGZyb20gRE9NIEZvciBUZW1wbGF0aW5nIFxuICAgICAgICBhY2NvdW50UmV0dXJuLiRlbC5maW5kKCcuanMtbW90aWYtY2hvaWNlOmZpcnN0IG9wdGlvbicpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm5SZWFzb25zW3RoaXMudmFsdWVdID0gdGhpcy5pbm5lclRleHQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzdGVwMy5odG1sKCB0cGwuYWNjb3VudC5yZXR1cm5TdGVwMyh7XG4gICAgICAgICAgICBwcm9kdWN0c0V4Y2hhbmdlczogYWNjb3VudFJldHVybi5yZXR1cm5SZWNhcC5wcm9kdWN0cy5leGNoYW5nZXMsXG4gICAgICAgICAgICBwcm9kdWN0c1JlZnVuZHM6ICAgYWNjb3VudFJldHVybi5yZXR1cm5SZWNhcC5wcm9kdWN0cy5yZWZ1bmRzLFxuICAgICAgICAgICAgd29yZGluZzogICAgICAgICAgICR3b3JkaW5nLFxuICAgICAgICAgICAgcmV0dXJuUmVhc29uczogICAgIHJldHVyblJlYXNvbnNcbiAgICAgICAgfSkpO1xuICAgIH0sXG5cbiAgICB1cGRhdGVBZGRyZXNzRnJvbUZvcm0oKSB7XG4gICAgICAgIGxldCAkYWRkcmVzc1NlbGVjdCA9IGFjY291bnRSZXR1cm4uJGVsLmZpbmQoJy5qcy1jaGFuZ2UtYWRyZXNzJyk7XG4gICAgICAgIGxldCBfYWRkcmVzcyA9ICQucGFyc2VKU09OKCAkYWRkcmVzc1NlbGVjdC52YWwoKSAgKTtcblxuICAgICAgICBsZXQgJGZvcm0gPSAkKCcuanMtYWRkcmVzcy1tb2RpZnktZm9ybScpO1xuICAgICAgICBfYWRkcmVzcy50aXRsZSA9ICRmb3JtLmZpbmQoJy5qcy1hY2NvdW50LXJldHVybi10aXRsZScpLnZhbCgpO1xuICAgICAgICBfYWRkcmVzcy5maXJzdG5hbWUgPSAkZm9ybS5maW5kKCcuanMtYWNjb3VudC1yZXR1cm4tZmlyc3RuYW1lJykudmFsKCk7XG4gICAgICAgIF9hZGRyZXNzLmxhc3RuYW1lID0gJGZvcm0uZmluZCgnLmpzLWFjY291bnQtcmV0dXJuLWxhc3RuYW1lJykudmFsKCk7XG4gICAgICAgIF9hZGRyZXNzLmFkZHJlc3MgPSAkZm9ybS5maW5kKCcuanMtYWNjb3VudC1yZXR1cm4tYWRkcmVzcycpLnZhbCgpO1xuICAgICAgICBfYWRkcmVzcy56aXBjb2RlID0gJGZvcm0uZmluZCgnLmpzLWFjY291bnQtcmV0dXJuLXppcGNvZGUnKS52YWwoKTtcbiAgICAgICAgX2FkZHJlc3MuY2l0eSA9ICRmb3JtLmZpbmQoJy5qcy1hY2NvdW50LXJldHVybi1jaXR5JykudmFsKCk7XG4gICAgICAgIF9hZGRyZXNzLmNvdW50cnkgPSAkZm9ybS5maW5kKCcuanMtYWNjb3VudC1yZXR1cm4tY291bnRyeScpLnZhbCgpO1xuICAgICAgICBfYWRkcmVzcy5waG9uZSA9ICRmb3JtLmZpbmQoJy5qcy1hY2NvdW50LXJldHVybi1waG9uZScpLnZhbCgpO1xuXG4gICAgICAgIF9hZGRyZXNzID0gSlNPTi5zdHJpbmdpZnkoX2FkZHJlc3MpO1xuICAgICAgICAkYWRkcmVzc1NlbGVjdC5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS52YWwoX2FkZHJlc3MpO1xuICAgICAgICBhY2NvdW50UmV0dXJuLm9uQWRkcmVzc0NoYW5nZS5jYWxsKCRhZGRyZXNzU2VsZWN0KTtcbiAgICB9LFxuXG4gICAgLy8gc3VibWl0IHJlY2FwIG9iamVjdCB0aGFua3MgdG8gaGlkZGVuIGZvcm1cbiAgICBvblN1Ym1pdDogZnVuY3Rpb24oZSkge1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYWNjb3VudFJldHVybi5nZXRSZXR1cm5SZWNhcERhdGFGcm9tRE9NKCk7XG4gICAgICAgICQoJyNyZXR1cm4tZGF0YScpLnZhbChKU09OLnN0cmluZ2lmeShhY2NvdW50UmV0dXJuLnJldHVyblJlY2FwKSkucGFyZW50cygnZm9ybTpmaXJzdCcpLnN1Ym1pdCgpO1xuICAgIH0sXG5cbiAgICBpbml0QWNjb3JkaW9uc0FkZHJlc3NlcygkZWwpIHtcblxuICAgICAgICAkZWwuZmluZCgnLmpzLWFkZHJlc3MtYWNjb3JkaW9uJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgIG5ldyBkaW9yVjcuQWNjb3JkaW9uKCQoZWwpLCAodG9nZ2xlZCwgJHNlY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodG9nZ2xlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJHNlY3Rpb24uaXMoJy5qcy1mb3JtJykgJiYgJHNlY3Rpb24uZGF0YSgnZm9ybVZhbGlkYXRvcicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2VjdGlvbi5kYXRhKCdmb3JtVmFsaWRhdG9yJykucmVmcmVzaExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNlY3Rpb24uZGF0YSgnc2VyaWFsaXplZCcsICRzZWN0aW9uLnNlcmlhbGl6ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2VjdGlvbi5kYXRhKCdzZXJpYWxpemVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRGb3JtRnJvbVNlcmlhbGl6ZWQoJHNlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBpbml0QWNjb3JkaW9uc1N0ZXBzKCRlbCkge1xuICAgICAgICBsZXQgX2FjY29yZGlvbnMgPSB7fTtcblxuICAgICAgICAkZWwuZmluZCgnLmpzLWFjY29yZGlvbi1zcGVjJykuZWFjaCggKGksIGVsKSA9PiB7XG4gICAgICAgICAgICBfYWNjb3JkaW9uc1sgJChlbCkuZGF0YSgnYWNjb3JkaW9uLXRhcmdldCcpIF0gPSBuZXcgZGlvclY3LkFjY29yZGlvbiggJChlbCksIHtcbiAgICAgICAgICAgICAgICBzY3JvbGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uVG9nZ2xlOih0b2dnbGVkLCAkc2VjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9nZ2xlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzZWN0aW9uLmlzKCcuanMtZm9ybScpICYmICRzZWN0aW9uLmRhdGEoJ2Zvcm1WYWxpZGF0b3InKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZWN0aW9uLmRhdGEoJ2Zvcm1WYWxpZGF0b3InKS5yZWZyZXNoTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlY3Rpb24uZGF0YSgnc2VyaWFsaXplZCcsICRzZWN0aW9uLnNlcmlhbGl6ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2VjdGlvbi5kYXRhKCdzZXJpYWxpemVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0Rm9ybUZyb21TZXJpYWxpemVkKCRzZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgX2Zpc3RTdGVwSWQgPSAkZWwuZmluZCgnLmFjY29yZGlvbi1zZWN0aW9uOmZpcnN0JykuYXR0cignaWQnKTtcbiAgICAgICAgbGV0IF8kZmlyc3RTdGVwVHJpZ2dlciA9ICRlbC5maW5kKCcuanMtYWNjb3JkaW9uLXNwZWNbZGF0YS1hY2NvcmRpb24tdGFyZ2V0PVwiIycrX2Zpc3RTdGVwSWQrJ1wiXScpO1xuICAgICAgICBfYWNjb3JkaW9uc1sgXyRmaXJzdFN0ZXBUcmlnZ2VyLmRhdGEoJ2FjY29yZGlvbi10YXJnZXQnKSBdLnRvZ2dsZSggbnVsbCwgXyRmaXJzdFN0ZXBUcmlnZ2VyICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdXNlciBjbGlja3Mgb24gY2FuY2VsIGZvcm0gaXMgcmVzZXQgdG8gc2VyaWFsaXplZCBkYXRhIHNldCBvbiBvcGVuaW5nLlxuICAgICAqIFdlIGdvIHRob3VnaCBzZXJpYWxpemVkIGRhdGEgYW5kIGFwcGx5IHZhbHVlcyB0byBmb3JtXG4gICAgICovXG4gICAgcmVzZXRGb3JtRnJvbVNlcmlhbGl6ZWQoJGZvcm0pIHtcbiAgICAgICAgbGV0ICRlbDtcbiAgICAgICAgbGV0IHZhbHM7XG5cbiAgICAgICAgJC5lYWNoKCRmb3JtLmRhdGEoJ3NlcmlhbGl6ZWQnKS5zcGxpdCgnJicpLCBmdW5jdGlvbiAoaW5kZXgsIGVsZW0pIHtcbiAgICAgICAgICAgIHZhbHMgPSBlbGVtLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICAkZWwgPSAkZm9ybS5maW5kKCdbbmFtZT1cIicrdmFsc1swXSsnXCJdJyk7XG5cbiAgICAgICAgICAgICRlbC52YWwoZGVjb2RlVVJJQ29tcG9uZW50KHZhbHNbMV0ucmVwbGFjZSgvXFwrL2csICcgJykpKTtcblxuICAgICAgICAgICAgaWYgKCRlbC5pcygnc2VsZWN0JykgJiYgJGVsLmRhdGEoJ2N1c3RvbVNlbGVjdCcpKSB7XG4gICAgICAgICAgICAgICAgJGVsLmRhdGEoJ2N1c3RvbVNlbGVjdCcpLnJlZnJlc2goKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgdXBkYXRlUGlja3VwVGltZShkYXRlKSB7XG4gICAgICAgIGFjY291bnRSZXR1cm4uZ2V0UmV0dXJuUmVjYXBEYXRhRnJvbURPTSgpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuUkVUVVJOX1BJQ0tVUF9USU1FLnVybCxcbiAgICAgICAgICAgIG1ldGhvZDogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5BQ0NPVU5ULlJFVFVSTl9QSUNLVVBfVElNRS5tZXRob2QsXG4gICAgICAgICAgICB4aHJGaWVsZHM6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQUNDT1VOVC5SRVRVUk5fUElDS1VQX1RJTUUueGhyRmllbGRzLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGRhdGU6IGRhdGUsXG4gICAgICAgICAgICAgICAgcG9zdGNvZGU6IGFjY291bnRSZXR1cm4ucmV0dXJuUmVjYXAuYWRkcmVzcy56aXBjb2RlLFxuICAgICAgICAgICAgICAgIGNpdHk6IGFjY291bnRSZXR1cm4ucmV0dXJuUmVjYXAuYWRkcmVzcy5jaXR5LFxuICAgICAgICAgICAgICAgIGNvdW50cnk6IGFjY291bnRSZXR1cm4ucmV0dXJuUmVjYXAuYWRkcmVzcy5jb3VudHJ5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzcyhodG1sKSB7XG4gICAgICAgICAgICAgICAgYWNjb3VudFJldHVybi4kY2hvb3NlSG91ckZvcm0uZmluZCgnLmpzLXJhZGlvLWNvbnRhaW5lcicpLmh0bWwoaHRtbCkucGFyZW50cygnLmpzLWZvcm0nKS5kYXRhKCdmb3JtVmFsaWRhdG9yJykucmVmcmVzaExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuc2hvdyhhY2NvdW50UmV0dXJuLiRjaG9vc2VIb3VyRm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBhY2NvdW50UmV0dXJuOyIsImltcG9ydCB0cGwgZnJvbSAnLi4vLi4vdGVtcGxhdGVzLmpzJztcblxubGV0IGFjY291bnRWaWRlb3MgPSB7XG5cbiAgICBkZWxldGluZyA6IGZhbHNlLFxuICAgIGluaXQoJGVsKSB7XG4gICAgICAgIHRoaXMuJGVsID0gJGVsO1xuICAgICAgICB0aGlzLiRkZWxldGVUb2dnbGUgPSAkZWwuZmluZChcIi5qcy1kZWxldGUtdG9nZ2xlXCIpO1xuICAgICAgICB0aGlzLiRkZWxldGVDYW5jZWwgPSAkZWwuZmluZChcIi5qcy1kZWxldGUtY2FuY2VsXCIpO1xuICAgICAgICB0aGlzLiRkZWxldGVDb25maXJtID0gJGVsLmZpbmQoXCIuanMtZGVsZXRlLWNvbmZpcm1cIik7XG4gICAgICAgIHRoaXMuJHZpZGVvR3JpZCA9ICRlbC5maW5kKCcuanMtZ3JpZC12aWRlbycpO1xuICAgICAgICB0aGlzLiR2aWRlb0Zvcm0gPSB0aGlzLiR2aWRlb0dyaWQucGFyZW50cygnZm9ybTpmaXJzdCcpO1xuICAgICAgICB0aGlzLiRjaGVja2JveGVzID0gdGhpcy4kdmlkZW9HcmlkLmZpbmQoJ2lucHV0W3R5cGUgPSBcImNoZWNrYm94XCJdJyk7XG5cbiAgICAgICAgZGlvclY3LmhlbHBlcnMucmVnaXN0ZXJIYW5kbGViYXJzSGVscGVyKCd0aW1lcycpO1xuICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKCFkaW9yVjcuZGF0YS5hY2NvdW50KSBkaW9yVjcuZGF0YS5hY2NvdW50ID0ge307XG4gICAgICAgICAgICBkaW9yVjcuZGF0YS5hY2NvdW50LnZpZGVvcyA9IFtdO1xuICAgICAgICAgICAgYWNjb3VudFZpZGVvcy5nZXRWaWRlb0RhdGFGcm9tRE9NKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJGRlbGV0ZVRvZ2dsZS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBhY2NvdW50VmlkZW9zLnRvZ2dsZURlbGV0ZSh0cnVlKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICB0aGlzLiRkZWxldGVDYW5jZWwub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGFjY291bnRWaWRlb3MudG9nZ2xlRGVsZXRlKGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kdmlkZW9Gb3JtLm9uKCdzdWJtaXQnLCB0aGlzLmRlbGV0ZVZpZGVvcyk7XG4gICAgfSxcblxuICAgIHRvZ2dsZURlbGV0ZShkZWxldGluZykge1xuICAgICAgICB0aGlzLmRlbGV0aW5nID0gdHlwZW9mIGRlbGV0aW5nICE9PSAndW5kZWZpbmVkJyA/IGRlbGV0aW5nIDogIXRoaXMuZGVsZXRpbmc7XG4gICAgICAgIGlmICh0aGlzLmRlbGV0aW5nKSB7XG4gICAgICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLmhpZGUoIGFjY291bnRWaWRlb3MuJGRlbGV0ZVRvZ2dsZS5wYXJlbnQoJ2xpOmZpcnN0JykgKTtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuc2hvdyggYWNjb3VudFZpZGVvcy4kZGVsZXRlQ2FuY2VsLnBhcmVudCgnbGk6Zmlyc3QnKSApO1xuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KCBhY2NvdW50VmlkZW9zLiRkZWxldGVDb25maXJtLnBhcmVudCgnbGk6Zmlyc3QnKSApO1xuICAgICAgICAgICAgYWNjb3VudFZpZGVvcy4kdmlkZW9Gb3JtLmFkZENsYXNzKCdpcy1kZWxldGluZycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kdmlkZW9HcmlkLmZpbmQoJ2lucHV0OmNoZWNrZWQnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KCBhY2NvdW50VmlkZW9zLiRkZWxldGVUb2dnbGUucGFyZW50KCdsaTpmaXJzdCcpICk7XG4gICAgICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLmhpZGUoIGFjY291bnRWaWRlb3MuJGRlbGV0ZUNhbmNlbC5wYXJlbnQoJ2xpOmZpcnN0JykgKTtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZSggYWNjb3VudFZpZGVvcy4kZGVsZXRlQ29uZmlybS5wYXJlbnQoJ2xpOmZpcnN0JykgKTtcbiAgICAgICAgICAgIGFjY291bnRWaWRlb3MuJHZpZGVvRm9ybS5yZW1vdmVDbGFzcygnaXMtZGVsZXRpbmcnKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRWaWRlb0RhdGFGcm9tRE9NKCkge1xuXG4gICAgICAgIGxldCAkdGhpcztcbiAgICAgICAgbGV0IHBvcGluRGF0YTtcbiAgICAgICAgJCgnLmpzLWFjY291bnQtdmlkZW8nKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICAgcG9waW5EYXRhID0gJHRoaXMuZmluZCgnLmpzLXBvcGluLXBsYXllci10cmlnZ2VyJykuZGF0YSgnb3B0aW9ucycpO1xuICAgICAgICAgICAgZGlvclY3LmRhdGEuYWNjb3VudC52aWRlb3MucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQgOiAkdGhpcy5maW5kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS52YWwoKSxcbiAgICAgICAgICAgICAgICB0aXRsZSA6ICR0aGlzLmZpbmQoJ2ZpZ2NhcHRpb24nKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgcG9zdGVyIDogJHRoaXMuZmluZCgnaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgbW1tSUQgOiBwb3BpbkRhdGEubW1tSUQsXG4gICAgICAgICAgICAgICAgdXJsOiBwb3BpbkRhdGEudXJsLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uIDogJHRoaXMuZmluZCgnLnRpbWVyJykudGV4dCgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICB9LFxuXG4gICAgcmVuZGVyVmlkZW9zKCkge1xuICAgICAgICB0aGlzLiR2aWRlb0dyaWQuaHRtbCggdHBsLmFjY291bnQudmlkZW9zKHtcbiAgICAgICAgICAgIHZpZGVvczogZGlvclY3LmRhdGEuYWNjb3VudC52aWRlb3MsXG4gICAgICAgICAgICBleHRyYVREOiBkaW9yVjcuZGF0YS5hY2NvdW50LnZpZGVvcy5sZW5ndGggPCAzID8gMyAtIGRpb3JWNy5kYXRhLmFjY291bnQudmlkZW9zLmxlbmd0aCA6IDBcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGRpb3JWNy5wb3Bpbk1hbmFnZXIuaW5pdFZpZGVvUG9waW4oKTtcbiAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci50b2dnbGVIaWRkZW4odGhpcy4kZWwuZmluZCgnLmpzLWFjY291bnQtdmlkZW9zLWVtcHR5JyksIGRpb3JWNy5kYXRhLmFjY291bnQudmlkZW9zLmxlbmd0aCk7XG4gICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIudG9nZ2xlSGlkZGVuKHRoaXMuJGVsLmZpbmQoJy5qcy1hY2NvdW50LXZpZGVvcy1saXN0JyksICFkaW9yVjcuZGF0YS5hY2NvdW50LnZpZGVvcy5sZW5ndGgpO1xuICAgICAgICBpZiAodGhpcy4kdmlkZW9Gb3JtLmRhdGEoJ2Zvcm1WYWxpZGF0b3InKSl0aGlzLiR2aWRlb0Zvcm0uZGF0YSgnZm9ybVZhbGlkYXRvcicpLnJlZnJlc2hMaXN0ZW5lcnMoKTtcbiAgICB9LFxuXG4gICAgZGVsZXRlVmlkZW9zKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuVklERU9TLkRFTEVURS51cmwsXG4gICAgICAgICAgICB0eXBlOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuVklERU9TLkRFTEVURS5tZXRob2QsXG4gICAgICAgICAgICBkYXRhOiBhY2NvdW50VmlkZW9zLiR2aWRlb0Zvcm0uc2VyaWFsaXplKCksXG4gICAgICAgICAgICB4aHJGaWVsZHM6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQUNDT1VOVC5WSURFT1MuREVMRVRFLnhockZpZWxkcyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuZXJyb3JDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRWaWRlb3MuJHZpZGVvR3JpZC5maW5kKCdpbnB1dDpjaGVja2VkJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRWaWRlb3MuZGVsZXRlVmlkZW8oJCh0aGlzKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50VmlkZW9zLnJlbmRlclZpZGVvcygpO1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50VmlkZW9zLnRvZ2dsZURlbGV0ZSgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBkZWxldGVWaWRlbyh2aWRlb0lkKSB7XG4gICAgICAgIGxldCBfaW5kZXg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gZGlvclY3LmRhdGEuYWNjb3VudC52aWRlb3MubGVuZ3RoOyBpPCBqOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChkaW9yVjcuZGF0YS5hY2NvdW50LnZpZGVvc1tpXS5pZCA9PT0gdmlkZW9JZCkge1xuICAgICAgICAgICAgICAgIF9pbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIF9pbmRleCAhPT0ndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgZGlvclY3LmRhdGEuYWNjb3VudC52aWRlb3Muc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxufTtcblxuZXhwb3J0IGRlZmF1bHQgYWNjb3VudFZpZGVvczsiLCJpbXBvcnQgUG9waW5BamF4Rm9ybSBmcm9tICcuLi8uLi9jb21wb25lbnRzL3BvcGlucy9Qb3BpbkFqYXhGb3JtLmpzJztcblxubGV0IGFjY291bnRXaXNobGlzdCA9IHtcblxuICAgIHVwZGF0ZTogZmFsc2UsXG5cbiAgICBpbml0KCRlbCkge1xuICAgICAgICB0aGlzLiRlbCA9ICRlbDtcblxuICAgICAgICAvLyBERVYgV0FSTklOR1xuICAgICAgICAvLyBJbiB0aGlzIHBhZ2UsIHlvdSBtdXN0IGJlIGNvbm5lY3RlZCwgdG8gaW5pdGlhbGl6ZSBXaXNobGlzdFxuICAgICAgICBpZiAoIWRpb3JWNy5BY2NvdW50LmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQWNjb3VudF06IG1pc3NpbmcgaGVfY29ubmVjdGVkPXRydWUgaW4gdXJsIHRvIHNldCBjb29raWUuIFlvdSBtdXN0IGJlIGNvbm5lY3RlZCB0byBhY2Nlc3MgeW91ciB3aXNobGlzdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdpc2hsaXN0IG1vZHVsZSBpbml0IHRyaWdnZXJzIG9uIGluaXRpYWwgZ2V0IHN1Y2Nlc3NcbiAgICAgICAgLy8gbGlzdGVuIHRvIHJlbW92ZWRcbiAgICAgICAgLy8gLT4gbm90IGZvciBub3csIGJ1dCBtYXliZSBvbmUgZGF5IGEgcHJvZHVjdCB3aWxsIGJlIHJlbW92YWJsZSBmcm9tIHJvbGwsIGFuZCBtdXN0IGJlIHJlbW92ZWQgaW4gcGFnZSBBY2NvdW50XG4gICAgICAgIGRpb3JWNy5XaXNoTGlzdE1vZHVsZS5vbigncmVtb3ZlZCcsICh1bml2ZXJzZSwgaWRlbnRpZmllcikgPT4ge1xuICAgICAgICAgICAgLy8gd2UgcmVtb3ZlIHByb2R1Y3QgaW4gcGFnZSBvbmx5IGluIGNhc2Ugb2YgcmVtb3ZpbmdcbiAgICAgICAgICAgIC8vIG5vdCBpZiB3ZSBjaGFuZ2UgdmFyaWFudFxuICAgICAgICAgICAgaWYgKHRoaXMudXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCAkcHJvZHVjdCA9IHRoaXMuJGVsLmZpbmQoJypbZGF0YS1pZGVudGlmaWVyPVwiJytpZGVudGlmaWVyKydcIl1bZGF0YS11bml2ZXJzZT1cIicrdW5pdmVyc2UrJ1wiXScpO1xuICAgICAgICAgICAgaWYgKCRwcm9kdWN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUHJvZHVjdCggJHByb2R1Y3QgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGlvclY3LnBvcGluTWFuYWdlci5pbnN0YW5jaWF0ZSh7XG4gICAgICAgICAgICBpZGVudGlmaWVyOiAnc2hhcmUtd2lzaGxpc3QnLFxuICAgICAgICAgICAgJGVsOiAkKCcuanMtcG9waW4tc2hhcmUtd2lzaGxpc3QnKSxcbiAgICAgICAgICAgICR0cmlnZ2VyOiBhY2NvdW50V2lzaGxpc3QuJGVsLmZpbmQoJy5qcy1vcGVuLXNoYXJlLXBvcGluJyksXG4gICAgICAgICAgICB3ZWJzZXJ2aWNlOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1QuU0hBUkVcbiAgICAgICAgfSwgUG9waW5BamF4Rm9ybSk7XG5cbiAgICAgICAgdGhpcy4kZWwuZmluZCgnLmpzLXNlbGVjdC1zaXplJykub24oJ2NoYW5nZScsIChlKSA9PiB0aGlzLm9uU2l6ZUNoYW5nZShlKSk7XG5cbiAgICAgICAgdGhpcy4kZWwuZmluZCgnLmpzLWxpbmsnKS5vbignY2xpY2snLCB0aGlzLm9uTGlua0NsaWNrKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5qcy1pbXByZXNzaW9uJykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHdpbmRvdy5wcmludCgpO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlUHJvZHVjdCgkcHJvZHVjdCkge1xuXG4gICAgICAgICRwcm9kdWN0LnBhcmVudHMoJy5qcy13aXNobGlzdC1wcm9kdWN0OmZpcnN0JykucmVtb3ZlKCk7XG5cbiAgICAgICAgLy8gaWYgbm8gbW9yZSBvYmplY3RzIGluIHdpc2hsaXN0XG4gICAgICAgIGlmICghdGhpcy4kZWwuZmluZCgnLmpzLXdpc2hsaXN0LXByb2R1Y3QnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZSh0aGlzLiRlbC5maW5kKCcuanMtYWNjb3VudC13aXNobGlzdCcpKTtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuc2hvdyh0aGlzLiRlbC5maW5kKCcuanMtYWNjb3VudC13aXNobGlzdC1lbXB0eScpKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBldmVudCBjaGFuZ2UgdmFyaWFudFxuICAgIC8vIC0gaWYgc2VsZWN0IGEgbmV3IHNrdSwgcmVtb3ZlIG9sZCBmcm9tIHdpc2hsaXN0LCBhbmQgYWRkIG5ld1xuICAgIC8vIGRpb3JWNy5XaXNoTGlzdE1vZHVsZS5hZGQoIF91bml2ZXJzZSwgX2lkICk7XG4gICAgLy8gZGlvclY3Lldpc2hMaXN0TW9kdWxlLnJlbW92ZSggX3VuaXZlcnNlLCBfaWQgKTtcbiAgICBvblNpemVDaGFuZ2UoZSkge1xuXG4gICAgICAgIGxldCAkc2l6ZVNlbGVjdCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgbGV0ICRwYXJlbnQgPSAkc2l6ZVNlbGVjdC5wYXJlbnRzKCcuanMtd2lzaGxpc3QtcHJvZHVjdCcpO1xuICAgICAgICBsZXQgdmFyaWFudCA9ICQucGFyc2VKU09OKCRzaXplU2VsZWN0LnZhbCgpKTtcbiAgICAgICAgbGV0IF9vcmlnaW4gPSAkc2l6ZVNlbGVjdC5hdHRyKCdkYXRhLXVuaXZlcnNlJykudG9VcHBlckNhc2UoKSB8fCAnUENEJztcblxuICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLnRvZ2dsZUhpZGRlbigkcGFyZW50LmZpbmQoJy5qcy1zaXplJyksICF2YXJpYW50LmF2YWlsYWJpbGl0eSk7XG4gICAgICAgIGlmICh2YXJpYW50LnVuaXRQcmljZVdpdGhDdXJyZW5jeSkgJHBhcmVudC5maW5kKCcuanMtcHJpY2UnKS50ZXh0KHZhcmlhbnQudW5pdFByaWNlV2l0aEN1cnJlbmN5KTtcblxuICAgICAgICAkcGFyZW50LmZpbmQoJy5qcy13aXNobGlzdC1kZWxldGUnKS5hdHRyKCdkYXRhLWlkZW50aWZpZXInLCB2YXJpYW50LmlkZW50aWZpZXIpO1xuXG4gICAgICAgIGlmICh2YXJpYW50LmF2YWlsYWJpbGl0eSkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQUNDT1VOVC5XSVNITElTVFtfb3JpZ2luXS5VUERBVEVfUFJPRFVDVC51cmwsXG4gICAgICAgICAgICAgICAgdHlwZTogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5BQ0NPVU5ULldJU0hMSVNUW19vcmlnaW5dLlVQREFURV9QUk9EVUNULm1ldGhvZCxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6ICRzaXplU2VsZWN0LmF0dHIoJ2RhdGEtaWRlbnRpZmllcicpLFxuICAgICAgICAgICAgICAgICAgICBtYXJrZXQ6ICRzaXplU2VsZWN0LmF0dHIoJ2RhdGEtbWFya2V0JyksXG4gICAgICAgICAgICAgICAgICAgIG5ld0lkZW50aWZpZXI6IHZhcmlhbnQuaWRlbnRpZmllclxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeGhyRmllbGRzOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1RbX29yaWdpbl0uVVBEQVRFX1BST0RVQ1QueGhyRmllbGRzLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yQ29kZSkgY29uc29sZS5lcnJvcihyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5oaWRlKCRwYXJlbnQuZmluZCgnLmpzLXVuYXZhaWxhYmxlJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHBhcmVudC5maW5kKCcuanMtd2lzaGxpc3QtZGVsZXRlJykuYXR0cignZGF0YS1pZGVudGlmaWVyJywgdmFyaWFudC5pZGVudGlmaWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRwYXJlbnQuZmluZCgnLmpzLXJlZicpLmh0bWwoJ1LDqWYgOiAnKyB2YXJpYW50LmlkZW50aWZpZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZigkcGFyZW50LmZpbmQoJy5qcy1kaXJlY3QtYWRkdG9jYXJ0JykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGFyZW50LmZpbmQoJy5qcy1kaXJlY3QtYWRkdG9jYXJ0JykuYXR0cignZGF0YS1za3UnLCB2YXJpYW50LmlkZW50aWZpZXIpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwYXJlbnQuZmluZCgnLmpzLWxpbmsnKS5hdHRyKCdkYXRhLWhyZWYnLCB2YXJpYW50LnVybCkucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGFyZW50LmZpbmQoJy5qcy1zaXplJykuZmluZCgnc3BhbicpLnRleHQodmFyaWFudC5zaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzaXplU2VsZWN0LmRhdGEoJ2N1c3RvbVNlbGVjdCcpLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzaXplU2VsZWN0LnBhcmVudHMoJ2Zvcm06Zmlyc3QnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzaXplU2VsZWN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3IoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuc2hvdygkcGFyZW50LmZpbmQoJy5qcy11bmF2YWlsYWJsZScpKTtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZSgkcGFyZW50LmZpbmQoJy5qcy1kaXJlY3QtYWRkdG9jYXJ0LCAuanMtbGluaycpKTtcbiAgICAgICAgfVxuXG4gICAgfSxcblxuICAgIG9uTGlua0NsaWNrKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAkKHRoaXMpLmF0dHIoJ2RhdGEtaHJlZicpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFjY291bnRXaXNobGlzdDtcbiIsImltcG9ydCBQb3BpblppcGNvZGUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9wb3BpbnMvUG9waW5aaXBjb2RlLmpzJztcbmxldCB6aXBjb2RlID0ge1xuXG4gICAgaW5pdCgkZWwpIHtcblxuICAgICAgICBsZXQgJHBvcGluWmlwY29kZSA9ICQoJy5qcy1wb3Bpbi16aXBjb2RlJyk7XG4gICAgICAgIGlmICgkcG9waW5aaXBjb2RlLmxlbmd0aCkge1xuICAgICAgICAgICAgZGlvclY3LnBvcGluTWFuYWdlci5pbnN0YW5jaWF0ZSh7XG4gICAgICAgICAgICAgICAgaWRlbnRpZmllcjogJ3ppcGNvZGUnLFxuICAgICAgICAgICAgICAgICRlbDogJHBvcGluWmlwY29kZSxcbiAgICAgICAgICAgICAgICAkdHJpZ2dlcjogJGVsLmZpbmQoJy5qcy1vcGVuLXppcGNvZGUtcG9waW4nKVxuICAgICAgICAgICAgfSwgUG9waW5aaXBjb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHppcGNvZGU7IiwiaW1wb3J0IGVxdWFsSGVpZ2h0IGZyb20gJy4uL21vZHVsZXMvZXF1YWxIZWlnaHQuanMnO1xuXG5pbXBvcnQgdHBsIGZyb20gJy4uL3RlbXBsYXRlcy5qcyc7XG5pbXBvcnQgUG9waW5TdG9ja0FsZXJ0IGZyb20gJy4uL2NvbXBvbmVudHMvcG9waW5zL1BvcGluU3RvY2tBbGVydC5qcyc7XG5cbmltcG9ydCBUYWdzIGZyb20gJy4uL2NvbXBvbmVudHMvVGFncy5qcyc7XG5cbmxldCBob21lID0ge1xuXHRhY3R1c1NsaWRlcjogbnVsbCxcblx0c2xpZGVJbnRlcnZhbCA6IG51bGwsXG5cdHNsaWRlSG92ZXJTcGVlZDogMTAwMCxcblx0aW5pdCgpIHtcblxuXHRcdCQoJy5qcy10YWctd3JhcHBlcicpLmVhY2goIChpLCBlbCkgPT4ge1xuXHRcdFx0bGV0IF9UYWdzID0gbmV3IFRhZ3MoICQoZWwpICk7XG5cdFx0fSk7XG5cblx0XHRsZXQgXyRzbGlkZXIgPSAkKCcuanMtYWN0dXMtc2xpZGVyJyk7XG5cdFx0bGV0IF9pbmZpbml0ZUxvb3AgPSAoXyRzbGlkZXIuZmluZCgnLmpzLXB1c2gnKS5sZW5ndGggPiAzKTtcblx0XHRsZXQgX3RvdWNoRW5hYmxlZCA9IHdpbmRvdy5kaW9yVjcuaGVscGVycy5pc1RhY3RpbGUoKTtcblxuXHRcdHRoaXMuYWN0dXNTbGlkZXIgPSBfJHNsaWRlci5ieFNsaWRlcih7XG4gICAgICAgICAgICBzbGlkZVdpZHRoOiA0NDAsXG4gICAgICAgICAgICBtaW5TbGlkZXM6IDMsXG4gICAgICAgICAgICBtYXhTbGlkZXM6IDMsXG4gICAgICAgICAgICBtb3ZlU2xpZGVzOiAxLFxuICAgICAgICAgICAgaW5maW5pdGVMb29wOiBfaW5maW5pdGVMb29wLFxuXHRcdFx0dG91Y2hFbmFibGVkOiBfdG91Y2hFbmFibGVkLFxuICAgICAgICAgICAgc2xpZGVNYXJnaW46IDQwLFxuICAgICAgICAgICAgcGFnZXI6IGZhbHNlLFxuICAgICAgICAgICAgcHJldlNlbGVjdG9yOiAnLmpzLXNsaWRlci1jb250cm9sLS1wcmV2JyxcbiAgICAgICAgICAgIG5leHRTZWxlY3RvcjonLmpzLXNsaWRlci1jb250cm9sLS1uZXh0JyxcbiAgICAgICAgICAgIG9uU2xpZGVCZWZvcmU6IGZ1bmN0aW9uKGN1cnJlbnRTbGlkZUh0bWxPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAkKCcuanMtc2xpZGVyLWNvbnRyb2wnKS5yZW1vdmVDbGFzcygnY29udHJvbC1vcGFjaXR5Jyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25TbGlkZUFmdGVyOiBmdW5jdGlvbihjdXJyZW50U2xpZGVIdG1sT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgJCgnLmpzLXNsaWRlci1jb250cm9sJykuYWRkQ2xhc3MoJ2NvbnRyb2wtb3BhY2l0eScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXHRcdGlmICgkKCcuanMtcmFuZG9tLXByb2R1Y3QnKS5sZW5ndGgpIHtcblx0XHRcdGRpb3JWNy5oZWxwZXJzLnJlZ2lzdGVySGFuZGxlYmFyc0hlbHBlcignaWZDb25kJyk7XG5cdFx0XHQkLmFqYXgoe1xuICAgICAgICAgICAgXHR1cmw6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuSE9NRS5SQU5ET00udXJsLFxuICAgICAgICAgICAgXHR0eXBlOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkhPTUUuUkFORE9NLm1ldGhvZCxcbiAgICAgICAgICAgICAgICB4aHJGaWVsZHM6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuSE9NRS5SQU5ET00ueGhyRmllbGRzLFxuICAgICAgICAgICAgXHRzdWNjZXNzOiBkYXRhID0+IHtcblx0XHRcdFx0XHRsZXQgcHVzaGVzVGFiID0gW107XG5cdFx0XHRcdFx0bGV0IGwgPSBkYXRhLmxlbmd0aDtcblx0XHRcdFx0XHRsZXQgZXZlbnRDYXRlZ29yeSA9IGRpb3JWNy50cmFja2luZy5nZXRFdmVudENhdGVnb3J5KCk7XG5cdFx0XHRcdFx0Ly8gbG9vcCB0aHJvdWdoIGVhY2ggaXRlbXMgYW5kIHJhbmRvbWx5IHB1c2ggdG8gbmV3IGFycmF5XG5cdFx0XHRcdFx0d2hpbGUgKCBsLS0gKSB7XG5cdFx0XHRcdFx0XHRsZXQgX3JhbmRvbUluZGV4ID0gTWF0aC5yYW5kb20oKSAqIGw7XG5cdFx0XHRcdFx0XHRwdXNoZXNUYWIucHVzaCggZGF0YS5zcGxpY2UoX3JhbmRvbUluZGV4LDEpWzBdICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0JCgnLmpzLXJhbmRvbS1wcm9kdWN0JykuZWFjaChmdW5jdGlvbihpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoZXNUYWJbaV0uZXZlbnRDYXRlZ29yeSA9IGV2ZW50Q2F0ZWdvcnk7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLmh0bWwoIHRwbC5ob21lLnByb2R1Y3QocHVzaGVzVGFiW2ldKSApO1xuXHRcdFx0XHRcdH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGRpb3JWNy53aXNoTGlzdE1vZHVsZS51cGRhdGVUcmlnZ2VycygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiggJCgnLmpzLW9wZW4tcG9waW4tc3RvY2stYWxlcnQnKS5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLnN0b2NrQWxlcnRQb3BpbiA9IGRpb3JWNy5wb3Bpbk1hbmFnZXIuaW5zdGFuY2lhdGUoe1xuICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6ICdzdG9jay1hbGVydCcsXG5cdFx0XHRcdCRlbDogJCgnLmpzLXBvcGluLXN0b2NrLWFsZXJ0JyksXG4gICAgICAgICAgICAgICAgJHRyaWdnZXI6ICQoJy5qcy1vcGVuLXBvcGluLXN0b2NrLWFsZXJ0JyksXG5cdFx0XHRcdHdlYnNlcnZpY2U6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuUFJPRFVDVC5TVE9DS19BTEVSVFxuICAgICAgICAgICAgfSwgUG9waW5TdG9ja0FsZXJ0KTtcblx0XHR9XG5cblx0XHR0aGlzLm9uUmVzaXplKCk7XG5cdFx0JCh3aW5kb3cpLnJlc2l6ZSggdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpICk7XG5cdH0sXG5cblx0b25SZXNpemUgKCkge1xuXHRcdC8vIER5bmFtaWMgbWFyZ2luIGZvciBncmlkOlxuXHRcdC8vICBfX19fX19fXG5cdFx0Ly8gfCAgIHwgICB8XG5cdFx0Ly8gfCAxIHwtLS18XG5cdFx0Ly8gfF9fX3xfX198XG5cdFx0Ly9cblx0XHQvLyBGb3IgaW4tc3RvcmUgQ0RDIGJsb2NrIC0gMyBwdXNoZXMgY2FzZVxuXHRcdC8vIHJlcXVpcmVtZW50OlxuXHRcdC8vIC0gMSAuanMtbWFpbi1jb2w6IHRhcmdldCBoZWlnaHRcblx0XHQvLyAtIDIgLmpzLWNvbDogYXNpZGUgY29sIHRoYXQgbmVlZCB0byBmaXQgLmpzLW1haW4tY29sIChhbmQgY29udGFpbnMgLmpzLXB1c2gpXG5cdFx0aWYoICQoJy5qcy1keW5hbWljLW1hcmdpbicpLmxlbmd0aCApIHtcblxuXHRcdFx0bGV0IG1haW5Db2xIZWlnaHQgPSAkKCcuanMtbWFpbi1jb2wnKS5oZWlnaHQoKTtcblxuXHRcdFx0bGV0IGNvbEhlaWdodDtcblx0XHRcdCQoJy5qcy1jb2wgLmpzLXB1c2gnKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb2xIZWlnaHQgPSAkKHRoaXMpLmhlaWdodCgpO1xuXHRcdFx0fSk7XG5cdFx0XHRjb2xIZWlnaHQgKz0gY29sSGVpZ2h0O1xuXG5cdFx0XHRsZXQgbWFyZ2luSGVpZ2h0ID0gbWFpbkNvbEhlaWdodCAtIGNvbEhlaWdodDtcblxuXHRcdFx0JCgnLmpzLWNvbCAucm93OmZpcnN0JykuY3NzKCdtYXJnaW4tYm90dG9tJyxtYXJnaW5IZWlnaHQpO1xuXG5cdFx0fVxuXHR9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBob21lO1xuIiwiaW1wb3J0IGVxdWFsSGVpZ2h0IGZyb20gJy4uL21vZHVsZXMvZXF1YWxIZWlnaHQuanMnO1xuXG5sZXQgcHJlaG9tZSA9IHtcblx0aW5pdCgpIHtcblxuXHRcdC8vQ292ZXIgc2xpZGVyXG5cdFx0aWYoICQoJy5qcy1jb3Zlci1zbGlkZXInKSApIHtcblxuXHRcdFx0JCgnLmpzLWNvdmVyLXNsaWRlcicpLmJ4U2xpZGVyKHtcblx0XHRcdFx0bW9kZTogJ2ZhZGUnLFxuXHRcdFx0ICAgXHRpbmZpbml0ZUxvb3A6IHRydWUsXG5cdFx0XHQgICBcdHBhZ2VyOiBmYWxzZSxcblx0XHRcdFx0cHJldlNlbGVjdG9yOiAnLmpzLXNsaWRlci1jb250cm9sLS1wcmV2Jyxcblx0XHRcdFx0bmV4dFNlbGVjdG9yOicuanMtc2xpZGVyLWNvbnRyb2wtLW5leHQnLFxuXHRcdFx0XHRuZXh0VGV4dDogJycsXG5cdFx0XHRcdHByZXZUZXh0OiAnJyxcblx0XHRcdFx0YXV0bzogdHJ1ZVxuXHRcdCAgIH0pO1xuXHRcdH1cblxuXHRcdHRoaXMub25SZXNpemUoKTtcblxuICAgICAgICB0aGlzLl9vblJlc2l6ZSA9IHRoaXMub25SZXNpemUuYmluZCh0aGlzKTtcblxuXHRcdCQoJy5wYWdlLXByZWhvbWUgaW1nJykub25JbWFnZXNMb2FkZWQoIHRoaXMuX29uUmVzaXplICk7XG5cdFx0JCh3aW5kb3cpLnJlc2l6ZSggdGhpcy5fb25SZXNpemUgKTtcblx0fSxcblxuXHRvblJlc2l6ZSAoKSB7XG5cdFx0Ly8gRXF1YWxpemUgY29sdW1uc1xuXHRcdCQoJy5qcy1lcXVhbC1jb2xzJykuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGVxdWFsSGVpZ2h0LmVxdWFsaXplKCcuanMtZXF1YWwtY29scycpO1xuXHRcdH0pO1xuXHR9XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHByZWhvbWU7XG4iLCJpbXBvcnQgTmV3c2xldHRlckxlZ2FsRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL0xlZ2FsRm9ybS5qcyc7XG5pbXBvcnQgdHBsIGZyb20gJy4uL3RlbXBsYXRlcy5qcyc7XG5cbmxldCBzYW1wbGluZyA9IHtcblxuICAgICRsZWdhbE5ld3NsZXR0ZXI6ICQoJy5qcy1wb3Bpbi1uZXdzbGV0dGVyLWxlZ2FsJyksXG4gICAgY2l0aWVzU2xpZGVyOiBudWxsLFxuXG4gICAgaW5pdCgkZWwpIHtcbiAgICAgICAgdGhpcy4kZWwgPSAkZWw7XG5cbiAgICAgICAgaWYoICQoJy5qcy1jaXRpZXMtbGlzdCcpLmxlbmd0aCApIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5qcy1zZWxlY3QnKS5vbignY2hhbmdlJywgdGhpcy5jaXRpZXNGaWx0ZXIuYmluZCh0aGlzKSApO1xuXG4gICAgICAgICAgICB0aGlzLiRlbC5vbignY2xpY2snLCAnLmpzLXNob3AgLmpzLWxpbmsnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBsZXQgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICAgICAgJCgnLmpzLWxpbmsnKS5yZW1vdmVDbGFzcygnbGluay0tYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2xpbmstLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgICQoJy5qcy1idXR0b24nKS5zaG93KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLmpzLXNsaWRlci1jb250cm9sJykub24oJ2NsaWNrJywgKCkgPT4gIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNpdGllc1BhZ2luYXRpb24oJGVsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTEVHQUwgVEVSTVxuICAgICAgICBpZiAodGhpcy4kbGVnYWxOZXdzbGV0dGVyLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5pbml0TGVnYWxQb3BpbigkZWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLmpzLXNhbXBsaW5nLWZvcm0nKS5vbignc3VibWl0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0U2FtcGxpbmcoJGVsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNpdGllc0ZpbHRlcihlKSB7XG4gICAgICAgIGxldCBjaXR5ICAgID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuXG4gICAgICAgIC8vIENsZWFyXG4gICAgICAgIGlmKHRoaXMuY2l0aWVzU2xpZGVyKSB0aGlzLmNpdGllc1NsaWRlci5kZXN0cm95U2xpZGVyKCk7XG4gICAgICAgICQoJy5qcy1jaXRpZXMtcGFnaW5hdGlvbicpLmNzcygndmlzaWJpbGl0eScsJ2hpZGRlbicpO1xuICAgICAgICAkKCcuanMtYnV0dG9uJykuaGlkZSgpO1xuICAgICAgICAkKCcuanMtc2hvcHMnKS5jc3MoJ3Zpc2liaWxpdHknLCd2aXNpYmxlJyk7XG5cbiAgICAgICAgZGlvclY3LmhlbHBlcnMucmVnaXN0ZXJIYW5kbGViYXJzSGVscGVyKCdpZkNvbmQnKTtcbiAgICAgICAgJCgnLmpzLXNob3BzJykuZW1wdHkoKS5hcHBlbmQoIHRwbC5zYW1wbGluZy5jaXRpZXMoIHdpbmRvdy5TYW1wbGluZ1Nob3BzWyBjaXR5IF0gKSApO1xuXG4gICAgICAgIGxldCBudW1QYWdlID0gJCgnLmpzLXBhZ2Utc2xpZGVyJykubGVuZ3RoO1xuICAgICAgICBpZiggbnVtUGFnZSA+IDEgKSB7XG5cbiAgICAgICAgICAgIC8vIFBhZ2luYXRpb25cbiAgICAgICAgICAgICQoJy5qcy1jaXRpZXMtcGFnaW5hdGlvbicpLmNzcygndmlzaWJpbGl0eScsJ3Zpc2libGUnKTtcbiAgICAgICAgICAgICQoJy5qcy10b3RhbC1wYWdlcycpLmh0bWwobnVtUGFnZSk7XG4gICAgICAgICAgICAkKCcuanMtY3VycmVudC1wYWdlJykuaHRtbCgnMScpO1xuXG4gICAgICAgICAgICB0aGlzLmNpdGllc1NsaWRlciA9ICQoJy5qcy1jaXRpZXMtc2xpZGVyJykuYnhTbGlkZXIoe1xuICAgIFx0XHRcdHBhZ2VyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpbmZpbml0ZUxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGhpZGVDb250cm9sT25FbmQ6IHRydWUsXG4gICAgXHRcdFx0cHJldlNlbGVjdG9yOiAnLmpzLXNsaWRlci1jb250cm9sLS1wcmV2JyxcbiAgICBcdFx0XHRuZXh0U2VsZWN0b3I6ICcuanMtc2xpZGVyLWNvbnRyb2wtLW5leHQnLFxuICAgICAgICAgICAgICAgIHByZXZUZXh0OiAnJyxcbiAgICBcdFx0XHRuZXh0VGV4dDogJydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHVwZGF0ZUNpdGllc1BhZ2luYXRpb24oJGVsKSB7XG4gICAgICAgIGxldCBjdXJyZW50UGFnZSA9IHRoaXMuY2l0aWVzU2xpZGVyLmdldEN1cnJlbnRTbGlkZSgpICsgMTtcbiAgICAgICAgJGVsLmZpbmQoJCgnLmpzLWN1cnJlbnQtcGFnZScpLmh0bWwoIGN1cnJlbnRQYWdlICkpO1xuICAgIH0sXG5cbiAgICBpbml0TGVnYWxQb3BpbigkZWwpIHtcbiAgICAgICAgZGlvclY3LnBvcGluTWFuYWdlci5pbnN0YW5jaWF0ZSh7XG4gICAgICAgICAgICBpZGVudGlmaWVyOiAnbmV3c2xldHRlci1sZWdhbCcsXG4gICAgICAgICAgICAkZWw6IHRoaXMuJGxlZ2FsTmV3c2xldHRlcixcbiAgICAgICAgICAgIHRyaWdnZXJFdmVudHM6IDFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGxlZ2FsQWNjZXB0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTmV3c2xldHRlciBsZWdhbCBmb3JtIGNhbGxzIGEgY2FsbGJhY2sgb24gc3VibWl0XG4gICAgICAgICAqIE9uIHN1Ym1pdCwgc2V0IGNvbmRpdGlvbnMgdG8gYWNjZXB0ZWQgYW5kIGNhbGxcbiAgICAgICAgICogc3VibWl0IG9uIHRoZSBmb3JtIGJlbG93IHBvcGluIHRvIHNlbmQgaW5mb3JtYXRpb25cbiAgICAgICAgICogSWYgbGVnYWxBY2NlcHRlZCBpcyBmYWxzZSB0aGUgZm9ybSBiZWxvdyB3aWxsIG5vdCBiZVxuICAgICAgICAgKiBzZW50XG4gICAgICAgICAqL1xuICAgICAgICBsZXQgbmV3c2xldHRlckxlZ2FsID0gbmV3IE5ld3NsZXR0ZXJMZWdhbEZvcm0odGhpcy4kbGVnYWxOZXdzbGV0dGVyLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgbGVnYWxBY2NlcHRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmdldFNhbXBsaW5nKCRlbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHVwZGF0ZXMgc2Nyb2xsIHdoZW4gcG9waW4gaXMgb3BlbmVkXG4gICAgICAgIGRpb3JWNy5wb3Bpbk1hbmFnZXIucG9waW5zWyduZXdzbGV0dGVyLWxlZ2FsJ10ub24oJ29wZW5lZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbmV3c2xldHRlckxlZ2FsLnNob3coKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGVsLmZpbmQoJy5qcy1zYW1wbGluZy1mb3JtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICghbGVnYWxBY2NlcHRlZCAmJiAkZWwuZmluZCgnLmpzLXNhbXBsaW5nLWZvcm0gaW5wdXQ6Y2hlY2tlZCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBkaW9yVjcucG9waW5NYW5hZ2VyLnBvcGluc1snbmV3c2xldHRlci1sZWdhbCddLm9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIGdldFNhbXBsaW5nKCRlbCkge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLlNBTVBMSU5HLlJFUVVFU1QudXJsLFxuICAgICAgICAgICAgdHlwZTogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5TQU1QTElORy5SRVFVRVNULm1ldGhvZCxcbiAgICAgICAgICAgIGRhdGE6IHRoaXMuJGVsLmZpbmQoJy5qcy1zYW1wbGluZy1mb3JtJykuc2VyaWFsaXplKCksXG4gICAgICAgICAgICB4aHJGaWVsZHM6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuU0FNUExJTkcuUkVRVUVTVC54aHJGaWVsZHMsXG4gICAgICAgICAgICBzdWNjZXNzOiBkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBzYW1wbGluZztcbiIsImZ1bmN0aW9uIHRwbCgpIHt0aGlzW1wiYXBwXCJdID0gd2luZG93LmRpb3JWNy5IYW5kbGViYXJzLnRlbXBsYXRlKHtcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHJldHVybiBcIlwiO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG50aGlzW1wiYWNjb3VudFwiXSA9IHRoaXNbXCJhY2NvdW50XCJdIHx8IHt9O1xudGhpc1tcImFjY291bnRcIl1bXCJyZXR1cm5TdGVwM1wiXSA9IHdpbmRvdy5kaW9yVjcuSGFuZGxlYmFycy50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiBcIiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wcm9kdWN0c0V4Y2hhbmdlcyA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgXCI7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSwgYWxpYXMyPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczU9Y29udGFpbmVyLmxhbWJkYTtcblxuICByZXR1cm4gXCIgICAgPGRpdiBjbGFzcz1cXFwicmVzdW1lLXByb2R1Y3RcXFwiIGlkPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaWRlbnRpZmllciB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWRlbnRpZmllciA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiaWRlbnRpZmllclwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiPiA8cD4gXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGRhdGEucm9vdCkpICYmIHN0YWNrMS53b3JkaW5nKSkgJiYgc3RhY2sxLmV4Y2hhbmdlVGl0bGUpLCBkZXB0aDApKVxuICAgICsgXCIgPC9wPiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDMsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRpdGxlIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg1LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5kZXNjcmlwdGlvbiA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiIDxzcGFuPlwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucmVmZXJlbmNlIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg5LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnNpemUgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDExLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmludGVuc2l0eSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTMsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucHJpY2UgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDE1LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3NwYW4+IFwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucmV0dXJuUmVhc29uIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxOCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiIDxzcGFuIGNsYXNzPVxcXCJub3RlXFxcIj5cIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgZGF0YS5yb290KSkgJiYgc3RhY2sxLndvcmRpbmcpKSAmJiBzdGFjazEuZXhjaGFuZ2VHaWZ0KSwgZGVwdGgwKSlcbiAgICArIFwiIDwvc3Bhbj4gPHA+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmNvbW1lbnRhaXJlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb21tZW50YWlyZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiY29tbWVudGFpcmVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9wPiA8L2Rpdj4gXCI7XG59LFwiM1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGhlbHBlcjtcblxuICByZXR1cm4gXCI8aDM+XCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LHtcIm5hbWVcIjpcIm5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9oMz5cIjtcbn0sXCI1XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyO1xuXG4gIHJldHVybiBcIjxzcGFuPlwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRpdGxlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LHtcIm5hbWVcIjpcInRpdGxlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjwvc3Bhbj5cIjtcbn0sXCI3XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyO1xuXG4gIHJldHVybiBcIjxzcGFuPlwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmRlc2NyaXB0aW9uIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5kZXNjcmlwdGlvbiA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LHtcIm5hbWVcIjpcImRlc2NyaXB0aW9uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjwvc3Bhbj5cIjtcbn0sXCI5XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyO1xuXG4gIHJldHVybiBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnJlZmVyZW5jZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucmVmZXJlbmNlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlcnMuaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IFwiZnVuY3Rpb25cIiA/IGhlbHBlci5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDoge30se1wibmFtZVwiOlwicmVmZXJlbmNlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpO1xufSxcIjExXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyO1xuXG4gIHJldHVybiBcIiwgXCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuc2l6ZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc2l6ZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LHtcIm5hbWVcIjpcInNpemVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSk7XG59LFwiMTNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBoZWxwZXI7XG5cbiAgcmV0dXJuIFwiLCBcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pbnRlbnNpdHkgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmludGVuc2l0eSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LHtcIm5hbWVcIjpcImludGVuc2l0eVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKTtcbn0sXCIxNVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucmVmZXJlbmNlIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxNiwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIGFsaWFzMihjb250YWluZXIubGFtYmRhKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBkYXRhLnJvb3QpKSAmJiBzdGFjazEud29yZGluZykpICYmIHN0YWNrMS5wcmljZSksIGRlcHRoMCkpXG4gICAgKyBcIiBcIlxuICAgICsgYWxpYXMyKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMucHJpY2UgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnByaWNlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlcnMuaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IFwiZnVuY3Rpb25cIiA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJwcmljZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKTtcbn0sXCIxNlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiLCBcIjtcbn0sXCIxOFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCI8c3Bhbj4oXCJcbiAgICArICgoc3RhY2sxID0gKGhlbHBlcnMua2V5SW5PYmplY3QgfHwgKGRlcHRoMCAmJiBkZXB0aDAua2V5SW5PYmplY3QpIHx8IGhlbHBlcnMuaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5yZXR1cm5SZWFzb24gOiBkZXB0aDApLCgoc3RhY2sxID0gKGRhdGEgJiYgZGF0YS5yb290KSkgJiYgc3RhY2sxLnJldHVyblJlYXNvbnMpLHtcIm5hbWVcIjpcImtleUluT2JqZWN0XCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDE5LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIpPC9zcGFuPlwiO1xufSxcIjE5XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICByZXR1cm4gXCJcIjtcbn0sXCIyMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCIgXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucHJvZHVjdHNSZWZ1bmRzIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIyLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgXCI7XG59LFwiMjJcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDoge30sIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXMzPWNvbnRhaW5lci5sYW1iZGE7XG5cbiAgcmV0dXJuIFwiICAgIDxkaXYgY2xhc3M9XFxcInJlc3VtZS1wcm9kdWN0XFxcIiBpZD1cXFwiXCJcbiAgICArIGFsaWFzMigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmlkZW50aWZpZXIgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkZW50aWZpZXIgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVycy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImlkZW50aWZpZXJcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIj4gPHA+IFwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBkYXRhLnJvb3QpKSAmJiBzdGFjazEud29yZGluZykpICYmIHN0YWNrMS5yZWZ1bmRUaXRsZSksIGRlcHRoMCkpXG4gICAgKyBcIiA8L3A+IFwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiIFwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudGl0bGUgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDUsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmRlc2NyaXB0aW9uIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg3LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgPHNwYW4+XCJcbiAgICArICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5yZWZlcmVuY2UgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDksIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc2l6ZSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaW50ZW5zaXR5IDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxMywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wcmljZSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTUsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvc3Bhbj4gXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5yZXR1cm5SZWFzb24gOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDE4LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgPHNwYW4gY2xhc3M9XFxcIm5vdGVcXFwiPlwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBkYXRhLnJvb3QpKSAmJiBzdGFjazEud29yZGluZykpICYmIHN0YWNrMS5yZWZ1bmRHaWZ0KSwgZGVwdGgwKSlcbiAgICArIFwiPC9zcGFuPiA8cD5cIlxuICAgICsgYWxpYXMyKGFsaWFzMygoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgZGF0YS5yb290KSkgJiYgc3RhY2sxLndvcmRpbmcpKSAmJiBzdGFjazEucmVmdW5kTm90ZSksIGRlcHRoMCkpXG4gICAgKyBcIjwvcD4gPC9kaXY+IFwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9O1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucHJvZHVjdHNFeGNoYW5nZXMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnByb2R1Y3RzUmVmdW5kcyA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMjEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG50aGlzW1wiYWNjb3VudFwiXSA9IHRoaXNbXCJhY2NvdW50XCJdIHx8IHt9O1xudGhpc1tcImFjY291bnRcIl1bXCJ2aWRlb3NcIl0gPSB3aW5kb3cuZGlvclY3LkhhbmRsZWJhcnMudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDoge307XG5cbiAgcmV0dXJuIFwiIFwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudmlkZW9zIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyAoKHN0YWNrMSA9IChoZWxwZXJzLnRpbWVzIHx8IChkZXB0aDAgJiYgZGVwdGgwLnRpbWVzKSB8fCBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5leHRyYVREIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJ0aW1lc1wiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxMCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC90cj4gXCI7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSwgYWxpYXMyPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGhlbHBlcnMudW5sZXNzLmNhbGwoYWxpYXMxLChkYXRhICYmIGRhdGEuaW5kZXgpLHtcIm5hbWVcIjpcInVubGVzc1wiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgzLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIucHJvZ3JhbSg1LCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgPHRkIGNsYXNzPVxcXCJ2aWRlby1jb250YWluZXIganMtYWNjb3VudC12aWRlb1xcXCI+IDxmaWd1cmUgY2xhc3M9XFxcImpzLXBvcGluLXBsYXllci10cmlnZ2VyXFxcIiBkYXRhLW9wdGlvbnM9J3sgXFxcIm1tbUlEXFxcIjogXFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5tbW1JRCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubW1tSUQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIm1tbUlEXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIsIFxcXCJ1cmxcXFwiOiBcXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnVybCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ1cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiwgXFxcImF1dG9wbGF5XFxcIjogdHJ1ZSwgXFxcImZ1bGxzY3JlZW5cXFwiOiB0cnVlIH0nPiA8c3BhbiBjbGFzcz1cXFwicG9zdGVyLXdyYXBwZXJcXFwiPiA8aW1nIHNyYz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnBvc3RlciB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucG9zdGVyIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJwb3N0ZXJcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiBhbHQ9XFxcIlxcXCI+IDxzcGFuIGNsYXNzPVxcXCJ0aW1lclxcXCI+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmR1cmF0aW9uIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5kdXJhdGlvbiA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiZHVyYXRpb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9zcGFuPiA8L3NwYW4+IDxmaWdjYXB0aW9uPiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudGl0bGUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRpdGxlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ0aXRsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCIgPC9maWdjYXB0aW9uPiA8L2ZpZ3VyZT4gPGRpdiBjbGFzcz1cXFwiZm9ybS1maWVsZFxcXCI+IDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwidmlkZW9zXFxcIiB2YWx1ZT1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmlkIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiaWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiBpZD1cXFwidmlkZW8tXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmluZGV4IHx8IChkYXRhICYmIGRhdGEuaW5kZXgpKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImluZGV4XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgIGRhdGEtdmFsaWRhdGlvbi1ncm91cD1cXFwiYWNjb3VudC12aWRlb3MtY2hlY2tib3hcXFwiPiA8bGFiZWwgZm9yPVxcXCJ2aWRlby1cIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaW5kZXggfHwgKGRhdGEgJiYgZGF0YS5pbmRleCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiaW5kZXhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiBjbGFzcz1cXFwiZm9ybS1jaGVja2JveFxcXCI+dmlkZW8gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmluZGV4IHx8IChkYXRhICYmIGRhdGEuaW5kZXgpKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImluZGV4XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjwvbGFiZWw+IDwvZGl2PiA8L3RkPiBcIjtcbn0sXCIzXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICByZXR1cm4gXCJcdFx0PHRyPiBcIjtcbn0sXCI1XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiBcIiBcIlxuICAgICsgKChzdGFjazEgPSAoaGVscGVycy5pZkNvbmQgfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWZDb25kKSB8fCBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSwoZGF0YSAmJiBkYXRhLmluZGV4KSxcIiVcIiwzLHtcIm5hbWVcIjpcImlmQ29uZFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg2LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIucHJvZ3JhbSg4LCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgXCI7XG59LFwiNlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiXCI7XG59LFwiOFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiXHRcdFx0PC90cj48dHI+IFwiO1xufSxcIjEwXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICByZXR1cm4gXCJcdDx0ZD48L3RkPiBcIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDoge30sKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnZpZGVvcyA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcbnRoaXNbXCJob21lXCJdID0gdGhpc1tcImhvbWVcIl0gfHwge307XG50aGlzW1wiaG9tZVwiXVtcInByb2R1Y3RcIl0gPSB3aW5kb3cuZGlvclY3LkhhbmRsZWJhcnMudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiXCI7XG59LFwiM1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyO1xuXG4gIHJldHVybiBcIlx0XHRcdDxidXR0b24gY2xhc3M9XFxcImJ1dHRvbiBidXR0b24tLWRhcmtcXFwiIGRhdGEtc2t1PVxcXCJcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5za3UgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnNrdSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LHtcIm5hbWVcIjpcInNrdVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiPlwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5sYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZWNvIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5sYWJlbCA6IHN0YWNrMSksIGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L2J1dHRvbj4gXCI7XG59LFwiNVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gKChzdGFjazEgPSAoaGVscGVycy5pZkNvbmQgfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWZDb25kKSB8fCBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5lY28gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnN0YXR1cyA6IHN0YWNrMSksXCI9PT1cIiwwLHtcIm5hbWVcIjpcImlmQ29uZFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg2LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIucHJvZ3JhbSg4LCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCI2XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiBcIlx0XHRcdFx0PHA+XCJcbiAgICArICgoc3RhY2sxID0gY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5lY28gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmxhYmVsIDogc3RhY2sxKSwgZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvcD4gXCI7XG59LFwiOFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyO1xuXG4gIHJldHVybiBcIlx0XHRcdFx0PGEgaHJlZj1cXFwiXCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudXJsIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmwgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVycy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSx7XCJuYW1lXCI6XCJ1cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiBjbGFzcz1cXFwiYnV0dG9uIGJ1dHRvbi0tZGFya1xcXCI+XCJcbiAgICArICgoc3RhY2sxID0gY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5lY28gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmxhYmVsIDogc3RhY2sxKSwgZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvYT4gXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSwgYWxpYXMyPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiA8ZGl2IGNsYXNzPVxcXCJwdXNoIGpzLXB1c2ggcHVzaC1lY29cXFwiPiA8YSBocmVmPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudXJsIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmwgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInVybFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiIGNsYXNzPVxcXCJwdXNoLWltYWdlIHB1c2gtaW1hZ2UtLWJvcmRlclxcXCI+IDxpbWcgc3JjPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaW1hZ2UgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmltYWdlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJpbWFnZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiIGFsdD1cXFwiXFxcIj4gPGJ1dHRvbiBjbGFzcz1cXFwiaWNvbiBpY29uLWZhdm9yaXRlIGpzLXdpc2hsaXN0LWFkZFxcXCIgZGF0YS1pZGVudGlmaWVyPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuc2t1IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5za3UgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInNrdVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiIGRhdGEtdW5pdmVyc2U9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy51bml2ZXJzZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudW5pdmVyc2UgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInVuaXZlcnNlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgZGF0YS13aXNobGlzdC10cmFja2luZz0neyBcXFwiZXZlbnRcXFwiOlxcXCJ0cmFja0V2ZW50XFxcIiwgXFxcImV2ZW50Q2F0ZWdvcnlcXFwiOlxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuZXZlbnRDYXRlZ29yeSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZXZlbnRDYXRlZ29yeSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiZXZlbnRDYXRlZ29yeVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiLCBcXFwiZXZlbnRBY3Rpb25cXFwiOlxcXCJBZGQgdG8gV2lzaGxpc3QgPE5vdENvbm5lY3RlZD5cXFwiLCBcXFwiZXZlbnRMYWJlbFxcXCI6IFwiXG4gICAgKyAoKHN0YWNrMSA9IChoZWxwZXJzLnN0cmluZ2lmeSB8fCAoZGVwdGgwICYmIGRlcHRoMC5zdHJpbmdpZnkpIHx8IGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApLHtcIm5hbWVcIjpcInN0cmluZ2lmeVwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgfSc+PC9idXR0b24+IDwvYT4gPGRpdiBjbGFzcz1cXFwicHVzaC1sZWdlbmRcXFwiPiA8YSBocmVmPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudXJsIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmwgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInVybFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiIGNsYXNzPVxcXCJwdXNoLXRleHRcXFwiPiA8aDQ+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmNvbGxlY3Rpb24gfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbGxlY3Rpb24gOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImNvbGxlY3Rpb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9oND4gPHA+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIm5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9wPiA8c3BhbiBjbGFzcz1cXFwicHVzaC1wcmljZVxcXCI+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnByaWNlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wcmljZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwicHJpY2VcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9zcGFuPiA8L2E+IDxkaXYgY2xhc3M9XFxcInB1c2gtYnV0dG9uXFxcIj4gXCJcbiAgICArICgoc3RhY2sxID0gKGhlbHBlcnMuaWZDb25kIHx8IChkZXB0aDAgJiYgZGVwdGgwLmlmQ29uZCkgfHwgYWxpYXMyKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5lY28gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnN0YXR1cyA6IHN0YWNrMSksXCI9PT1cIiwxLHtcIm5hbWVcIjpcImlmQ29uZFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgzLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIucHJvZ3JhbSg1LCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcdFx0PC9kaXY+IDwvZGl2PiA8L2Rpdj5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xudGhpc1tcIm1pc2NcIl0gPSB0aGlzW1wibWlzY1wiXSB8fCB7fTtcbnRoaXNbXCJtaXNjXCJdW1wiemlwY29kZVwiXSA9IHdpbmRvdy5kaW9yVjcuSGFuZGxlYmFycy50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSwgYWxpYXMyPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIjx0ciBjbGFzcz0nanMtc2VsZWN0LXppcGNvZGUgemlwY29kZS1cIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaW5kZXggfHwgKGRhdGEgJiYgZGF0YS5pbmRleCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiaW5kZXhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiJyBkYXRhLXppcGNvZGU9J1wiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5wb3N0Y29kZTYgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBvc3Rjb2RlNiA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwicG9zdGNvZGU2XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIicgZGF0YS1hZGRyZXNzPSdcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMua29fY29tbW9uIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5rb19jb21tb24gOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImtvX2NvbW1vblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMua29famliZW9uIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5rb19qaWJlb24gOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImtvX2ppYmVvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCInIGRhdGEtemlwY29kZS1uZXc9J1wiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5wb3N0Y29kZTUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBvc3Rjb2RlNSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwicG9zdGNvZGU1XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIicgZGF0YS1hZGRyZXNzLW5ldz0nXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmtvX2NvbW1vbiB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAua29fY29tbW9uIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJrb19jb21tb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmtvX2Rvcm8gfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmtvX2Rvcm8gOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImtvX2Rvcm9cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiJz4gPHRkIGNsYXNzPSdmaXJzdCc+PHNwYW4+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnBvc3Rjb2RlNiB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucG9zdGNvZGU2IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJwb3N0Y29kZTZcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9zcGFuPjxzcGFuIGNsYXNzPSduZXcnPlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5wb3N0Y29kZTUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBvc3Rjb2RlNSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwicG9zdGNvZGU1XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjwvc3Bhbj48L3RkPiA8dGQ+PHNwYW4+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmtvX2NvbW1vbiB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAua29fY29tbW9uIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJrb19jb21tb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmtvX2ppYmVvbiB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAua29famliZW9uIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJrb19qaWJlb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9zcGFuPjxzcGFuIGNsYXNzPSduZXcnPlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5rb19jb21tb24gfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmtvX2NvbW1vbiA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwia29fY29tbW9uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5rb19kb3JvIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5rb19kb3JvIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJrb19kb3JvXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjwvc3Bhbj48L3RkPiA8L3RyPiBcIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiBcIiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LGRlcHRoMCx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG50aGlzW1wic2FtcGxpbmdcIl0gPSB0aGlzW1wic2FtcGxpbmdcIl0gfHwge307XG50aGlzW1wic2FtcGxpbmdcIl1bXCJjaXRpZXNcIl0gPSB3aW5kb3cuZGlvclY3LkhhbmRsZWJhcnMudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSwgYWxpYXMyPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIjtcblxuICByZXR1cm4gXCIgXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy51bmxlc3MuY2FsbChhbGlhczEsKGRhdGEgJiYgZGF0YS5pbmRleCkse1wibmFtZVwiOlwidW5sZXNzXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5wcm9ncmFtKDQsIGRhdGEsIDApLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiA8bGkgY2xhc3M9XFxcInNob3AganMtc2hvcFxcXCIgZGF0YS1jaXR5PVxcXCJcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5jaXR5IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jaXR5IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJjaXR5XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+IDxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJqcy1saW5rXFxcIj4gPHN0cm9uZz5cIlxuICAgICsgKChzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIm5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvc3Ryb25nPiA8YWRkcmVzcz5cIlxuICAgICsgKChzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmFkZHJlc3MgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmFkZHJlc3MgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImFkZHJlc3NcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvYWRkcmVzcz4gPHNwYW4gY2xhc3M9XFxcInNob3AtY2l0eVxcXCI+XCJcbiAgICArICgoc3RhY2sxID0gKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5jaXR5IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jaXR5IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJjaXR5XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJzaG9wLXBob25lXFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnBob25lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5waG9uZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwicGhvbmVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvc3Bhbj4gPC9hPiA8L2xpPiBcIjtcbn0sXCIyXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICByZXR1cm4gXCIgICAgPGxpIGNsYXNzPVxcXCJwYWdlLXNsaWRlciBqcy1wYWdlLXNsaWRlclxcXCI+PHVsPiBcIjtcbn0sXCI0XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiBcIiBcIlxuICAgICsgKChzdGFjazEgPSAoaGVscGVycy5pZkNvbmQgfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWZDb25kKSB8fCBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSwoZGF0YSAmJiBkYXRhLmluZGV4KSxcIiVcIiw4LHtcIm5hbWVcIjpcImlmQ29uZFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg1LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIucHJvZ3JhbSg3LCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgXCI7XG59LFwiNVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiXCI7XG59LFwiN1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiICAgIDwvdWw+PC9saT4gPGxpIGNsYXNzPVxcXCJwYWdlLXNsaWRlciBqcy1wYWdlLXNsaWRlclxcXCI+PHVsPiBcIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDoge30sZGVwdGgwLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC91bD48L2xpPiBcIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pO30gZXhwb3J0IGRlZmF1bHQgbmV3IHRwbCgpOyJdfQ==

/*!

 handlebars v1.3.0

 Copyright (C) 2011 by Yehuda Katz

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

 @license
 */
var Handlebars=function(){var a=function(){"use strict";function a(a){this.string=a}var b;return a.prototype.toString=function(){return""+this.string},b=a}(),b=function(a){"use strict";function b(a){return h[a]||"&amp;"}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=""+a,j.test(a)?a.replace(i,b):a):""}function e(a){return a||0===a?m(a)&&0===a.length?!0:!1:!0}var f={},g=a,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return"function"==typeof a};l(/x/)&&(l=function(a){return"function"==typeof a&&"[object Function]"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===k.call(a):!1};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){"use strict";function a(a,b){var d;b&&b.firstLine&&(d=b.firstLine,a+=" - "+d+":"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<c.length;f++)this[c[f]]=e[c[f]];d&&(this.lineNumber=d,this.column=b.firstColumn)}var b,c=["description","fileName","lineNumber","message","name","number","stack"];return a.prototype=new Error,b=a}(),d=function(a,b){"use strict";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new h("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i="1.3.0";f.VERSION=i;var j=4;f.COMPILER_REVISION=j;var k={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o="[object Object]";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b={};return g.extend(b,a),b};return f.createFrame=q,f}(b,c),e=function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(c>b){var d=n[c],e=n[b];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new l("No environment passed to template");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new l("The partial "+c+" could not be compiled when running in runtime-only mode")},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l("The partial "+b+" could not be found");return a instanceof Function?a(c,g):void 0}function i(){return""}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,f=m}(d,a,c,b,e),g=function(a){"use strict";function b(a){a=a||{},this.firstLine=a.first_line,this.firstColumn=a.first_column,this.lastColumn=a.last_column,this.lastLine=a.last_line}var c,d=a,e={ProgramNode:function(a,c,d,f){var g,h;3===arguments.length?(f=d,d=null):2===arguments.length&&(f=c,c=null),b.call(this,f),this.type="program",this.statements=a,this.strip={},d?(h=d[0],h?(g={first_line:h.firstLine,last_line:h.lastLine,last_column:h.lastColumn,first_column:h.firstColumn},this.inverse=new e.ProgramNode(d,c,g)):this.inverse=new e.ProgramNode(d,c),this.strip.right=c.left):c&&(this.strip.left=c.right)},MustacheNode:function(a,c,d,f,g){if(b.call(this,g),this.type="mustache",this.strip=f,null!=d&&d.charAt){var h=d.charAt(3)||d.charAt(2);this.escaped="{"!==h&&"&"!==h}else this.escaped=!!d;this.sexpr=a instanceof e.SexprNode?a:new e.SexprNode(a,c),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(a,c,d){b.call(this,d),this.type="sexpr",this.hash=c;var e=this.id=a[0],f=this.params=a.slice(1),g=this.eligibleHelper=e.isSimple;this.isHelper=g&&(f.length||c)},PartialNode:function(a,c,d,e){b.call(this,e),this.type="partial",this.partialName=a,this.context=c,this.strip=d},BlockNode:function(a,c,e,f,g){if(b.call(this,g),a.sexpr.id.original!==f.path.original)throw new d(a.sexpr.id.original+" doesn't match "+f.path.original,this);this.type="block",this.mustache=a,this.program=c,this.inverse=e,this.strip={left:a.strip.left,right:f.strip.right},(c||e).strip.left=a.strip.right,(e||c).strip.right=f.strip.left,e&&!c&&(this.isInverse=!0)},ContentNode:function(a,c){b.call(this,c),this.type="content",this.string=a},HashNode:function(a,c){b.call(this,c),this.type="hash",this.pairs=a},IdNode:function(a,c){b.call(this,c),this.type="ID";for(var e="",f=[],g=0,h=0,i=a.length;i>h;h++){var j=a[h].part;if(e+=(a[h].separator||"")+j,".."===j||"."===j||"this"===j){if(f.length>0)throw new d("Invalid path: "+e,this);".."===j?g++:this.isScoped=!0}else f.push(j)}this.original=e,this.parts=f,this.string=f.join("."),this.depth=g,this.isSimple=1===a.length&&!this.isScoped&&0===g,this.stringModeValue=this.string},PartialNameNode:function(a,c){b.call(this,c),this.type="PARTIAL_NAME",this.name=a.original},DataNode:function(a,c){b.call(this,c),this.type="DATA",this.id=a},StringNode:function(a,c){b.call(this,c),this.type="STRING",this.original=this.string=this.stringModeValue=a},IntegerNode:function(a,c){b.call(this,c),this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)},BooleanNode:function(a,c){b.call(this,c),this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a},CommentNode:function(a,c){b.call(this,c),this.type="comment",this.comment=a}};return c=e}(c),h=function(){"use strict";var a,b=function(){function a(a,b){return{left:"~"===a.charAt(2),right:"~"===b.charAt(0)||"~"===b.charAt(1)}}function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(b,c,d,e,f,g){var h=g.length-1;switch(f){case 1:return new e.ProgramNode(g[h-1],this._$);case 2:return new e.ProgramNode([],this._$);case 3:this.$=new e.ProgramNode([],g[h-1],g[h],this._$);break;case 4:this.$=new e.ProgramNode(g[h-2],g[h-1],g[h],this._$);break;case 5:this.$=new e.ProgramNode(g[h-1],g[h],[],this._$);break;case 6:this.$=new e.ProgramNode(g[h],this._$);break;case 7:this.$=new e.ProgramNode([],this._$);break;case 8:this.$=new e.ProgramNode([],this._$);break;case 9:this.$=[g[h]];break;case 10:g[h-1].push(g[h]),this.$=g[h-1];break;case 11:this.$=new e.BlockNode(g[h-2],g[h-1].inverse,g[h-1],g[h],this._$);break;case 12:this.$=new e.BlockNode(g[h-2],g[h-1],g[h-1].inverse,g[h],this._$);break;case 13:this.$=g[h];break;case 14:this.$=g[h];break;case 15:this.$=new e.ContentNode(g[h],this._$);break;case 16:this.$=new e.CommentNode(g[h],this._$);break;case 17:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 18:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 19:this.$={path:g[h-1],strip:a(g[h-2],g[h])};break;case 20:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 21:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 22:this.$=new e.PartialNode(g[h-2],g[h-1],a(g[h-3],g[h]),this._$);break;case 23:this.$=a(g[h-1],g[h]);break;case 24:this.$=new e.SexprNode([g[h-2]].concat(g[h-1]),g[h],this._$);break;case 25:this.$=new e.SexprNode([g[h]],null,this._$);break;case 26:this.$=g[h];break;case 27:this.$=new e.StringNode(g[h],this._$);break;case 28:this.$=new e.IntegerNode(g[h],this._$);break;case 29:this.$=new e.BooleanNode(g[h],this._$);break;case 30:this.$=g[h];break;case 31:g[h-1].isHelper=!0,this.$=g[h-1];break;case 32:this.$=new e.HashNode(g[h],this._$);break;case 33:this.$=[g[h-2],g[h]];break;case 34:this.$=new e.PartialNameNode(g[h],this._$);break;case 35:this.$=new e.PartialNameNode(new e.StringNode(g[h],this._$),this._$);break;case 36:this.$=new e.PartialNameNode(new e.IntegerNode(g[h],this._$));break;case 37:this.$=new e.DataNode(g[h],this._$);break;case 38:this.$=new e.IdNode(g[h],this._$);break;case 39:g[h-2].push({part:g[h],separator:g[h-1]}),this.$=g[h-2];break;case 40:this.$=[{part:g[h]}];break;case 43:this.$=[];break;case 44:g[h-1].push(g[h]);break;case 47:this.$=[g[h]];break;case 48:g[h-1].push(g[h])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(a){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},d=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return e(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return b.yytext=e(1,2).replace(/\\"/g,'"'),32;case 24:return b.yytext=e(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return b.yytext=e(1,2),40;case 31:return"INVALID";case 32:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},a}();return c.lexer=d,b.prototype=c,c.Parser=b,new b}();return a=b}(),i=function(a,b){"use strict";function c(a){return a.constructor===f.ProgramNode?a:(e.yy=f,e.parse(a))}var d={},e=a,f=b;return d.parser=e,d.parse=c,d}(h,g),j=function(a){"use strict";function b(){}function c(a,b,c){if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var d=c.parse(a),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function d(a,b,c){function d(){var d=c.parse(a),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var e;return function(a,b){return e||(e=d()),e.call(this,a,b)}}var e={},f=a;return e.Compiler=b,b.prototype={compiler:b,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c='"'+c.replace("\n","\\n")+'"'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.accept(a)},accept:function(a){var b,c=a.strip||{};return c.left&&this.opcode("strip"),b=this[a.type](a),c.right&&this.opcode("strip"),b},program:function(a){for(var b=a.statements,c=0,d=b.length;d>c;c++)this.accept(b[c]);return this.isSimple=1===d,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=b.sexpr,f=this.classifySexpr(e);"helper"===f?this.helperSexpr(e,c,d):"simple"===f?(this.simpleSexpr(e),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(e,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type),"sexpr"===c.type&&this.sexpr(c)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){this.sexpr(a.sexpr),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new f("You specified knownHelpersOnly, but used the unknown helper "+e,a);this.opcode("invokeHelper",d.length,e,a.isRoot)}},sexpr:function(a){var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0];b?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,d=a.parts.length;d>c;c++)this.opcode("lookup",a.parts[c])},DATA:function(a){if(this.options.data=!0,a.id.isScoped||a.id.depth)throw new f("Scoped data references are not supported: "+a.original,a);this.opcode("lookupData");for(var b=a.id.parts,c=0,d=b.length;d>c;c++)this.opcode("lookup",b[c])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifySexpr:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type),"sexpr"===b.type&&this.sexpr(b)):this[b.type](b)},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}},e.precompile=c,e.compile=d,e}(c),k=function(a,b){"use strict";function c(a){this.value=a}function d(){}var e,f=a.COMPILER_REVISION,g=a.REVISION_CHANGES,h=a.log,i=b;d.prototype={nameLookup:function(a,b){var c,e;return 0===a.indexOf("depth")&&(c=!0),e=/^[0-9]+$/.test(b)?a+"["+b+"]":d.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']",c?"("+a+" && "+e+")":e},compilerInfo:function(){var a=f,b=g[a];return"this.compilerInfo = ["+a+",'"+b+"'];\n"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,c,d){this.environment=a,this.options=b||{},h("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!c,this.context=c||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(a,b);
    var e,f=a.opcodes;this.i=0;for(var g=f.length;this.i<g;this.i++)e=f[this.i],"DECLARE"===e.opcode?this[e.name]=e.value:this[e.opcode].apply(this,e.args),e.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new i("Compile completed with content left on stack");return this.createFunctionContext(d)},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);if(b.length>0&&(this.source[1]=this.source[1]+", "+b.join(", ")),!this.isChild)for(var c in this.context.aliases)this.context.aliases.hasOwnProperty(c)&&(this.source[1]=this.source[1]+", "+c+"="+this.context.aliases[c]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var d=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],e=0,f=this.environment.depths.list.length;f>e;e++)d.push("depth"+this.environment.depths.list[e]);var g=this.mergeSource();if(this.isChild||(g=this.compilerInfo()+g),a)return d.push(g),Function.apply(this,d);var i="function "+(this.name||"")+"("+d.join(",")+") {\n  "+g+"}";return h("debug",i+"\n\n"),i},mergeSource:function(){for(var a,b="",c=0,d=this.source.length;d>c;c++){var e=this.source[c];e.appendToBuffer?a=a?a+"\n    + "+e.content:e.content:(a&&(b+="buffer += "+a+";\n  ",a=void 0),b+=e+"\n  ")}return b},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),this.pushSource("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a),this.stripNext&&(a=a.replace(/^\s+/,"")),this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var a=this.popStack();this.pushSource("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"sexpr"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+a.contexts.join(",")+"}"),this.push("{"+a.types.join(",")+"}")),this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b,c){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var d=this.lastHelper=this.setupHelper(a,b,!0),e=this.nameLookup("depth"+this.lastContext,b,"context"),f="helper = "+d.name+" || "+e;d.paramsInit&&(f+=","+d.paramsInit),this.push("("+f+",helper ? helper.call("+d.callParams+") : helperMissing.call("+d.helperMissingParams+"))"),c||this.flushInline()},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();c.paramsInit&&this.pushSource(c.paramsInit),this.pushSource("if (helper = "+d+") { "+f+" = helper.call("+c.callParams+"); }"),this.pushSource("else { helper = "+e+"; "+f+" = typeof helper === functionType ? helper.call("+c.callParams+") : helper; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b),c&&e.types.push("'"+a+"': "+c),e.values.push("'"+a+"': ("+d+")")},compiler:d,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;g>f;f++)b=d[f],1===b?e.push("depth0"):e.push("depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.pushSource(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new c(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),a&&this.source.push(a)},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.pushSource(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var b,d,e,f="",g=this.isInline();if(g){var h=this.popStack(!0);if(h instanceof c)b=h.value,e=!0;else{d=!this.stackSlot;var i=d?this.incrStack():this.topStackName();f="("+this.push(i)+" = "+h+"),",b=this.topStack()}}else b=this.topStack();var j=a.call(this,b);return g?(e||this.popStack(),d&&this.stackSlot--,this.push("("+f+j+")")):(/^stack/.test(b)||(b=this.nextStack()),this.pushSource(b+" = ("+f+j+");")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,d=a.length;d>b;b++){var e=a[b];e instanceof c?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),d=(b?this.inlineStack:this.compileStack).pop();if(!a&&d instanceof c)return d.value;if(!b){if(!this.stackSlot)throw new i("Invalid stack pop");this.stackSlot--}return d},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,d=b[b.length-1];return!a&&d instanceof c?d.value:d},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[],e=this.setupParams(a,d,c),f=this.nameLookup("helpers",b,"helper");return{params:d,paramsInit:e,name:f,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupOptions:function(a,b){var c,d,e,f=[],g=[],h=[];f.push("hash:"+this.popStack()),this.options.stringParams&&(f.push("hashTypes:"+this.popStack()),f.push("hashContexts:"+this.popStack())),d=this.popStack(),e=this.popStack(),(e||d)&&(e||(this.context.aliases.self="this",e="self.noop"),d||(this.context.aliases.self="this",d="self.noop"),f.push("inverse:"+d),f.push("fn:"+e));for(var i=0;a>i;i++)c=this.popStack(),b.push(c),this.options.stringParams&&(h.push(this.popStack()),g.push(this.popStack()));return this.options.stringParams&&(f.push("contexts:["+g.join(",")+"]"),f.push("types:["+h.join(",")+"]")),this.options.data&&f.push("data:data"),f},setupParams:function(a,b,c){var d="{"+this.setupOptions(a,b).join(",")+"}";return c?(this.useRegister("options"),b.push("options"),"options="+d):(b.push(d),"")}};for(var j="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),k=d.RESERVED_WORDS={},l=0,m=j.length;m>l;l++)k[j[l]]=!0;return d.isValidJavaScriptVariableName=function(a){return!d.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)?!0:!1},e=d}(d,c),l=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c.parser,j=c.parse,k=d.Compiler,l=d.compile,m=d.precompile,n=e,o=g.create,p=function(){var a=o();return a.compile=function(b,c){return l(b,c,a)},a.precompile=function(b,c){return m(b,c,a)},a.AST=h,a.Compiler=k,a.JavaScriptCompiler=n,a.Parser=i,a.parse=j,a};return g=p(),g.create=p,f=g}(f,g,i,j,k);return l}();
/*! tinyscrollbar - v2.4.2 - 2015-04-03
 * http://www.baijs.com/tinyscrollbar
 *
 * Copyright (c) 2015 Maarten Baijs <wieringen@gmail.com>;
 * Licensed under the MIT license */

/* Custom by HE:
 * - specific Defile case: no touch on viewport, but touch on scrollbars
 */

;(function(factory) {
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
    }
    else if (typeof exports === 'object') {
        module.exports = factory(require("jquery"));
    }
    else {
        factory(jQuery);
    }
}
(function($) {
    "use strict";

    var pluginName = "tinyscrollbar"
        ,   defaults = {
            axis : 'y'
            ,   wheel : true
            ,   wheelSpeed : 40
            ,   wheelLock : true
            ,   touchLock : true
            ,   trackSize : false
            ,   thumbSize : false
            ,   thumbSizeMin : 20
            ,   touch        : true   // Set to false to disable touch on viewport, & limit touch to scrollbar
        }
        ;

    function Plugin($container, options) {
        /**
         * The options of the carousel extend with the defaults.
         *
         * @property options
         * @type Object
         */
        this.options = $.extend({}, defaults, options);

        /**
         * @property _defaults
         * @type Object
         * @private
         * @default defaults
         */
        this._defaults = defaults;

        /**
         * @property _name
         * @type String
         * @private
         * @final
         * @default 'tinyscrollbar'
         */
        this._name = pluginName;

        var self = this
            ,   $viewport = $container.find(".viewport")
            ,   $overview = $container.find(".overview")
            ,   $scrollbar = $container.find(".scrollbar")
            ,   $track = $scrollbar.find(".track")
            ,   $thumb = $scrollbar.find(".thumb")

            ,   hasTouchEvents = ("ontouchstart" in document.documentElement)
            ,   wheelEvent = "onwheel" in document.createElement("div") ? "wheel" : // Modern browsers support "wheel"
                document.onmousewheel !== undefined ? "mousewheel" : // Webkit and IE support at least "mousewheel"
                    "DOMMouseScroll" // let's assume that remaining browsers are older Firefox
            ,   isHorizontal = this.options.axis === 'x'
            ,   sizeLabel = isHorizontal ? "width" : "height"
            ,   posiLabel = isHorizontal ? "left" : "top"

            ,   mousePosition = 0
            ;

        /**
         * The position of the content relative to the viewport.
         *
         * @property contentPosition
         * @type Number
         */
        this.contentPosition = 0;

        /**
         * The height or width of the viewport.
         *
         * @property viewportSize
         * @type Number
         */
        this.viewportSize = 0;

        /**
         * The height or width of the content.
         *
         * @property contentSize
         * @type Number
         */
        this.contentSize = 0;

        /**
         * The ratio of the content size relative to the viewport size.
         *
         * @property contentRatio
         * @type Number
         */
        this.contentRatio = 0;

        /**
         * The height or width of the content.
         *
         * @property trackSize
         * @type Number
         */
        this.trackSize = 0;

        /**
         * The size of the track relative to the size of the content.
         *
         * @property trackRatio
         * @type Number
         */
        this.trackRatio = 0;

        /**
         * The height or width of the thumb.
         *
         * @property thumbSize
         * @type Number
         */
        this.thumbSize = 0;

        /**
         * The position of the thumb relative to the track.
         *
         * @property thumbPosition
         * @type Number
         */
        this.thumbPosition = 0;

        /**
         * Will be true if there is content to scroll.
         *
         * @property hasContentToSroll
         * @type Boolean
         */
        this.hasContentToSroll = false;

        /**
         * @method _initialize
         * @private
         */
        function _initialize() {
            self.update();
            _setEvents();

            return self;
        }

        /**
         * You can use the update method to adjust the scrollbar to new content or to move the scrollbar to a certain point.
         *
         * @method update
         * @chainable
         * @param {Number|String} [scrollTo] Number in pixels or the values "relative" or "bottom". If you dont specify a parameter it will default to top
         */
        this.update = function(scrollTo) {
            var sizeLabelCap = sizeLabel.charAt(0).toUpperCase() + sizeLabel.slice(1).toLowerCase();
            this.viewportSize = $viewport[0]['offset'+ sizeLabelCap];
            this.contentSize = $overview[0]['scroll'+ sizeLabelCap];
            this.contentRatio = this.viewportSize / this.contentSize;
            this.trackSize = this.options.trackSize || this.viewportSize;
            this.thumbSize = Math.min(this.trackSize, Math.max(this.options.thumbSizeMin, (this.options.thumbSize || (this.trackSize * this.contentRatio))));
            this.trackRatio = (this.contentSize - this.viewportSize) / (this.trackSize - this.thumbSize);
            this.hasContentToSroll = this.contentRatio < 1;

            $scrollbar.toggleClass("disable", !this.hasContentToSroll);

            switch (scrollTo) {
                case "bottom":
                    this.contentPosition = Math.max(this.contentSize - this.viewportSize, 0);
                    break;

                case "relative":
                    this.contentPosition = Math.min(Math.max(this.contentSize - this.viewportSize, 0), Math.max(0, this.contentPosition));
                    break;

                default:
                    this.contentPosition = parseInt(scrollTo, 10) || 0;
            }

            this.thumbPosition = this.contentPosition / this.trackRatio;

            _setCss();

            return self;
        };

        /**
         * @method _setCss
         * @private
         */
        function _setCss() {
            $thumb.css(posiLabel, self.thumbPosition);
            $overview.css(posiLabel, -self.contentPosition);
            $scrollbar.css(sizeLabel, self.trackSize);
            $track.css(sizeLabel, self.trackSize);
            $thumb.css(sizeLabel, self.thumbSize);
        }

        /**
         * @method _setEvents
         * @private
         */
        function _setEvents() {
            if(hasTouchEvents) {

                var _$el;
                if (self.options.touch) {
                    _$el = $viewport[0];
                } else {
                    _$el = $scrollbar[0];
                }
                _$el.ontouchstart = function(event) {
                    if(1 === event.touches.length) {
                        event.stopPropagation();

                        _start(event.touches[0]);
                    }
                };
            }
            else {
                $thumb.bind("mousedown", function(event){
                    event.stopPropagation();
                    _start(event);
                });
                $track.bind("mousedown", function(event){
                    _start(event, true);
                });
            }

            $(window).resize(function() {
                self.update("relative");
            });

            if(self.options.wheel && window.addEventListener) {
                $container[0].addEventListener(wheelEvent, _wheel, false);
            }
            else if(self.options.wheel) {
                $container[0].onmousewheel = _wheel;
            }
        }

        /**
         * @method _isAtBegin
         * @private
         */
        function _isAtBegin() {
            return self.contentPosition > 0;
        }

        /**
         * @method _isAtEnd
         * @private
         */
        function _isAtEnd() {
            return self.contentPosition <= (self.contentSize - self.viewportSize) - 5;
        }

        /**
         * @method _start
         * @private
         */
        function _start(event, gotoMouse) {
            if(self.hasContentToSroll) {
                $("body").addClass("noSelect");

                mousePosition = gotoMouse ? $thumb.offset()[posiLabel] : (isHorizontal ? event.pageX : event.pageY);

                if(hasTouchEvents) {
                    document.ontouchmove = function(event) {
                        if(self.options.touchLock || _isAtBegin() && _isAtEnd()) {
                            event.preventDefault();
                        }
                        _drag(event.touches[0]);
                    };
                    document.ontouchend = _end;
                }
                else {
                    $(document).bind("mousemove", _drag);
                    $(document).bind("mouseup", _end);
                    $thumb.bind("mouseup", _end);
                    $track.bind("mouseup", _end);
                }

                _drag(event);
            }
        }

        /**
         * @method _wheel
         * @private
         */
        function _wheel(event) {
            if(self.hasContentToSroll) {
                // Trying to make sense of all the different wheel event implementations..
                //
                var evntObj = event || window.event
                    ,   wheelDelta = -(evntObj.deltaY || evntObj.detail || (-1 / 3 * evntObj.wheelDelta)) / 40
                    ,   multiply = (evntObj.deltaMode === 1) ? self.options.wheelSpeed : 1
                    ;

                self.contentPosition -= wheelDelta * multiply * self.options.wheelSpeed;
                self.contentPosition = Math.min((self.contentSize - self.viewportSize), Math.max(0, self.contentPosition));
                self.thumbPosition = self.contentPosition / self.trackRatio;

                /**
                 * The move event will trigger when the carousel slides to a new slide.
                 *
                 * @event move
                 */
                $container.trigger("move");

                $thumb.css(posiLabel, self.thumbPosition);
                $overview.css(posiLabel, -self.contentPosition);

                if(self.options.wheelLock || _isAtBegin() && _isAtEnd()) {
                    evntObj = $.event.fix(evntObj);
                    evntObj.preventDefault();
                }
            }
        }

        /**
         * @method _drag
         * @private
         */
        function _drag(event) {
            if(self.hasContentToSroll) {
                var mousePositionNew = isHorizontal ? event.pageX : event.pageY
                    ,   thumbPositionDelta = hasTouchEvents ? (mousePosition - mousePositionNew) : (mousePositionNew - mousePosition)
                    ,   thumbPositionNew = Math.min((self.trackSize - self.thumbSize), Math.max(0, self.thumbPosition + thumbPositionDelta))
                    ;

                self.contentPosition = thumbPositionNew * self.trackRatio;

                $container.trigger("move");

                $thumb.css(posiLabel, thumbPositionNew);
                $overview.css(posiLabel, -self.contentPosition);
            }
        }

        /**
         * @method _end
         * @private
         */
        function _end() {
            self.thumbPosition = parseInt($thumb.css(posiLabel), 10) || 0;

            $("body").removeClass("noSelect");
            $(document).unbind("mousemove", _drag);
            $(document).unbind("mouseup", _end);
            $thumb.unbind("mouseup", _end);
            $track.unbind("mouseup", _end);
            document.ontouchmove = document.ontouchend = null;
        }

        return _initialize();
    }

    /**
     * @class tinyscrollbar
     * @constructor
     * @param {Object} options
     @param {String} [options.axis='y'] Vertical or horizontal scroller? ( x || y ).
     @param {Boolean} [options.wheel=true] Enable or disable the mousewheel.
     @param {Boolean} [options.wheelSpeed=40] How many pixels must the mouswheel scroll at a time.
     @param {Boolean} [options.wheelLock=true] Lock default window wheel scrolling when there is no more content to scroll.
     @param {Number} [options.touchLock=true] Lock default window touch scrolling when there is no more content to scroll.
     @param {Boolean|Number} [options.trackSize=false] Set the size of the scrollbar to auto(false) or a fixed number.
     @param {Boolean|Number} [options.thumbSize=false] Set the size of the thumb to auto(false) or a fixed number
     @param {Boolean} [options.thumbSizeMin=20] Minimum thumb size.
     */
    $.fn[pluginName] = function(options) {
        return this.each(function() {
            if(!$.data(this, "plugin_" + pluginName)) {
                $.data(this, "plugin_" + pluginName, new Plugin($(this), options));
            }
        });
    };
}));
/*

 JS Signals <http://millermedeiros.github.com/js-signals/>
 Released under the MIT license
 Author: Miller Medeiros
 Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */
(function(i){function h(a,b,c,d,e){this._listener=b;this._isOnce=c;this.context=d;this._signal=a;this._priority=e||0}function g(a,b){if(typeof a!=="function")throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",b));}function e(){this._bindings=[];this._prevParams=null;var a=this;this.dispatch=function(){e.prototype.dispatch.apply(a,arguments)}}h.prototype={active:!0,params:null,execute:function(a){var b;this.active&&this._listener&&(a=this.params?this.params.concat(a):
    a,b=this._listener.apply(this.context,a),this._isOnce&&this.detach());return b},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal;delete this._listener;delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+
    ", isBound:"+this.isBound()+", active:"+this.active+"]"}};e.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(a,b,c,d){var e=this._indexOfListener(a,c);if(e!==-1){if(a=this._bindings[e],a.isOnce()!==b)throw Error("You cannot add"+(b?"":"Once")+"() then add"+(!b?"":"Once")+"() the same listener without removing the relationship first.");}else a=new h(this,a,b,c,d),this._addBinding(a);this.memorize&&this._prevParams&&a.execute(this._prevParams);return a},
    _addBinding:function(a){var b=this._bindings.length;do--b;while(this._bindings[b]&&a._priority<=this._bindings[b]._priority);this._bindings.splice(b+1,0,a)},_indexOfListener:function(a,b){for(var c=this._bindings.length,d;c--;)if(d=this._bindings[c],d._listener===a&&d.context===b)return c;return-1},has:function(a,b){return this._indexOfListener(a,b)!==-1},add:function(a,b,c){g(a,"add");return this._registerListener(a,!1,b,c)},addOnce:function(a,b,c){g(a,"addOnce");return this._registerListener(a,
        !0,b,c)},remove:function(a,b){g(a,"remove");var c=this._indexOfListener(a,b);c!==-1&&(this._bindings[c]._destroy(),this._bindings.splice(c,1));return a},removeAll:function(){for(var a=this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(a){if(this.active){var b=Array.prototype.slice.call(arguments),c=this._bindings.length,d;if(this.memorize)this._prevParams=
        b;if(c){d=this._bindings.slice();this._shouldPropagate=!0;do c--;while(d[c]&&this._shouldPropagate&&d[c].execute(b)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var f=e;f.Signal=e;typeof define==="function"&&define.amd?define(function(){return f}):typeof module!=="undefined"&&module.exports?module.exports=f:i.signals=
            f})(this);

(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
Handlebars.registerHelper("foreach",function(arr,options) {
    if(options.inverse && !arr.length)
        return options.inverse(this);

    return $.map(arr,function(item,index) {
        item.$index = index;
        item.$first = index === 0;
        item.$last  = index === arr.length-1;
        return options.fn(item);
    }).join('');
});

},{}],2:[function(require,module,exports){
Handlebars.registerHelper('ifCond', function (v1, operator, v2, options) {

    switch (operator) {
        case '==':
            return (v1 == v2) ? options.fn(this) : options.inverse(this);
        case '===':
            return (v1 === v2) ? options.fn(this) : options.inverse(this);
        case '!=':
            return (v1 != v2) ? options.fn(this) : options.inverse(this);
        case '!==':
            return (v1 !== v2) ? options.fn(this) : options.inverse(this);
        case '<':
            return (v1 < v2) ? options.fn(this) : options.inverse(this);
        case '<=':
            return (v1 <= v2) ? options.fn(this) : options.inverse(this);
        case '>':
            return (v1 > v2) ? options.fn(this) : options.inverse(this);
        case '>=':
            return (v1 >= v2) ? options.fn(this) : options.inverse(this);
        case '&&':
            return (v1 && v2) ? options.fn(this) : options.inverse(this);
        case '||':
            return (v1 || v2) ? options.fn(this) : options.inverse(this);
        default:
            return options.inverse(this);
    }
});

},{}],3:[function(require,module,exports){
Handlebars.registerHelper('stringify', function(context) {
    if (context) {
        return JSON.stringify(context).replace(/(['])/g, '&apos;');
    }
    return;
});

},{}],4:[function(require,module,exports){
Handlebars.registerHelper ('truncate', function (str, len) {
    if (str.length > len && str.length > 0) {
        var new_str = str + " ";
        new_str = str.substr (0, len);
        new_str = str.substr (0, new_str.lastIndexOf(" "));
        new_str = (new_str.length > 0) ? new_str : str.substr (0, len);

        return new Handlebars.SafeString ( new_str +'...' );
    }
    return str;
});
},{}],5:[function(require,module,exports){
modules.AddToCart =
{

    Interval : null,
    IntervalOut : 250,
    ItemHeight: 100,
    Timer : null,
    TimeOut : 3000,
    Popin:          require('../modules/popins/Popin.js'),
    QuickBuyPopin:  require('../modules/popins/PopinQuickbuy.js'),
    qbPopin: null,
    confirmPopin: null,
    PopinData : null,
    elementIsClicked : null,
    positionY       : null,
    verticalCenter  : require("../modules/verticalCenter.js"),
    noAction: false, // No action fired on addToCart completion


    waiting: false,

    $currentButton: null,

    init : function()
    {
        // MINISITES / POPIN RICHE: don't double listener
        // !WARNING!: jQuery data events is undocumented, and subject to change (works w/ v.1.10.2)
        var _events = $._data($('body')[0], 'events');
        if (_events && _events.click) {
            for (var i=0; i<_events.click.length; ++i) {
                if ( _events.click[i].selector == ".js-addtocart") {
                    return;
                }
            }
        }
        $('body').on('click','.js-addtocart',modules.AddToCart.createPopin);
    },

    /**
     * Create QBPopin or Buy and create confirmPopin
     */
    createPopin: function(e) {
        e.preventDefault();
        modules.AddToCart.$currentButton  = $(this);
        var productCode     = modules.AddToCart.$currentButton.attr('data-productqb') ? modules.AddToCart.$currentButton.attr('data-productqb') : -1;
        var sku             = modules.AddToCart.$currentButton.attr('data-sku') || modules.AddToCart.$currentButton.attr('data-skus') || modules.AddToCart.$currentButton.attr('data-sku') === "" ? modules.AddToCart.$currentButton.attr('data-sku') : -1;

        if (sku === -1) {
               	modules.AddToCart.qbPopin = new modules.AddToCart.QuickBuyPopin({
                $popin:         $('.js-popin-quickbuy'),
                $triggerButton: modules.AddToCart.$currentButton
            });

        } else if ( e!== undefined ){
            if ( modules.AddToCart.$currentButton.attr('data-sku') && modules.AddToCart.$currentButton.attr('data-sku') !== "" ) {
                modules.AddToCart.Add(e);
            }
            else if(  modules.AddToCart.$currentButton.attr('data-skus') !== "" && typeof modules.AddToCart.$currentButton.attr('data-skus') !== "undefined"  ) {
                modules.AddToCart.AddMultiple(e);
            } else {
                var _btn = $('#gocart-trigger > a');
                modules.header.rolls.toggle( $('.js-error-roll'), _btn);
                modules.header.rolls.timerOut = window.setTimeout(function() {
                    modules.header.rolls.close();
                }, 2500);
            }
        }
    },

    Add :function( e )
    {
        if (!modules.AddToCart.waiting)
        {
            var $buyBtn =  $(e.currentTarget);
            modules.AddToCart.Feedback.Clean();
            window.clearTimeout( modules.AddToCart.Timer );

            modules.AddToCart.waiting = true;
            modules.AddToCart.PopinData = null;


            var origin = $buyBtn.attr('data-origin');
            if (origin === undefined) {
                origin = $('body').data('origin');
                if (origin === undefined) {
                    console.warn('[Cart]: missing origin on body, and nothing set in trigger data-origin.');
                    return;
                }
            }

            $.ajax({
                url: diorV7.config.webservices.CART[origin].ADD.url,
                type: diorV7.config.webservices.CART[origin].ADD.method,
                data : 'sku='+ $buyBtn.attr('data-sku') +'&quantity='+ $buyBtn.attr('data-quantity'),

                // DEFINE A FORMATTER OBJECT FOR THE CALL
                // must have a Request method that format the settings data object directly
                // must have a Response method that format the data, and return a stringified object
                // @see core.AjaxFormat.js
                contentType: (window.pcis ? pcis.ContentType : null),
                formatter: diorV7.config.webservices.CART[origin].ADD.formatter,

                success : function(data)
                {
                    // save data
                    modules.AddToCart.PopinData = data;

                    if(data.status == 'ok' || data.success) {
                        modules.AddToCart.Confirm( data.basketsize, $buyBtn, origin );
                    } else {
                        modules.AddToCart.AddFail();
                    }
                    modules.AddToCart.waiting = false;
                }
            });
        }
    },

	AddMultiple :function(e)
	{
        if (!modules.AddToCart.waiting)
        {
            var $buyBtn       = $(e.currentTarget);
            var quantities  = $buyBtn.attr('data-quantities').split(','),
                skus        = $buyBtn.attr('data-skus').split(','),
                messages    = $buyBtn.attr('data-messages'),
                _l          = quantities.length;

            if(_l>0 && parseInt(quantities[0],10)>0)
            {
                modules.AddToCart.Feedback.Clean();
                window.clearTimeout( modules.AddToCart.Timer );

                modules.AddToCart.waiting = true;
                modules.AddToCart.PopinData = null;

                var tmpStack = [];
                for (var i=0; i<_l; ++i) {
                    tmpStack.push('sku='+skus[i]+':quantity='+quantities[i]);
                }
                var _preparedSku = tmpStack.join(',');

                $.ajax({
                    type: core.AjaxConfig.Product.MULTIPLE_ADD_TO_CART.method,
                    url: core.AjaxConfig.Product.MULTIPLE_ADD_TO_CART.url,
                    dataType: 'json',
                    data: {
                        skus: _preparedSku,
                        giftMessage: messages
                    },
                    success: function (data) {
                        // !warning: minimal difference in response between single & multiple addToCart
                        modules.AddToCart.PopinData = data.product;
                        if(modules.AddToCart.PopinData.status == 'ok' || modules.AddToCart.PopinData.success) {
                            modules.AddToCart.Confirm( data.basketsize, $buyBtn );
                        } else {
                            modules.AddToCart.AddFail();
                        }
                        modules.AddToCart.waiting = false;
                    }
                });
            }
        }
	},

    Confirm : function( total, $buyBtn, origin, silent ) {

        // Dispatch success event
        if (core.signals && core.signals.global && !silent) core.signals.global.dispatch('addToCart::success', modules.AddToCart.PopinData, origin);

        // Product Click
        if ($buyBtn.attr('data-product-track-object')) {
            core.tracking.trackProductClick( $buyBtn.attr('data-product-track-object') );
        }

        // Success Tracking
        if ($buyBtn.attr('data-track-object')) {
            core.tracking.trackObject($buyBtn.attr('data-track-object'));
        }

        // Update basketsize
        // modules.AddToCart.Feedback.Update( total );

        // Update confirm popin message
        $('.js-popin-addtocart-confirm').find('.js-addtocart-message').html(modules.AddToCart.PopinData.message);

        // Replace popin by confirm
        if( modules.AddToCart.qbPopin && modules.AddToCart.qbPopin.$popin.is(':visible')) {
            modules.AddToCart.qbPopin.$popin.find('.js-popin-content').html($('.js-popin-addtocart-confirm .js-popin-content').clone());
            modules.AddToCart.qbPopin.$popin.css('line-height','normal');
            modules.AddToCart.qbPopin.placeInWindow();
        }
        // Direct addToCart from Dior.com
        // or use of modules.AddToCart.Add by a minisite
        else if (!modules.AddToCart.$currentButton || modules.AddToCart.$currentButton.data('open-roll')) {
            // open header roll
            var _btn = $('#gocart-trigger > a'),
                _roll = $('#'+_btn.data('targetroll'));
            modules.header.rolls.toggle( _roll, _btn);

            if(_roll.data('auto-close') === undefined || (_roll.data('auto-close') !== undefined && _roll.data('auto-close'))) {
                modules.header.rolls.timerOut = window.setTimeout(function () {
                    modules.header.rolls.close();
                }, 2500);
            }
        }
        else if (modules.AddToCart.PopinData.checkoutShoppingCartHref !== "" && modules.AddToCart.$currentButton.data('redirect') ) { // redirect after addtocart
            window.location = modules.AddToCart.PopinData.checkoutShoppingCartHref;
        }
        else if(!modules.AddToCart.noAction) { // open confirm
            modules.AddToCart.confirmPopin = new modules.AddToCart.Popin({
               $popin: $('.js-popin-addtocart-confirm')
           });
           modules.AddToCart.confirmPopin.open();
        }

        // Listen to confirm popin buttons
        // but only once!
        $('body').off('click', '.js-addtocart-continue')
            .on('click', '.js-addtocart-continue', function(e) {
                e.preventDefault();
                if( modules.AddToCart.qbPopin && modules.AddToCart.qbPopin.$popin.is(':visible')) {
                    modules.AddToCart.qbPopin.close(e);
                }
                else {
                    modules.AddToCart.confirmPopin.close(e);
                }
                if (core.signals && core.signals.global )  core.signals.global.dispatch('addToCart::continue');
            });

        $('body').off('click', '.js-addtocart-checkout')
            .on('click', '.js-addtocart-checkout', function(e) {
                if (core.signals && core.signals.global )  core.signals.global.dispatch('addToCart::checkout');
            });

        // reset button
        modules.AddToCart.$currentButton = null;
    },

    AddFail : function()
    {
        if (typeof modules.AddToCart.PopinData.errorMessages == 'string') {
            $('#errorRoll .default-message').html( modules.AddToCart.PopinData.errorMessages );
        } else {
            $('#errorRoll .default-message').html( modules.AddToCart.PopinData.errorMessages.join('<br/>') );
        }
		modules.AddToCart.Feedback.Error();

        if ( $('.js-popin-quickbuy:first').is(":visible") ) {
            modules.AddToCart.qbPopin.close();
            PopinManager.close( modules.AddToCart.qbPopin );
        }

        /*$(document).on('mousedown', function (e) {
            if ($(e.target).closest(".error-roll").length === 0) {
                if( modules.header ) modules.header.error.close();
            }
        });*/
    },


    /*SetInterval : function()
    {
        window.clearInterval( modules.AddToCart.Interval );
        modules.AddToCart.Interval = window.setInterval(modules.AddToCart.CheckResponse, modules.AddToCart.IntervalOut);
    },*/

    Feedback:
    {
        Update: function(_val)
        {
            $('.js-cart-total').html('' + _val + '');
            if (core.universe == 'PCD') {
                $.cookie( core.AjaxConfig.Cart.PCD.COOKIE, +_val, modules.header.cookieOptions);
            }
        },

        Hide: function()
        {
            window.clearTimeout(modules.AddToCart.Timer);
            $( document.getElementById('cart-total-preview') ).removeClass('active');
            modules.footer.overlay.Hide();
            $( document.getElementById('cart-feedback-display') ).animate({'height' : 0}, 'slow');
        },

        Clean : function()
        {
            $( document.getElementById('cart-feedback-display') ).html( modules.AddToCart.WaitMessage );
        },

        Show: function()
        {
            $( document.getElementById('cart-total-preview') ).addClass('active');
            //He.Jewel.Overlay.Show();
            $( document.getElementById('cart-feedback-display') ).slideDown();
        },

        Error: function(){
            if( modules.header ) {
                // Rolls can stay open autoClose -> false
                if (modules.header.rolls.isOpened) {
                    modules.header.rolls.close();
                }
                // need timeout:
                // - open popin: fix page scroll, header return to normal state
                // - close popin: header return to fix and a scroll event is fired
                // -> it will close all header layers & roll
                // => wait to open after event scroll is fired
                setTimeout( function() {
                    modules.header.error.open();
                }, 500);
            }
        }
    }
};
module.exports = modules.AddToCart;

},{"../modules/popins/Popin.js":8,"../modules/popins/PopinQuickbuy.js":9,"../modules/verticalCenter.js":16}],6:[function(require,module,exports){
function DropDown(options) {
    this.o =  {
        $container          : $('.js-dropdown'),
        itemSelector        : '.js-dropdown-item',
        triggerSelector     : '.js-dropdown-trigger',
        listSelector        : '.js-dropdown-items',
        rowSelector         : '.js-dropdown-row',
        maxListHeight       : 124,
        listAnimationSpeed  : 400,
        maxElBeforeScroll   : 3
    }
    this.o = $.extend(this.o, options);

    // Init module
    this.init();
    return this;
}

DropDown.prototype = {
    init: function(options){

        if (options) {
            this.o = $.extend(this.o, options);
        }

        this.$container = this.o.$container;
        this.$list      = this.$container.find(this.o.listSelector);
        this.$trigger   = this.$container.find(this.o.triggerSelector);
        this.signals    = window.signals ? new signals.Signal() : null;
        this.isOpened   = false;

        this.$trigger.on('click', $.proxy(this.toggle, this));
        this.$container.on('click touchstart', this.o.itemSelector, $.proxy(this.onItemSelected, this));
        var scope = this;

        // Click outside
        if (core.signals && core.signals.popinSignal) {
            core.signals.global.add(function (type, event) {
                switch (type) {
                    case 'document::click':
                        var $trigger = scope.$trigger;
                        var $list = scope.$list;
                        var isChildOfDropUp = $(event.target).parents('.js-dropdown:first').length > 0;
                        if (!$trigger.is(event.target) && $trigger.has(event.target).length === 0
                            && !$list.is(event.target) && $list.has(event.target).length === 0
                            && scope.isOpened && !isChildOfDropUp) {
                            scope.close();
                        }
                        break;
                }
            });
        }
    },
    toggle: function(e) {
        if (e) {
            e.preventDefault();
            e.stopPropagation();
        }

        if( !this.isOpened )
            this.open();
        else
            this.close();
    },
    open : function (e) {
        this.$container.addClass('mod-dropdown--open');

        var $container;
        var hList    = this.o.maxListHeight;
        var nbrEl    = this.$list.find(this.o.itemSelector).length;
        var nbrLines = this.$list.find(this.o.rowSelector).length;
        if( core.universe == core.pcd ) {
            if( nbrEl > this.o.maxElBeforeScroll) {
                this.createScrollableList();
                $container = this.$list.parents('.js-dropdown-scroller');
            } else {
                hList = nbrEl * this.$list.find(this.o.itemSelector).parent().height();
                $container = this.$list;
            }
        } else {
            hList = nbrLines * ( this.$list.find(this.o.rowSelector).height() + 1 ); // +1 = table border
            $container = this.$list;
        }

        $container.animate( { 'height': hList+'px' }, this.o.listAnimationSpeed );
        this.isOpened = true;
    },
    close : function (){
        if(this.$list.parents('.js-dropdown-scroller').length <= 0 ) {
            var _this = this;
            this.$list.animate({
                'height': '0'
            }, { complete: function(){
                _this.$container.removeClass('mod-dropdown--open');
            }});
        }
        else {
            var _this = this;
            this.$list.parents('.js-dropdown-scroller').animate({
                'height': '0'
            }, { complete: function(){
                _this.$container.removeClass('mod-dropdown--open');
            }});
        }
        this.isOpened = false;
    },
    onItemSelected: function (e){
        e.preventDefault(); // event need to be trigger on product selector too
        e.stopPropagation();

        var $item       = $(e.currentTarget);

        this.setActiveItem($item, true);

        this.close();
        if (this.signals) this.signals.dispatch('DropDown::change',$item);
    },

    setActiveItem: function($item, silently) {

        var $label = this.$container.find('.js-dropdown-activeLabel');
        var _text = $item.find('.js-dropdown-label').text();
        this.$trigger.find('.js-dropdown-activeLabel').html(_text);
        this.$trigger.parents('.js-quickbuy').find('.js-dropdown-activeValue').html($item.find('.js-dropdown-value').data('value'));
        this.$list.find('.active').removeClass('active');
        $item.addClass('active');
        if ($label.attr('data-default')) {
            $label.toggleClass('select-value-default', _text === $label.attr('data-default'));
        }
        if (!silently && this.signals) this.signals.dispatch('DropDown::change',$item);
    },

    createScrollableList : function(){
        if(this.$list.parents('.js-dropdown-scroller').length <= 0 ) {
            var $scroller = $('<div/>',{
                'class': 'scroller js-dropdown-scroller'
            });
            var $viewport = $('<div/>',{
                'class': 'viewport'
            });
            var $scrollbar = $('<div/>',{
                'class': 'scrollbar',
                'html': '<div class="track"><div class="thumb"><div class="end"></div></div></div>'
            });
            this.$list.height('auto').addClass('overview').detach();
            $viewport.append(this.$list).height(this.o.maxListHeight);
            $scroller.append($viewport);
            $scroller.append($scrollbar);
            this.$container.append($scroller);
            $scroller.tinyscrollbar();
            $scroller.height(0);
        }
    }
};

module.exports = DropDown;

},{}],7:[function(require,module,exports){
modules.equalHeight = {
    defaultContainer: '#container',
    defaultSelector: '.js-equal-height',
    defaultMainSelector: '.js-equal-height-main',
    /**
     * Function to set equal height on all items of a container
     * @param itemContainer
     * @param itemSelector
     */
    equalize: function(itemContainer, itemSelector, mainSelector, removePadding)
    {
        var container = itemContainer ? itemContainer : modules.equalHeight.defaultContainer,
            selector = itemSelector ? itemSelector : modules.equalHeight.defaultSelector,
            main = mainSelector ? mainSelector : modules.equalHeight.defaultMainSelector;
        $(container).each(function() {
            var $items = $(this).find(selector),
                maxH = $items.find(main).length > 0 ? $items.find(main).outerHeight() : 0;

            if ($items.find(main).length <= 0) { // if no main get max
                $items.each(function () {
                    // save old style
                    var oldStyle = $(this).attr('style');
                    $(this).attr('style', '');
                    var itemH = parseFloat($(this).outerHeight()) - parseFloat($(this).css('padding-top')) - parseFloat($(this).css('padding-bottom'));
                    maxH = ( itemH > maxH ) ? itemH : maxH;
                    // reset style
                    $(this).attr('style', oldStyle);
                });
            }
            if (!removePadding) {
                $items.height(maxH);
            } else {
                $items.each(function() {
                    var $this = $(this);
                    $this.height( maxH - parseFloat($(this).css('padding-top')) - parseFloat($(this).css('padding-bottom')) );
                });
            }
        });
    }
};
module.exports = modules.equalHeight;

},{}],8:[function(require,module,exports){
/*
* Popin is a module that fades in an element over #popin-overlay
*
* Args : object {
*	 $popin, $open, $close, $overlay, $popinWrapper : 					jQuery element
*	 closeButton :  								    true|false
*	 onOpen, onOpened, onClose, onClosed, onResize : 	callback function
*    signals : 											jQuery signals dispatcher,
*	 offsetTop : 										popin's distance from top if higher than window
* }
*
*/
function Popin(options, override) {

	this.open = this.defaultOpen;
	this.close = this.defaultClose;
	if (!override)
		this.init(options);

}

Popin.prototype = {

	opened: false,

	init: function(options) {

		var _default = {
			$popin:      $(".js-popin"),
			$open: undefined,
			
			closeButton: true,
			onOpen: function() {},
			onOpened: function() {},
			onClose: function() {},
			onClosed: function() {},
			onResize: function() {},
			onInit: function() {},
			signals: core.signals.global,
			defaultOffsetTop: 40
		};

		if (options) $.extend(_default, options);

		_default.$close = _default.$popin.find(".js-popin-close");
		$.extend(this, _default);

		this.buildElements();
		this.addEventListeners();
		this.onInit();
	},

	/*
	* Builds the close button if necessary
	*/
	buildElements: function() {

		if (this.closeButton && !this.$close.length ) {
			this.$close = $("<button class='close js-popin-close png-bg'></button>");
			this.$popin.append(this.$close);
		}

	},

	/*
	* Adds listeners for open / close / resize events
	*/
	addEventListeners: function() {

		var _this = this;
		if (this.$open) {
			this.$open.off("click touchstart");

			this.$open.each(function() {
				if (!this.tablet) $(this).on("click", function(e) { $.proxy(_this.open, _this, e)(); });
				else $(this).on( "touchstart", function(e) { $.proxy(_this.open, _this, e)(); });
			});

		}

		if (this.$close) {
			this.$close.off("click touchstart");
			if (!this.tablet) this.$close.on("click", function(e) { $.proxy(_this.close, _this, e)(); });
			else this.$close.on( "touchstart", function(e) { $.proxy(_this.close, _this, e)(); });

		}
	},

	defaultOpen: function(e) {
		
		if (!this.opened) {
			PopinManager.open( this );
			this.onOpen(e);

			this.opened = true;
			this.placeInWindow();

            var _this = this;
            this.$popin.fadeIn( function() {
            	PopinManager.onOpened();
                _this.onOpened(e);
            });

			if (e) {
				var _href = e.currentTarget.getAttribute('href');
				// warning: prevent single '#' href
				if (_href && _href.length>1) {
					var $anchor = this.$popin.find( _href.replace('anchor-','') );
					if ($anchor.length) {
						var _this = this;
						PopinManager.$popinWrapper.scrollTop( $anchor.position().top );
					}
				}
			}
		}
	},

	defaultClose: function(e) {
		
		if (this.opened) {
			if (e) PopinManager.close( this );
			this.onClose(e);
			this.opened = false;

			this.$popin.fadeOut( $.proxy(this.internalOnClosed, this) );
		}
    },

    internalOnClosed: function(e) {
        this.$popin.removeAttr("style");
		
		PopinManager.onClosed();
		this.onClosed(e);
	},

	toggle: function() {
		if (this.opened) this.close();
		else this.open();
	},

	placeInWindow: function() {

		this.width = this.$popin.outerWidth(true);
		this.height = this.$popin.outerHeight(true);

		var _windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
		var _windowHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;

		this.offsetLeft = (_windowWidth- this.width) / 2;
		if (this.height < _windowHeight) {
			this.offsetTop = ( _windowHeight - this.height) / 2;
		} else {
			this.offsetTop = this.defaultOffsetTop;
			PopinManager.$overlay.height( this.height + this.offsetTop*2 );
		}

		this.$popin.css({
			top: this.offsetTop,
			left: this.offsetLeft
		});

		PopinManager.$overlay.css({
			height: this.$popin +'px'
		});
	},

	resize: function() {
		this.placeInWindow();
		this.onResize();
	}

};

module.exports = modules.Popin = Popin;

},{}],9:[function(require,module,exports){
var Popin 			= require("./Popin");
var foreachHelp 	= require("../../helpers/foreach.js");
var ifCondHelp 		= require("../../helpers/ifCond.js");
var truncateHelp 	= require("../../helpers/truncate.js");
var stringifyHelp 	= require("../../helpers/stringify.js");
var templates 		= require("../../templates/quickbuy.js")(Handlebars);
var QuickBuy    	= require("../quickBuy.js");
var quickbuy     	= null;
var equalHeight     = require("../equalHeight.js");
var verticalCenter  = require("../verticalCenter.js");

PopinQuickbuy.prototype = new Popin({}, true);

function PopinQuickbuy (options) {
	this.init(options);
	this.getQuickBuyData();
}

PopinQuickbuy.prototype.getQuickBuyData = function() {
	var productCode = this.$triggerButton.attr('data-productqb');
	var categoryId 	= this.$triggerButton.attr('data-categoryqb');
	var productSkus = this.$triggerButton.attr('data-productskusqb');

	//FOR TEST SWITCH BETWEEN THE TWO TEMPLATES
	switch (productCode) {
		case 'f1':
		core.AjaxConfig.QuickBuy.url = '../../assets_v6/json/quick_buy_fragrance.json';
		break;
		case 'f2':
		core.AjaxConfig.QuickBuy.url = '../../assets_v6/json/quick_buy_makeup.json';
		break;
	}
	var scope = this;
	$.ajax({
		url     : core.AjaxConfig.QuickBuy.url,
		type    : core.AjaxConfig.QuickBuy.method,
		data    : 'productCode=' + productCode + '&categoryGuid=' + categoryId,
		success : function(data) {
            // get selected sku
            var _l = data.product.skus.length;
            for (var i=0; i<_l; ++i) {
                var sku = data.product.skus[i];
                if (sku.selectedSku) {
                    data.product.selected = sku;
                    break;
                }
            }
            if (!data.product.selected) data.product.selected = data.product.skus[0];
			scope.createTemplate(data);
		},
		error: function(data)
		{
			//console.log(data);
		}
	});
};

PopinQuickbuy.prototype.createTemplate = function(data) {
	var template, output;
	template = (data.product.color === 0) ? templates.fragrance : templates.makeup;

    // get selected sku
    // and add selectedSku to data for Handlebars
    var _l = data.product.skus.length;
    for (var i=0; i<_l; ++i) {
        // WHY ACTIVE & SELECTEDSKU? seems to be exactly and striclty the same thing...
        if (data.product.skus[i].active || data.product.skus[i].selectedSku==1) data.product.selectedSku = data.product.skus[i].skuCode;
    }

    output = template( data );

    //#####################################################################
    // DEBUT PROJET CHINE : NE PAS ECRASER DIFF CI DESSOUS LORS DU MERGE HE
    //#####################################################################
    //Injection de la page de provenance pour appel distant
    if(data.product.color === 0){
        output = output + '<input type="hidden" id="quickbuyPage" value ="quickbuy-fragrance" />';
    }
    else {
        output = output + '<input type="hidden" id="quickbuyPage" value ="quickbuy-makeup" />';
    }
    output = output + '<input type="hidden" id="defaultSku" value ="' + data.product.selectedSku +'" />'
    var listeSku ="";
    for (var i=0;i<data.product.skus.length;i++) {
        listeSku = listeSku + data.product.skus[i].skuCode +',';
    }
    output = output + '<input type="hidden" id="quickbuySkus" value ="' + listeSku.substring(0,listeSku.length -1) +'" />'
    //#####################################################################
    // FIN PROJET CHINE
    //#####################################################################

	this.$popin.find('.js-popin-content').html(output);

	this.open();
	quickbuy = new QuickBuy({
		containerSelector: '.js-popin-quickbuy'
	});
	// ALPHAIMAGELOADER on js-quickbuy-img DOESN'T WORK BECAUSE OF URLS ENCODED WITH %252F
};
module.exports = modules.PopinQuickbuy = PopinQuickbuy;

},{"../../helpers/foreach.js":1,"../../helpers/ifCond.js":2,"../../helpers/stringify.js":3,"../../helpers/truncate.js":4,"../../templates/quickbuy.js":17,"../equalHeight.js":7,"../quickBuy.js":12,"../verticalCenter.js":16,"./Popin":8}],10:[function(require,module,exports){
modules.productFilter = {
    // product element
    defaultFilterableSelector       : '.js-filterable',
    // element (in product) w/ filter attributes
    itemFilterable                  : '.js-swatch-hover',
    nonCumulativeGroupData          : 'noncumulative-group',

    equalHeight                     : require('../modules/equalHeight.js'),

    wrapperPagination               : $(document.getElementById('productListAnchor')),

    $filtersPanel                   : $('.js-filters-panel'),
    $filtersCheckboxes              : $('.js-filters-checkbox'),
    $filtersClose                   : $('.js-filters-close'),
    $filtersReset                   : $('.js-filters-reset'),

    $filtersItemsCount              : $('.js-filters-count'),
    $filtersResultsCount            : $('.js-filters-result'),

    $filtersSubmit                  : $('.js-filters-submit'),

    $trigger                        : $('.js-filters-trigger'),

    $productlist                    : $('.js-productlist'),
    isOpen                          : false,
    slideSpeed                      : 500,

    /* ALL ITEMS */
    nbrItems            : 0,
    items               : [],
    /* CURRENT FILTERED ITEMS */
    currentTotal        : 0,

    // list all filters in the page
    // 1. CUMULATIVE FILTERS
    // - must match all the item in the array
    filters             : [],
    // 2. NON-CUMULATIVE FILTERS (by group)
    // - must match at least one item per group
    nonCumulativeGroupFilters   : null,
    selectedNonCumulativeGroupNum: 0,

    // current selection
    selectedFilters                     : [],
    selectedNonCumulativeGroupFilters   : {},

    // OPTIONS
    // disable filters that are unavailable with the current filter selection
    // - for PCD: it prevent user to make a selection that returns 0 match
    updateEnabledFilters                : true,
    // count products or variant?
    countVariants                       : false,

    // id separator in data-filter-ids
    dataSeparator       : '-',

    dontMatch: 'dont-match',

    // product per ligne
    lineNum             : 3,
    needLines           : false,
    signals             : window.signals ? new signals.Signal() : null,

    init: function( filterableSelector, filterContainer )
    {
        modules.productFilter.filterableSelector = filterableSelector ? filterableSelector : modules.productFilter.defaultFilterableSelector;
        modules.productFilter.itemFilterable = filterContainer ? filterContainer : modules.productFilter.itemFilterable;

        modules.productFilter.lineNum = ($('.js-categories').data('products-per-line')) ? $('.js-categories').data('products-per-line') : modules.productFilter.lineNum;
        modules.productFilter.needLines = ($('.js-categories').data('products-line')) ? $('.js-categories').data('products-line') : false;

        var group, $this, $parent, filter;

        // LIST ALL FILTERS PRESENT IN THE PAGE
        // if filter belongs to a group:
        // - check if its a non-cumulative or a cumulative group
        // (a non-cumulative group contain an id in a data-attribute "data-noncumulative-group")
        $('.js-filters-group').each( function() {
            $this = $(this);
            group = $this.data( modules.productFilter.nonCumulativeGroupData );

            if (group && group != "") {
                if (!modules.productFilter.nonCumulativeGroupFilters) {
                    modules.productFilter.nonCumulativeGroupFilters = {};
                    modules.productFilter.selectedNonCumulativeGroupFilters = {};
                }
                if (!modules.productFilter.nonCumulativeGroupFilters[group]) {
                    modules.productFilter.nonCumulativeGroupFilters[group] = [];
                    modules.productFilter.selectedNonCumulativeGroupFilters[group] = [];
                }

                $this.find('.js-filters-checkbox').each( function() {
                        modules.productFilter.nonCumulativeGroupFilters[group].push( $(this).data("filter") );
                    }
                );
            } else {
                $this.find('.js-filters-checkbox').each( function() {
                        modules.productFilter.filters.push( $(this).data("filter") );
                    }
                );
            }
        });

        // FILTER ON CHANGE
        // - doesn't filter display on PDG (only on FP)
        // - update total and filter available only
        modules.productFilter.$filtersCheckboxes.find('.js-checkbox').on( 'change', function( event ) {

            $parent = $( this ).parents('.js-filters-checkbox:first');
            group = $parent.parents('.js-filters-group:first').data( modules.productFilter.nonCumulativeGroupData );

            // a checkbox could be disabled but checked, we must be able to uncheck
            if( $parent.hasClass('disabled') && $parent.find('input').is(':checked') ) {
                event.stopPropagation();
                event.preventDefault();
                return;
            }

            var filter = $parent.attr('data-filter');
            if ($(this).is(':checked')) {
                modules.productFilter.addFilter( filter, group );
            } else {
                modules.productFilter.removeFilter( filter, group );
            }

            // FP filters has no submit button
            // or if its a direct filter (eco available checkbox)
            if( modules.productFilter.$filtersSubmit.length <= 0 || $(this).hasClass('js-force-filter') ) {
                modules.productFilter.filter();
            }
            else {
                modules.productFilter.checkDispo( false, group );
            }

        });

        // Events
        modules.productFilter.$trigger.on( 'click', modules.productFilter.toggle);
        modules.productFilter.$filtersReset.on( 'click', modules.productFilter.reset);
        modules.productFilter.$filtersClose.on( 'click', modules.productFilter.close);
        modules.productFilter.$filtersSubmit.on('click', modules.productFilter.filter);

        modules.productFilter.updateProductFiltersIds();
        modules.productFilter.checkDispo( true, '', true );

        // Style filter columns
        modules.productFilter.$filtersPanel.addClass('invisible');
        modules.productFilter.equalHeight.equalize('.js-filters-columns');
        modules.productFilter.$filtersPanel.removeClass('invisible');

        // PDG Makeup case
        // - we count the variant (swatch list inside the filterable)
        if ($(modules.productFilter.filterableSelector+':visible .js-swatch-hover:visible').length) {
            modules.productFilter.countVariants = true;
            modules.productFilter.nbrItems = $(modules.productFilter.filterableSelector+':visible .js-swatch-hover:visible').length;
        } else {
            modules.productFilter.nbrItems = $(modules.productFilter.filterableSelector+':visible:not(".js-no-count")').length;
        }
        modules.productFilter.total( modules.productFilter.nbrItems );
    },

    /**
     * Function to toggle Filters panel
     */
    toggle: function(e) {
        if (e) e.preventDefault();
        if( modules.productFilter.isOpen ) {
            modules.productFilter.close();
        } else {
            modules.productFilter.open();
        }
    },

    /**
     * Function to open Filters panel
     */
    open: function() {
        modules.productFilter.$filtersPanel.slideDown( modules.productFilter.slideSpeed,function(){
            if(core.lte7) {
                setTimeout(function(){
                    modules.productFilter.$filtersPanel.toggleClass('open');
                },1000);
            }
        });
        modules.productFilter.isOpen = true;
        modules.productFilter.$trigger.addClass('open');
    },

    /**
     * Function to close Filters panel
     */
    close: function(e) {
        if (e) e.preventDefault();
        modules.productFilter.$filtersPanel.slideUp( modules.productFilter.slideSpeed,function() {
            if(core.lte7) {
                setTimeout(function(){
                    modules.productFilter.$filtersPanel.toggleClass('open');
                },1000);
            }
        });
        modules.productFilter.isOpen = false;
        modules.productFilter.$trigger.removeClass('open');
    },

    /**
     * 2 TYPE:
     * - PDG (RAL): swatch have only one filter (tint), and all the tint must be concatenated into the container
     * - FP: each swatch is
     * Swatch product update product filter list
     * - retro-compatibilty: joint each filter type in the data-filter-ids
     *
     * RETRO-COMPATIBILITY FOR FP & PDG Makeup
     * ---------------------------------------
     * old data-filter-id & data-cumulative-filter-id
     * - need to be joined in the common data-filter-ids
     * (group & logic are now defined in the filter list)
     * add data-filter-ids to each swatch
     */
    updateProductFiltersIds: function() {
        $(modules.productFilter.filterableSelector+':visible').each( function() {
            var $filterable = $(this);

            // FP Makeup & PDG Makeup
            if ( $filterable.find('*[data-filter-id]').length > 0) {
                var filterIds = [];
                $filterable.find( modules.productFilter.itemFilterable ).each( function() {
                    var $this = $(this);
                    var filter = $this.attr('data-filter-id');
                    if ($.inArray(filter,filterIds) < 0) {
                        filterIds.push(filter);
                    }
                    var _nonCumulatives = $this.attr('data-cumulative-filter-id');
                    if (_nonCumulatives) {
                        $this.attr('data-filter-ids', ($this.attr('data-filter-id') + '-' + _nonCumulatives) );
                        if ($.inArray(_nonCumulatives,filterIds) < 0) {
                            filterIds.push(_nonCumulatives);
                        }
                    } else {
                        $this.attr('data-filter-ids', $this.attr('data-filter-id') );
                    }
                });
                // add data-filter-ids to each product (faster filter)
                $filterable.attr('data-filter-ids', filterIds.join(modules.productFilter.dataSeparator));
            }
        });
    },
    /**
     * Check which filters are available in the page
     * @param allProducts
     * @param currentGroupId
     * @param remove [Optional]
     */
    checkDispo: function( allProducts, currentGroupId, remove ) {
        var availableFilters = [],
            availableNonCumulativeGroupFilters = {},
            $selector = $(modules.productFilter.filterableSelector),
            count = 0;

        /* No filters already selected
         add all product filters as available filters */
        for (var i = 0, l = $selector.length; i < l; ++i) {
            var $this = $($selector[i]);

            var filters = $this.data('filter-ids');
            if( filters !== undefined ) {

                var _result = modules.productFilter.itemMatch($this, allProducts);

                if (!allProducts) {
                    if (!_result.match) {
                        continue;
                    } else {
                        // FORMEL: special cas - some element are decoratives
                        if (!$this.hasClass('js-no-count')) {
                            count += _result.count;
                        }
                    }
                } else {
                    if (!$this.hasClass('js-no-count')) {
                        count += _result.count;
                    }
                }

                if (allProducts || modules.productFilter.updateEnabledFilters) {
                    filters = filters.split(modules.productFilter.dataSeparator);
                    var filter;

                    // check filters:
                    // - is the filter a cumulative filter?
                    for (var key in modules.productFilter.filters) {
                        filter = modules.productFilter.filters[key];
                        if ($.inArray(filter, filters) > -1 && $.inArray(filter, availableFilters) < 0) {
                            availableFilters.push(filter);
                        }
                    }
                    // - or it belongs to a non-cumulative group?
                    for (var group in modules.productFilter.nonCumulativeGroupFilters) {
                        var currentGroup = modules.productFilter.nonCumulativeGroupFilters[group];
                        // is the filter in the group?
                        for (key in currentGroup) {
                            filter = currentGroup[key];
                            if ($.inArray(filter, filters) > -1) {
                                // first time we have a filter in this cumulative group
                                if (!availableNonCumulativeGroupFilters[group]) {
                                    availableNonCumulativeGroupFilters[group] = [];
                                    availableNonCumulativeGroupFilters[group].push(filter);
                                } else {
                                    // is the filter already in the available list?
                                    if ($.inArray(filter, availableNonCumulativeGroupFilters[group]) < 0) {
                                        availableNonCumulativeGroupFilters[group].push(filter);
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }

        if (allProducts || modules.productFilter.updateEnabledFilters) {
            // Reset all dispo
            modules.productFilter.disableFilters(availableFilters, availableNonCumulativeGroupFilters, currentGroupId, remove);
        }

        // Update total
        modules.productFilter.currentTotal( count );
    },

    /**
     * Add Disable class on filters not available
     * @param  Array availableFilters
     */
    disableFilters: function( availableFilters , availableNonCumulativeGroupFilters, currentGroupId, remove ) {
        // Reset all dispo
        modules.productFilter.$filtersCheckboxes.each( function() {
            var $this = $(this);
            var $parent = $this.parent();
            var groupId = $parent.data( modules.productFilter.nonCumulativeGroupData );
            var filter = $this.data('filter');

            // belongs to a non-cumulative group?
            if (groupId) {
                // first selected group of filters will never be filtered
                // but only if only one column contains selected filters
                if ( groupId != currentGroupId) {
                    if ($.inArray(filter, availableNonCumulativeGroupFilters[groupId]) < 0) {
                        if (remove) {
                            $this.remove();
                        } else {
                            $this.addClass('disabled');
                            if (!$this.find('input').is(':checked')) {
                                $this.find('input').attr('disabled', 'disabled');
                            }
                        }
                    } else {
                        $this.removeClass('disabled').find('input').removeAttr('disabled');
                    }
                }
            } else {
                if ($.inArray(filter, availableFilters) < 0) {
                    if (remove) {
                        $this.remove();
                    } else {
                        $this.addClass('disabled');
                        if (!$this.find('input').is(':checked')) {
                            $this.find('input').attr('disabled', 'disabled');
                        }
                    }
                } else {
                    $this.removeClass('disabled').find('input').removeAttr('disabled');
                }
            }
        });
        modules.productFilter.updateColumnsTitle();
    },

    /**
     * Function to check if column title need to be disabled
     */
    updateColumnsTitle: function() {
        // DISABLE TITLE: if a column filter has no active filter
        $('.js-filters-columns > .filters-column').each( function() {
            if ($(this).find('.js-filters-checkbox:not(.disabled)').length === 0) {
                $(this).find('.column-title').addClass('disabled');
            } else {
                $(this).find('.column-title').removeClass('disabled');
            }
        });

        $('.category:visible').removeClass('category--below-filters').first().addClass('category--below-filters');
    },

    /**
     * Add Filter to current filter list
     * @param  string filter id
     * @param  string group id
     */
    addFilter: function( filter, group ) {
        if (!group) {
            modules.productFilter.selectedFilters.push( filter );
        }
        else {
            ++modules.productFilter.selectedNonCumulativeGroupNum;
            modules.productFilter.selectedNonCumulativeGroupFilters[group].push( filter );
        }
    },

    /**
     * Remove Filter to current filter list
     * @param  string filter id
     * @param  string group id
     * IE lte 8 doesn't support indexOf
     * -> shim in core.js
     */
    removeFilter: function( filter, group ) {
        if (!group) {
            modules.productFilter.selectedFilters.splice( modules.productFilter.selectedFilters.indexOf(filter), 1 );
        }
        else {
            --modules.productFilter.selectedNonCumulativeGroupNum;
            modules.productFilter.selectedNonCumulativeGroupFilters[group].splice( modules.productFilter.selectedNonCumulativeGroupFilters[group].indexOf(filter), 1 );
        }
    },

    /**
     * Function to filter Products
     * Logic:
     * - a product must match each filters (&&)
     * - a product must match at least one filter per group (||)
     * So: a column has 'or' filter, and each column is 'and'
     *
     * Exemple: we check 'red' and 'blue' on the 'color' column, with '34' and '35' in 'size' column
     * -> matching products are those who are ('red' OR 'blue') AND ('34' OR '35')
     */
    filter: function( e ) {
        if (e) e.preventDefault();
        /* create regexp */
        if ( modules.productFilter.selectedFilters.length > 0 || modules.productFilter.selectedNonCumulativeGroupNum > 0 ) {
            $(modules.productFilter.filterableSelector).each( function() {
                var $product = $(this);
                var _result = modules.productFilter.itemMatch($product, true);
                if ( _result.match ) {
                    $product.removeClass( modules.productFilter.dontMatch );
                    if ($product.hasClass('js-swatch')) {
                        modules.productFilter.updateSwatches( $product );
                    }
                } else {
                    $product.addClass( modules.productFilter.dontMatch );
                }
            });

            if( $('.js-category').find('.js-parallax').length > 0 ){
                $('.js-category').find('.js-parallax').hide();
                $('.js-categories').removeClass('categories--covers');
            }
        }
        else {
            // No Filters activated show all products and all swatches
            $(modules.productFilter.filterableSelector).removeClass( modules.productFilter.dontMatch );
            $('.js-swatch-hover').parent().show();

            if ( $('.js-category').find('.js-parallax').length > 0 ) {
                $('.js-category').find('.js-parallax').show();
                $('.js-categories').addClass('categories--covers');
            }
        }

        /* test if group has visible items */
        $('.js-category').show();
        $('.js-category').each(function(){
            var $cat = $(this),
                $products = $cat.find( modules.productFilter.filterableSelector+':visible' );

            if( $products.length === 0 ) {
                $cat.hide();
            }
            else {
                if (modules.productFilter.needLines) {
                    $cat.find('.js-products-line').remove();
                }
                var _lineI = 0;
                $products.each(function(i) {
                    var $product = $(this);

                    if(_lineI % modules.productFilter.lineNum === 0){
                        $product.addClass('column-no-margin');
                    }
                    else {
                        $product.removeClass('column-no-margin');
                    }

                    if(modules.productFilter.needLines && _lineI % modules.productFilter.lineNum === modules.productFilter.lineNum-1 && _lineI < $products.length-1) {
                        $product.after($('<hr class="products-line js-products-line"/>'));
                    }

                    // ...
                    if ($product.hasClass('one-third') || $product.hasClass('one-half')) {
                        ++_lineI;
                    } else {
                        _lineI += 2;
                    }
                });
            }
        });

        /* update total items */
        modules.productFilter.total( $(modules.productFilter.filterableSelector+':visible:not(".js-no-count")').length );

        // If swatch
        if ($('*[data-filter-id]:visible').length > 0) {
            modules.productFilter.updateProductFiltersIds();
        }

        modules.productFilter.checkDispo( false, '' );

        // close
        modules.productFilter.close();
        modules.productFilter.signals.dispatch('productFilter::change');
    },

    /**
     * Check if the item match the selected filters
     * @param $product [jquery element]
     * @param allProducts [bool]
     * @returns [Object] {match: true|false, count: true|false}
     * @see modules.productFilter.filter()
     * @seeAlso modules.productFilter.checkDispo()
     */
    itemMatch: function( $product, allProducts ) {
        var _ids = $product.attr('data-filter-ids');
        var matchCumulativeFilter = true,
            result = {match: true, count: 0};

        if (_ids && _ids.length) {
            var productFilters = _ids.split('-');

            // CUMULATIVES FILTERS
            // need to match each filter (&&), so return false at first mismatch
            if (modules.productFilter.selectedFilters.length > 0) {
                for (var filterKey in modules.productFilter.selectedFilters) {
                    var filter = modules.productFilter.selectedFilters[filterKey];
                    if ($.inArray(filter, productFilters) < 0) {
                        // no need to have more condition: it doesn't match
                        result.match = false;
                        return false;
                    }
                }
            }
        }

        // NON-CUMULATIVES GROUPS
        // need to match at least one filter per group (|| inside group, but && for each group)
        var _hasCumulativeFilters = false;
        for (var groupId in modules.productFilter.selectedNonCumulativeGroupFilters) {

            var group = modules.productFilter.selectedNonCumulativeGroupFilters[groupId];
            var groupLength = group.length;

            if (groupLength > 0) {
                _hasCumulativeFilters = true;
                matchCumulativeFilter = false;

                for (var i = 0; i < groupLength; ++i) {
                    var filter = group[i];
                    if($.inArray(filter, productFilters) >= 0) {
                        matchCumulativeFilter = true;
                        if (modules.productFilter.countVariants) {
                            result.count += $product.find(".js-swatch-hover[data-filter-id='"+filter+"']").length;
                        }
                        continue;
                    }
                }
                // if a group doesn't match, return false ('cause product don't match, even if its match other groups)
                if (!matchCumulativeFilter) {
                    result.match = false;
                    result.count = 0;
                    return result;
                }
            }
        }

        // -> if no cumulativeFilters are selected
        if (!_hasCumulativeFilters) {
            if (!modules.productFilter.countVariants) {
                if (!$product.hasClass('js-no-count')) result.count = 1;
            }
            else {
                result.count = $product.find(".js-swatch-hover").length;
            }
            return result;
        }

        // if no return append yet, the product match!
        if (!modules.productFilter.countVariants && !$product.hasClass('js-no-count')) result.count = 1;
        return result;
    },

    /** Specific RAL & FP
     * each product has a list of swatch
     */
    updateSwatches: function( $el ) {
        var _selectedIsHidden = false;

        $el.find('.js-swatch-hover').each( function() {
            var $this = $(this);
            var _result = modules.productFilter.itemMatch( $this, false );
            if (_result.match) {
                $this.parent().show();
            } else {
                $this.parent().hide();

                if (!_selectedIsHidden) {
                    _selectedIsHidden = $this.parent().hasClass('selected');
                    $this.parent().removeClass('selected');
                }
            }
        });

        // if the selected itam is hidden, select the first visible after filtering
        if (_selectedIsHidden) {
            $el.find('.js-swatch-hover:visible:first').trigger('click').parent().addClass('selected');

            $('.js-swatch-name').html($el.find('.selected .js-swatch-hover').data('swatch-name'));
        }
    },

    /**
     * Function to reset all Products
     */
    reset: function() {
        modules.productFilter.$filtersCheckboxes.removeClass('disabled').find('input').each( function() {
            this.checked = false;
        } );

        if (core.lte8 && !core.ie6)modules.productFilter.$filtersCheckboxes.find('.js-checkbox-label').removeClass('checked');

        modules.productFilter.selectedNonCumulativeGroupNum = 0;
        modules.productFilter.selectedFilters = [];
        for (var _group in modules.productFilter.selectedNonCumulativeGroupFilters) {
            modules.productFilter.selectedNonCumulativeGroupFilters[_group] = [];
        }

        modules.productFilter.filter();
        //modules.productFilter.checkDispo( false, '' );
    },

    /* PRODUCTS */
    total: function(count) {
        if (core.tablet) {
            modules.productFilter.$filtersResultsCount.hide();
        }
        modules.productFilter.$filtersResultsCount.html( count+' / '+modules.productFilter.nbrItems );
        if (core.tablet) {
            setTimeout( function() {
                modules.productFilter.$filtersResultsCount.show();
            }, 50);
        }
    },
    currentTotal: function(count) {
        //show count on first check
        if (!modules.productFilter.$filtersItemsCount.parent().is(':visible')) {
            modules.productFilter.$filtersItemsCount.parent().show();
        }
        modules.productFilter.$filtersItemsCount.html( count );
    }
};
module.exports = modules.productFilter;
},{"../modules/equalHeight.js":7}],11:[function(require,module,exports){
/**
 * PCD only
 * - select a variant (color list, or capacity select), and update de product packshot (QB) & alt views (FP)
 * Build a signal to dispatch:
 * - "productSelector::change"
 * - "productSelector::mouseOver"
 * - "productSelector::mouseOut"
 * Used by modules.QuickBuy.js
 * @param options
 * @constructor
 */
function ProductSelector(options) {
    this.o =
    {
        containerSelector   : '.js-products-selector',
        itemSelector        : '.js-product-selector',
        defaultSelected     : true
    };
    this.o = $.extend(this.o, options);

    // Init module
    this.init();
}
ProductSelector.prototype = {
    init: function(){
        this.$container = $(this.o.containerSelector);

        if (window.signals) this.signals = new signals.Signal();

        if (this.$container.find('.selected').length > 0) {
            this.$selected = this.$container.find('.selected '+this.o.itemSelector);
        } else if (this.o.defaultSelected) {
            this.$selected = this.$container.find(this.o.itemSelector).first();
        }

        var scope = this;
        // hover tones
        // -> should be more logical:
        //      if (this.$container.attr('data-hover-target') != undefined && this.$container.attr('data-hover-target') != "") {
        // but still use old test:
        if (!core.isTactile) {
            // Clic tones
            this.$container.on('click',this.o.itemSelector, $.proxy(this.selectProduct,scope));

            // swatch case (makeup): display an element (the color name or reference) on rollover
            if (this.$container.find('.js-swatch-hover').length > 0) {
                this.$container.on('mouseover', this.o.itemSelector, $.proxy(this.mouseOverProduct, scope));
                this.$container.on('mouseout', this.o.itemSelector, $.proxy(this.mouseOutProduct, scope));
            }
        } else {
            // Clic tones
            this.$container.on('click',this.o.itemSelector, function(e) {
                scope.mouseOverProduct.call(scope, e);
                scope.selectProduct.call(scope, e);
            });
        }

        //Trigger selected
        if (this.$selected) {
            this.$selected.trigger('click');
            this.$selected.trigger('mouseover');
        }
    },

    /**
     * selectProduct
     * Select a product by clicking on a shade or by choosing a capacity
     */
    selectProduct: function(e) {
        e.preventDefault();

        var $selector = $(e.currentTarget);
        if (core.universe == core.cdc && $selector.hasClass('js-item-not-available')) {
            e.stopPropagation();
            return;
        }

        var $pictureTarget = $($selector.attr('data-picture-target'));
        var pictureSrc = $selector.attr('data-picture-src');

        // Update product picture
        if ($pictureTarget.is('img')) {
            $pictureTarget.attr('src',pictureSrc);
        }
        else if ($pictureTarget.is('div')) {
            $pictureTarget.css('background-image','url(' + pictureSrc + ')');
        }

        // FP COVER
        // - change the list of thumbnails (on cover): data-thumbs-srcs (target default: .js-cover-thumbs)
        // - update alternatives views of the cover: data-zoom-views (same name as the cover)
        if ($selector.attr('data-thumbs-target') && $selector.attr('data-thumbs-srcs')) {
            var $thumbsTarget = $($selector.attr('data-thumbs-target'));
            var thumbsSrcs = JSON.parse($selector.attr('data-thumbs-srcs'));

            var _altViews = JSON.parse($selector.attr('data-zoom-views'));
            // retro compatible Zoom module v1 (before 6.8):
            // -> object isn't not an array
            if (_altViews.views) {
                _altViews = _altViews.views;
            }

            if ($thumbsTarget.length > 0) {
                $thumbsTarget.empty();
                var liStr = "";
                for (var i = 0; i < thumbsSrcs.length; i++) {
                    var _zoom = 'data-zoom=\'{"src":"' + _altViews[i].src + '", "thumb": "' + _altViews[i].thumb + '"}\'';

                    if (_altViews[i].title) _zoom.title = _altViews[i].title;

                    if (i === 0) {
                        liStr += '<li><a href="javascript:void(0);" class="js-zoom-trigger" data-zoom-gallery="fpzoom" data-zoom-id="' + i + '" ' + _zoom + '><img src="' + thumbsSrcs[i] + '" alt=""></a></li><!--';
                    } else if (i === thumbsSrcs.length - 1) {
                        liStr += '--><li><a href="javascript:void(0);" class="js-zoom-trigger" data-zoom-gallery="fpzoom" data-zoom-id="' + i + '" ' + _zoom + '><img src="' + thumbsSrcs[i] + '" alt=""></a></li>';
                    } else {
                        liStr += '--><li><a href="javascript:void(0);" class="js-zoom-trigger" data-zoom-gallery="fpzoom" data-zoom-id="' + i + '" ' + _zoom + '><img src="' + thumbsSrcs[i] + '" alt=""></a></li><!--';
                    }
                }
                $thumbsTarget.append(liStr);
            }

            $('.js-cover-fp > .js-zoom-trigger').attr('data-zoom-views', $selector.attr('data-zoom-views'));
        }

        // selectProduct
        if (this.$selected) this.$selected.parent().removeClass('selected');
        $selector.parent().addClass('selected');
        this.$selected = $selector;

        // Send signal
        if (this.signals) {
            this.signals.dispatch('productSelector::change', $selector);
        }
    },

    /**
     * unSelectProduct
     * unSelect a product too reset default style
     */
    unSelectProduct: function(e) {
        this.$selected.parent().removeClass('selected');
        $(this.$selected.attr('data-picture-target')).attr('style','');
    },
    /**
    * Show shade name on mouseOver
    * @param  event e  hover event
    * @return {[type]}   [description]
    */
    mouseOverProduct: function(e) {
        e.preventDefault();
        var $selector = $(e.currentTarget);
        var hoverTarget = this.$container.attr('data-hover-target');

        // PDG: js-push
        // FP/QB: js-quickbuy
        // Popin ShadeComparator:
        var $hoverTarget = this.$container.parents('.js-quickbuy, .js-push, .shadecomparator-productsselector').first().find(hoverTarget);

        // Inject hashtags in swatch name
        this.displaySwatchName( $selector, $hoverTarget );

        // Send signal
        if (this.signals) this.signals.dispatch('productSelector::mouseOver');
    },

    /**
    * Display swatch name on mouseOut
    * @param  event e  hover event
    * @return {[type]}   [description]
    */
    displaySwatchName: function( $el, $hoverTarget ) {
        var _name = '<span>'+$el.attr('data-swatch-name')+'</span>';

        if ($el.data('novelty')) _name += " " + $('.js-hashtags .js-hashtag--novelty').html();
        if ($el.data('exclu')) _name += " " + $('.js-hashtags .js-hashtag--exclu').html();

        $hoverTarget.html( _name );
    },


    /**
    * Hide shade name on mouseOut
    * @param  event e  hover event
    * @return {[type]}   [description]
    */
    mouseOutProduct: function(e) {
        e.preventDefault();
        var $selector = $(e.currentTarget);
        var hoverTarget = this.$container.attr('data-hover-target');
        var $hoverTarget = this.$container.parents('.js-quickbuy, .js-push, .shadecomparator-productsselector').first().find(hoverTarget);

        // Inject hashtags in swatch name
        this.displaySwatchName( $selector, $hoverTarget );
        // Send signal
        if (this.signals) this.signals.dispatch('productSelector::mouseOut');
    }
};

module.exports = ProductSelector;

},{}],12:[function(require,module,exports){

function QuickBuy(options) {
    this.o =
    {
        containerSelector   : '.js-quickbuy'
    };
    this.o = $.extend(this.o, options);
    // Init module
    this.init();
}
QuickBuy.prototype = {
    init: function() {
        this.$container         = $(this.o.containerSelector);
        this.modProductSelector = require('../modules/productSelector.js');
        this.productSelector    = null;
        this.modShadeComparator = require('../modules/shadeComparator.js');
        this.DropDown           = require('../modules/dropDown.js');
        this.dropDowns          = [];
        this.modStockAlert      = require('../modules/stockAlert.js');
        this.modProductFilter   = require('../modules/productFilter.js');
        this.modSendByMail      = require('../modules/sendByMail.js');
        this.$orderDetails      = this.$container.find('.js-order-details');
        this.$orderForm         = this.$orderDetails.find('.js-order-form');
        this.$orderValue        = this.$container.find('.js-order-value');
        this.$orderBtn          = this.$orderForm.find('.js-order-btn');
        this.signals            = window.signals ? new signals.Signal() : null;


        var scope               = this;

        //#####################################################################
        // DEBUT PROJET CHINE : NE PAS ECRASER DIFF CI DESSOUS LORS DU MERGE HE
        //#####################################################################
        //Call WS for China
        //We need to call in synchronous way in order to let all resize & modstockAlert works properly
        //Be careful If synschonous is activate then all resize & modStockAlert method should be implemented
        if (window.pcis && pcis.Product) pcis.Product.GetInfo(false);
        // FIN PROJET CHINE

        // Dropdowns
        this.$container.find('.js-dropdown').each(function(i){
            var $dropdown = $(this);
            scope.dropDowns[i] = new scope.DropDown({
                $container : $dropdown
            });
            // Update quantity on dropdown change
            scope.dropDowns[i].signals.add(function (type, $item) {
                switch (type) {
                    case 'dropDown::change':
                        if ($item.attr('data-quantity')) {
                            scope.updateOrderQuantity($item);
                        }
                        /* Check Availibility is manage by productSelector not dropdown */
                    break;
                }
            });
        });
        this.modStockAlert.init();
        this.modSendByMail.init();

        // shadeComparator PCD
        if ($('.js-shade-comparator-trigger').length > 0) {
            this.modShadeComparator.init();
            if(this.modShadeComparator.signals) {
                this.modShadeComparator.signals.add(function (type, index) {
                    switch (type) {
                        case 'shadeComparator::change':
                        scope.productSelector.$container.find(scope.productSelector.o.itemSelector).eq(index).trigger('click');
                        break;
                    }
                });
            }
        }
        // filters PCD
        if ($('.js-filterable').length > 0) {
            this.modProductFilter.init( '.js-filterable', '.js-swatch-hover' );
        }

        //Product Selector
        this.productSelector    = new this.modProductSelector({
    		containerSelector: this.o.containerSelector + ' .js-products-selector',
            defaultSelected: false
    	});
        if (this.productSelector.signals) {
            this.productSelector.signals.add(function (type, $item) {
                switch (type) {
                    case 'productSelector::change':
                        scope.checkAvailability();
                        if ( $('.js-products-selector').length ) scope.checkHashtags();
                        scope.modSendByMail.selectProduct( type, $item );
                        break;
                }
            });
        }

        if (this.productSelector.$selected) {
            this.checkAvailability();
            if ( $('.js-products-selector').length ) this.checkHashtags();
        }
    },
    /**
    * Check Product Availability
    * @return {[type]} [description]
    */
    checkAvailability: function() {
        var _this = this;
        var avaibility = this.productSelector.$selected.attr('data-availability');

        // Update order button
        // -> sku code always updated (used by StockAlert)
        this.$orderBtn.attr('data-sku',this.productSelector.$selected.attr('data-sku'));

        switch (avaibility) {
            case 'available':
                this.$orderDetails.removeClass('order-details--nostock order-details--notonline').addClass('order-details--available');
                //Update price
                if(this.productSelector.$selected.attr('data-value')) {
                    this.$orderValue.html(this.productSelector.$selected.attr('data-value'));
                }
                // tracking
                if(this.productSelector.$selected.attr('data-track-object')) {
                    this.$orderBtn.attr('data-track-object', this.productSelector.$selected.attr('data-track-object'));
                }
                break;
            case 'nostock':
                this.$orderDetails.removeClass('order-details--available order-details--notonline').addClass('order-details--nostock');
                break;
            case 'notonline':
                this.$orderDetails.removeClass('order-details--available order-details--nostock').addClass('order-details--notonline');
                break;
            default:
        }
    },
    /**
    * Check Product Hashtags
    * @return {[type]} [description]
    */
    checkHashtags: function() {
        $('.js-hashtags').children().addClass('hashtag--hidden');
        if (this.productSelector.$selected.data('exclu')) {
            this.$container.find(".js-hashtags .js-hashtag--exclu").removeClass('hashtag--hidden');
        }
        if (this.productSelector.$selected.data('novelty')) {
            this.$container.find(".js-hashtags .js-hashtag--novelty").removeClass('hashtag--hidden');
        }
    },
    /**
    * Update Order button depending on dropdown selection
    * @return {[type]} [description]
    */
    updateOrderQuantity: function($item){
        var newQuantity = 0;
        if ($item.attr('data-quantity')) {
            newQuantity = parseInt($item.attr('data-quantity'));
        }
        if (newQuantity > 0) {
            this.$orderBtn.attr('data-quantity',newQuantity);
            // Update buy button data-track-object quantity
            if (this.$orderBtn.attr('data-track-object')) {
                var dataTrackObject = $.parseJSON(this.$orderBtn.attr('data-track-object').replace(/(\&apos\;)/g, '\''));
                if (!$.isEmptyObject(dataTrackObject)) {
                    dataTrackObject.ecommerce.add.products[0].quantity = newQuantity;
                    this.$orderBtn.attr('data-track-object', JSON.stringify(dataTrackObject).replace(/(['])/g, '&apos;'));
                }
            }

            // Update each filter data-track-object quantity
            if (this.productSelector) {
                this.productSelector.$container.find(this.productSelector.o.itemSelector).each(function () {
                    if($(this).attr('data-track-object')) {
                        var dataTrackObject = $.parseJSON($(this).attr('data-track-object').replace(/(\&apos\;)/g, '\''));
                        if (!$.isEmptyObject(dataTrackObject)) {
                            dataTrackObject.ecommerce.add.products[0].quantity = newQuantity;
                            $(this).attr('data-track-object', JSON.stringify(dataTrackObject).replace(/(['])/g, '&apos;'));
                        }
                    }
                });
            }
        }
    }
};
module.exports = QuickBuy;

},{"../modules/dropDown.js":6,"../modules/productFilter.js":10,"../modules/productSelector.js":11,"../modules/sendByMail.js":13,"../modules/shadeComparator.js":14,"../modules/stockAlert.js":15}],13:[function(require,module,exports){
modules.SendByMail =
{
    defaultContainer:       '.js-send-by-mail',
    $container:             null,
    Popin:                  require('../modules/popins/Popin.js'),
    currentPopin:           null,

    init: function(itemContainer, callback)
    {
        var container = itemContainer ? itemContainer : modules.SendByMail.defaultContainer;
        modules.SendByMail.$container    = $(container),
        modules.SendByMail.$form         = modules.SendByMail.$container.find('.js-send-by-mail-form'),
        modules.SendByMail.$errorField   = modules.SendByMail.$container.find('.js-error-msg'),
        modules.SendByMail.$successField = modules.SendByMail.$container.find('.js-send-by-mail-success');

        modules.SendByMail.currentPopin = new modules.SendByMail.Popin({
            $popin:  modules.SendByMail.$container,
            $open:   $('.js-send-by-mail-trigger'),
            onClosed: function() {
                modules.SendByMail.$successField.hide();
                modules.SendByMail.$form.show();
                modules.SendByMail.$form[0].reset();
            }
        });

        modules.SendByMail.$container.on('click','.js-send-by-mail-valid', modules.SendByMail.checkForm);
    },

    selectProduct: function( event, $item ) {
        modules.SendByMail.$form.find('.js-send-by-mail-sku').attr('value',$item.data('sku'));
    },

    checkForm: function(e) {
        e.preventDefault();
        if (utils.FormValidator.validForm(modules.SendByMail.$form, modules.SendByMail.$errorField)) {
            modules.SendByMail.saveForm();
        }
    },
    saveForm: function() {
        $.ajax({
            url     : core.AjaxConfig.Product.SEND_BY_MAIL.url,
            type    : core.AjaxConfig.Product.SEND_BY_MAIL.method,
            data    : modules.SendByMail.$form.serialize(),
            success : function(response) {
                if (core.isTactile) {
                    setTimeout( function() {$('body').stop().animate( {scrollTop: (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop)+1 }, 0, 'linear');}, 100 );
                }

                if(response.status === 'nok') {
                    modules.SendByMail.$errorField.show().html(response.message);
                    modules.SendByMail.currentPopin.placeInWindow();
                }
                else {
                    modules.SendByMail.$form.hide();
                    modules.SendByMail.$successField.show().html(response.message);
                    modules.SendByMail.currentPopin.placeInWindow();
                    setTimeout( function() {
                        modules.SendByMail.currentPopin.close();
                    }, 3000);
                }
            }
        });
        // WAIT FOR KEYBOARD DISAPPEAR
        if (core.isTactile) {
            setTimeout( function() {$('body').stop().animate( {scrollTop: (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop)+1 }, 0, 'linear');}, 500 );
        }
    }
};

module.exports = modules.SendByMail;

},{"../modules/popins/Popin.js":8}],14:[function(require,module,exports){
modules.ShadeComparator =
{
    defaultContainer:       '.js-shadecomparator',
    $container:             null,
    mouseMove:              null,
    Popin:                  require('../modules/popins/Popin.js'),
    currentPopin:           null,
    verticalCenter:         require('../modules/verticalCenter.js'),
    productSelector:        require('../modules/productSelector.js'),
    productSelectorLeft:    null,
    productSelectorRight:   null,
    signals:                window.signals ? new signals.Signal() : null,


    init : function( itemContainer)
    {
        var container = itemContainer ? itemContainer : modules.ShadeComparator.defaultContainer;
        modules.ShadeComparator.$container = $(container);

        modules.ShadeComparator.productSelectorLeft = new modules.ShadeComparator.productSelector({
            containerSelector   : '.js-products-selector-left'
        });

        modules.ShadeComparator.productSelectorRight = new modules.ShadeComparator.productSelector({
            containerSelector   : '.js-products-selector-right'
        });
        // No Selected on right productSelector
        modules.ShadeComparator.productSelectorRight.unSelectProduct();

        modules.ShadeComparator.verticalCenter.centerize('.js-shadecomparator-content');

        if(!core.tablet) {
            modules.ShadeComparator.$container.on('click','.js-toneslider-trigger', function(e) {
                e.preventDefault();
            });
            modules.ShadeComparator.$container.on('mousedown','.js-toneslider-trigger', function(e) {
                e.preventDefault();
                // IE uses srcElement, others use target
                var _target = e.target !== null ? e.target : e.srcElement;
                // cancel out any text selections
                document.body.focus();
                // prevent text selection in IE
                document.onselectstart = function () { return false; };
                // prevent IE from trying to drag an image
                _target.ondragstart = function() { return false; };

                $(document).on('mousemove', modules.ShadeComparator.onMouseMove);
            });

            $(document).on('mouseup', function() {
                $(document).off('mousemove',  modules.ShadeComparator.onMouseMove);
            });

        } else {
            modules.ShadeComparator.$container[0].addEventListener("touchmove", modules.ShadeComparator.onMouseMove);

            modules.ShadeComparator.$container.on('touchend', function() {
                $(this).off('touchmove',  modules.ShadeComparator.onMouseMove);
            });
        }

        // Validate tone selection
        modules.ShadeComparator.$container.on('click','.js-choose-button', modules.ShadeComparator.validShade);

        // Popin
        modules.ShadeComparator.currentPopin = new modules.ShadeComparator.Popin({
            $popin:  modules.ShadeComparator.$container,
			$open:   $('.js-shade-comparator-trigger'),
            onOpened: function() {
                if(core.lte7) modules.ShadeComparator.verticalCenter.centerize('.js-shadecomparator-content');
            }
        });

        if (common.getPopinParam() === 'shade-selector') {
            modules.ShadeComparator.currentPopin.open();
        }
    },

    // Valid your shade choice
    validShade : function(e) {
        e.preventDefault();
        // GET SIDE
        var swatchIndex = 0;
        if ($(this).parents('.productsselector-right').length > 0) {
            swatchIndex = modules.ShadeComparator.productSelectorRight.$selected.parents('li').index();
        }
        else {
            swatchIndex = modules.ShadeComparator.productSelectorLeft.$selected.parents('li').index();
        }
        modules.ShadeComparator.signals.dispatch('shadeComparator::change',swatchIndex);
        modules.ShadeComparator.currentPopin.close();
    },

    onMouseMove : function(event) {
        if (event) {
            event.stopPropagation();
            event.preventDefault();
        } else {
            event = window.element;
        }
        // IE uses srcElement, others use target
        var _target = event.target !== null ? event.target : event.srcElement;

        // cancel out any text selections
        document.body.focus();
        // prevent text selection in IE
        document.onselectstart = function () { return false; };
        // prevent IE from trying to drag an image
        _target.ondragstart = function() { return false; };

        var slider             = modules.ShadeComparator.$container.find('.js-toneslider');
            sliderPosition     = slider.offset(),
            sliderX            = sliderPosition.left,
            sliderWidth        = slider.width(),
            mouseX             = event.changedTouches ? event.changedTouches[0].pageX : event.pageX,
            xPosition          = mouseX - sliderX,
            percent            = 100 - (( xPosition / sliderWidth) * 100);

        if(percent > 100) percent = 100;
        if(percent < 0) percent = 0;

        modules.ShadeComparator.$container.find('.js-toneslider-halftone').css({'width' : percent + '%'});
    }

};

module.exports = modules.ShadeComparator;

},{"../modules/popins/Popin.js":8,"../modules/productSelector.js":11,"../modules/verticalCenter.js":16}],15:[function(require,module,exports){


modules.StockAlert =
{
    defaultContainer:       '.js-stockalert',
    $container:             null,
    Popin:                  require('../modules/popins/Popin.js'),
    currentPopin:           null,

    init: function(itemContainer, callback)
    {

        var container = itemContainer ? itemContainer : modules.StockAlert.defaultContainer;
        modules.StockAlert.$container       = $(container);
        modules.StockAlert.$form            = modules.StockAlert.$container.find('.js-stockalert-form'),
        modules.StockAlert.$popinsubtitle   = modules.StockAlert.$container.find('.js-popin-subtitle'),
        modules.StockAlert.$legalBlock      = modules.StockAlert.$container.find('.js-stockalert-legal'),
        modules.StockAlert.$succesBlock     = modules.StockAlert.$container.find('.js-stockalert-success'),
        modules.StockAlert.$errorField      = modules.StockAlert.$container.find('.js-error-msg'),
        modules.StockAlert.$errorLegalField = modules.StockAlert.$container.find('.js-legal-error-msg'),
        modules.StockAlert.$checkAccess     = modules.StockAlert.$container.find('.js-stockalert-accessories'),
        modules.StockAlert.$checkBeauty     = modules.StockAlert.$container.find('.js-stockalert-beauty'),
        modules.StockAlert.$checkLegal      = modules.StockAlert.$container.find('.js-legal-accept');

        modules.StockAlert.currentPopin = new modules.StockAlert.Popin({
            $popin:  modules.StockAlert.$container,
            $open:   $('.js-stockalert-trigger'),
            onClosed: function() {
                modules.StockAlert.$succesBlock.hide();
                modules.StockAlert.$legalBlock.hide();
                modules.StockAlert.$checkLegal.prop( "checked", false );
                modules.StockAlert.$form[0].reset();
                modules.StockAlert.$form.show();
                modules.StockAlert.$popinsubtitle.show();
            }
        });

        modules.StockAlert.$container.on('click','.js-stockalert-valid', modules.StockAlert.checkForm);
    },

    checkForm: function(e) {
        e.preventDefault();
        if (utils.FormValidator.validForm(modules.StockAlert.$form, modules.StockAlert.$errorField)) {
            if ( $(this).hasClass('legal-trigger') ) {
                if(modules.StockAlert.$legalBlock.is(':visible')) {
                    if ( modules.StockAlert.$checkLegal.is(':checked') ) {
                        modules.StockAlert.$errorLegalField.hide();
                        modules.StockAlert.saveEmail();
                    } else {
                        modules.StockAlert.$errorLegalField.show();
                        return false;
                    }
                } else {
                    modules.StockAlert.$form.hide();
                    modules.StockAlert.$popinsubtitle.hide();
                    modules.StockAlert.$legalBlock.show();
                    modules.StockAlert.$container.find('.js-scroller').tinyscrollbar();
                }
            } else {
                modules.StockAlert.saveEmail();
            }
        }
    },

    saveEmail: function() {
        var email = modules.StockAlert.$container.find('.js-stockalert-email').val();
        if (email && email!=='') {
            var _data = {
                email: email,
                isSubscribeBeauty: modules.StockAlert.$checkBeauty.prop('checked'),
                isSubscribeFashion: modules.StockAlert.$checkAccess.prop('checked'),
                skuCode: $('.js-cover-quickbuy .js-addtocart, .js-quickbuy .js-addtocart').data('sku')
            };

            $.ajax({
                url: core.AjaxConfig.Product.STOCK_ALERT.url,
                type : core.AjaxConfig.Product.STOCK_ALERT.method,
                data : _data,
                //#####################################################################
                // DEBUT PROJET CHINE : NE PAS ECRASER DIFF CI DESSOUS LORS DU MERGE HE
                //#####################################################################
                contentType: (window.pcis ? pcis.ContentType : null),
                formatter:  core.AjaxConfig.Product.STOCK_ALERT.formatter,

                success : function(response) {
                    if (response.subscribeNewsletter) {
                        /* Specific China - Newsletter is still managed by brand site*/
                        $.ajax({
                            url: core.AjaxConfig.Product.STOCK_ALERT_NEWSLETTER.url,
                            type: core.AjaxConfig.Product.STOCK_ALERT_NEWSLETTER.method,
                            data: _data,
                            formatter: core.AjaxConfig.Product.STOCK_ALERT_NEWSLETTER.formatter,
                            success : function(response) {
                            /* Do not display anaything, purpose of the popin is to subscribe to STOCK_ALERT notification */
                            if (response.status == 'ok') {
                                    window.console && console.log("Newsletter subcribtion : success");
                                } else {
                                    window.console && console.log("Newsletter subcribtion : fail");
                                }
                            }
                        }
                    )};
                    // FIN PROJET CHINE
                    if (core.isTactile) {
                        setTimeout( function() {$('body').stop().animate( {scrollTop: (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop)+1 }, 0, 'linear');}, 100 );
                    }

                    if(response.status === 'nok') {
                        modules.StockAlert.$errorField.show().html(response.errorMessages);
                        modules.StockAlert.currentPopin.placeInWindow();
                    }
                    else {
                        modules.StockAlert.$form.hide();
                        modules.StockAlert.$popinsubtitle.hide();
                        modules.StockAlert.$legalBlock.hide();
                        modules.StockAlert.$errorField.hide();
                        modules.StockAlert.$errorLegalField.hide();
                        modules.StockAlert.$succesBlock.show().html(response.message);
                        modules.StockAlert.currentPopin.placeInWindow();
                        setTimeout( function() {
                            modules.StockAlert.currentPopin.close();
                        }, 3000 );
                    }
                }
            });
            // WAIT FOR KEYBOARD DISAPPEAR
        } else if (core.isTactile) {
            setTimeout( function() {$('body').stop().animate( {scrollTop: (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop)+1 }, 0, 'linear');}, 500 );
        }
    }
};

module.exports = modules.StockAlert;

},{"../modules/popins/Popin.js":8}],16:[function(require,module,exports){
modules.verticalCenter = {
    defaultContainerSelector: '#container',
    defaultSelector: '.js-center-vertical',
    /**
     * Function to centerize item inside container
     * @param string itemContainerSelector
     * @param string itemSelector
     */
    centerize: function(itemContainerSelector, itemSelector)
    {
        var container = itemContainerSelector ? itemContainerSelector : modules.verticalCenter.defaultContainerSelector,
            selector = itemSelector ? itemSelector : modules.verticalCenter.defaultSelector,
            $items = $(container).find(selector);

        $items.each(function(){
            var $item = $(this),
                $container = $item.parents(container);

            var containerHeight = $container.height(),
                itemPositon = $item.css('position').toLowerCase();

            if (itemPositon != "absolute") { //if absolute center with top
                if (core.lte7) {
                    var margTop = ( containerHeight - $item.height() ) * 0.5;
                    $item.css('margin-top', margTop);
                } else {
                    $item.addClass('inline-block');
                    $container.css('line-height', containerHeight + 'px');
                }
            }
            else {
                var top = ( containerHeight - $item.height() ) * 0.5;
                $item.css({'top': top, 'bottom': 'auto'});
            }
        });
    },
    reset: function(itemContainerSelector, itemSelector)
    {
        var container = itemContainerSelector ? itemContainerSelector : modules.equalHeight.defaultContainer,
            selector = itemSelector ? itemSelector : modules.verticalCenter.defaultSelector,
            $items = $(container).find(selector);

        $items.each(function(){
            var $item = $(this),
                $container = $item.parents(container);

            var containerHeight = $container.height(),
                itemPositon = $item.css('position').toLowerCase();

            if (itemPositon != "absolute") { //if absolute center with top
                if (core.lte7) {
                    $item.css('margin-top', 0);
                } else {
                    $item.removeClass('inline-block');
                    $container.css('line-height', 'normal');
                }
            }
            else {
                $item.css('top', 0);
            }
        });
    }
};
module.exports = modules.verticalCenter;

},{}],17:[function(require,module,exports){
module.exports = function(Handlebars) {

this["DiorTpl"] = this["DiorTpl"] || {};

this["DiorTpl"]["fragrance"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  var buffer = "", stack1, helper, options, functionType="function", escapeExpression=this.escapeExpression, self=this, blockHelperMissing=helpers.blockHelperMissing, helperMissing=helpers.helperMissing;

function program1(depth0,data) {
  
  
  return "hashtag--hidden";
  }

function program3(depth0,data) {
  
  var buffer = "", stack1;
  buffer += "<h2 class=\"quickbuy-subtitle\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.subtitle)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</h2>";
  return buffer;
  }

function program5(depth0,data) {
  
  var buffer = "", stack1, helper, options;
  buffer += "\n                            <li class=\"dropdown-item ";
  options={hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data}
  if (helper = helpers.active) { stack1 = helper.call(depth0, options); }
  else { helper = (depth0 && depth0.active); stack1 = typeof helper === functionType ? helper.call(depth0, options) : helper; }
  if (!helpers.active) { stack1 = blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data}); }
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += " ";
  stack1 = (helper = helpers.ifCond || (depth0 && depth0.ifCond),options={hash:{},inverse:self.noop,fn:self.program(8, program8, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.stockStatus), "!==", "available", options) : helperMissing.call(depth0, "ifCond", (depth0 && depth0.stockStatus), "!==", "available", options));
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\">\n                                <a href=\"#\" class=\"js-dropdown-item js-product-selector js-noclick-track\"\n                                   data-picture-target=\".js-quickbuy-img\"\n                                   data-picture-src=\""
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.assets)),stack1 == null || stack1 === false ? stack1 : stack1.packshot)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\"\n                                   data-exclu=\"";
  if (helper = helpers.exclu) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.exclu); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\"\n                                   data-novelty=\"";
  if (helper = helpers.novelty) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.novelty); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\"\n                                   data-availability=\"";
  if (helper = helpers.stockStatus) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.stockStatus); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\"\n                                   data-sku=\"";
  if (helper = helpers.skuCode) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.skuCode); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\"\n                                   data-track-object='"
    + escapeExpression((helper = helpers.stringify || (depth0 && depth0.stringify),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.clickTrackObject), options) : helperMissing.call(depth0, "stringify", (depth0 && depth0.clickTrackObject), options)))
    + "'>\n                                    <span class=\"label js-dropdown-label\">";
  if (helper = helpers.optionValue) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.optionValue); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</span><!--\n                                    --><span class=\"break\"></span><!--\n                                    --><span class=\"value js-dropdown-value\" data-value=\"";
  if (helper = helpers.productPriceWithCurrency) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.productPriceWithCurrency); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\">";
  if (helper = helpers.productPriceWithCurrency) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.productPriceWithCurrency); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</span>\n                                </a>\n                            </li>\n                            ";
  return buffer;
  }
function program6(depth0,data) {
  
  
  return "selected";
  }

function program8(depth0,data) {
  
  
  return "item-not-available";
  }

function program10(depth0,data,depth1) {
  
  var buffer = "", stack1;
  buffer += "<li>";
  stack1 = ((stack1 = ((stack1 = (depth1 && depth1.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence1)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1);
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "</li>";
  return buffer;
  }

function program12(depth0,data,depth1) {
  
  var buffer = "", stack1;
  buffer += "<li>";
  stack1 = ((stack1 = ((stack1 = (depth1 && depth1.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence2)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1);
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "</li>";
  return buffer;
  }

function program14(depth0,data,depth1) {
  
  var buffer = "", stack1;
  buffer += "<li>";
  stack1 = ((stack1 = ((stack1 = (depth1 && depth1.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence3)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1);
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "</li>";
  return buffer;
  }

function program16(depth0,data,depth1) {
  
  var buffer = "", stack1;
  buffer += "<li>";
  stack1 = ((stack1 = ((stack1 = (depth1 && depth1.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence4)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1);
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "</li>";
  return buffer;
  }

function program18(depth0,data,depth1) {
  
  var buffer = "", stack1;
  buffer += "<li>";
  stack1 = ((stack1 = ((stack1 = (depth1 && depth1.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence5)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1);
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "</li>";
  return buffer;
  }

  buffer += "<div class=\"popin-quickbuy--fragrance\">\n    <h2 class=\"popin-title\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.popinTitle)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</h2>\n    <div class=\"popin-packshot js-equal-height\">\n        <img src=\""
    + escapeExpression(((stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.assets)),stack1 == null || stack1 === false ? stack1 : stack1.packshot)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\" class=\"js-quickbuy-img js-center-vertical png-bg\"/>\n    </div><!--\n    --><div class=\"quickbuy quickbuy--fragrance js-quickbuy js-equal-height js-equal-height-main\">\n    <ul class=\"quickbuy-hashtags js-hashtags\">\n        <li class=\"";
  stack1 = helpers.unless.call(depth0, ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.novelty), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += " js-hashtag--novelty\"><a href=\"#\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.hashtagNew)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</a></li>\n        <li class=\"";
  stack1 = helpers.unless.call(depth0, ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.exclu), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += " js-hashtag--exclu\"><a href=\"#\" class=\"gold\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.hashtagExclu)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</a></li>\n    </ul>\n    <h1 class=\"quickbuy-title\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.title)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</h1>\n    ";
  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.subtitle), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n    <div class=\"quickbuy-details\">\n        <span class=\"details-price js-dropdown-activeValue\">"
    + escapeExpression(((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.productPriceWithCurrency)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</span>\n    </div><!-- end .quickbuy-details -->\n    <p class=\"quickbuy-description\">"
    + escapeExpression((helper = helpers.truncate || (depth0 && depth0.truncate),options={hash:{},data:data},helper ? helper.call(depth0, ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.description), 170, options) : helperMissing.call(depth0, "truncate", ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.description), 170, options)))
    + "</p>\n    <a href=\""
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.href)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\" class=\"details-link quickbuy-link\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.popinMore)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</a>\n    <div class=\"quickbuy-order\">\n        <div class=\"order-details order-details--available js-order-details\">\n            <div class=\"order-form js-order-form\">\n                <div class=\"order-product-choice\">\n                    <div class=\"order-dropdown mod-dropdown js-dropdown order-value js-order-value js-products-selector\">\n                        <a href=\"#\" class=\"dropdown-trigger js-dropdown-trigger\">\n                            <small class=\"label js-dropdown-activeLabel\">"
    + escapeExpression(((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.optionValue)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</small>\n                            <i class=\"icon dropdown-arrow\"></i>\n                        </a>\n                        <ul class=\"dropdown-list js-dropdown-items\">\n                            ";
  stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.skus)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1)),blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data}));
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n                        </ul>\n                    </div>\n                </div>\n                <a href=\"#\" class=\"btn btn-dark btn-order js-order-btn js-addtocart js-noclick-track\"\n                  data-quantity=\"1\"\n                  data-sku=\""
    + escapeExpression(((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.skuCode)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\"\n                  data-track-object='"
    + escapeExpression((helper = helpers.stringify || (depth0 && depth0.stringify),options={hash:{},data:data},helper ? helper.call(depth0, ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.clickTrackObject), options) : helperMissing.call(depth0, "stringify", ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.clickTrackObject), options)))
    + "'>"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.popinOrder)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</a>\n            </div>\n            <ul class=\"order-delivery\">\n                ";
  stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence1)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1)),blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.programWithDepth(10, program10, data, depth0),data:data}));
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n                ";
  stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence2)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1)),blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.programWithDepth(12, program12, data, depth0),data:data}));
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n                ";
  stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence3)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1)),blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.programWithDepth(14, program14, data, depth0),data:data}));
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n                ";
  stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence4)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1)),blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.programWithDepth(16, program16, data, depth0),data:data}));
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n                ";
  stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence5)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1)),blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.programWithDepth(18, program18, data, depth0),data:data}));
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n            </ul>\n            <div class=\"order-notonline\">\n                <ul><li><a href=\""
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.storeLocatorUrl)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.storeLocator)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</a></li></ul>\n            </div>\n            <div class=\"order-nostock\">\n                <span>"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.popinAvailabilityLabel)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</span>\n                <ul>\n                    <li><a href=\"#\" class=\"js-stockalert-trigger\" data-sku=\""
    + escapeExpression(((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.skuCode)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.alertAvailability)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</a></li>\n                    <li><a href=\""
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.storeLocatorUrl)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.storeLocator)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</a></li>\n                </ul>\n            </div>\n        </div><!-- end .order-details -->\n    </div><!-- end .quickbuy-order -->\n</div><!-- end .quickbuy -->\n</div><!-- end .popin -->\n\n";
  return buffer;
  });

this["DiorTpl"]["makeup"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  var buffer = "", stack1, helper, options, functionType="function", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing, blockHelperMissing=helpers.blockHelperMissing;

function program1(depth0,data) {
  
  
  return "hashtag--hidden";
  }

function program3(depth0,data) {
  
  var buffer = "", stack1;
  buffer += "<h2 class=\"quickbuy-subtitle\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.subtitle)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</h2>";
  return buffer;
  }

function program5(depth0,data) {
  
  var buffer = "", stack1, helper, options;
  buffer += "\n            <li ";
  stack1 = helpers['if'].call(depth0, (depth0 && depth0.active), {hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += ">\n                <a href=\"#\" class=\"js-swatch-hover js-product-selector js-noclick-track\"\n                   data-picture-target=\".js-quickbuy-img\"\n                   data-picture-src=\""
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.assets)),stack1 == null || stack1 === false ? stack1 : stack1.packshot)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\"\n                   data-exclu=\"";
  if (helper = helpers.exclu) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.exclu); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\"\n                   data-novelty=\"";
  if (helper = helpers.novelty) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.novelty); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\"\n                   data-availability=\"";
  if (helper = helpers.stockStatus) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.stockStatus); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\"\n                   data-value=\"";
  if (helper = helpers.productPriceWithCurrency) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.productPriceWithCurrency); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\"\n                   data-sku=\"";
  if (helper = helpers.skuCode) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.skuCode); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\"\n                   data-swatch-name=\"";
  if (helper = helpers.optionValue) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.optionValue); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\"\n                   data-track-object='"
    + escapeExpression((helper = helpers.stringify || (depth0 && depth0.stringify),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.clickTrackObject), options) : helperMissing.call(depth0, "stringify", (depth0 && depth0.clickTrackObject), options)))
    + "'>\n                    <img src=\""
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.assets)),stack1 == null || stack1 === false ? stack1 : stack1.swatch)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\" alt=\"\" />\n                </a>\n            </li>\n            ";
  return buffer;
  }
function program6(depth0,data) {
  
  
  return "class=\"selected\"";
  }

function program8(depth0,data,depth1) {
  
  var buffer = "", stack1;
  buffer += "<li>";
  stack1 = ((stack1 = ((stack1 = (depth1 && depth1.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence1)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1);
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "</li>";
  return buffer;
  }

function program10(depth0,data,depth1) {
  
  var buffer = "", stack1;
  buffer += "<li>";
  stack1 = ((stack1 = ((stack1 = (depth1 && depth1.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence2)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1);
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "</li>";
  return buffer;
  }

function program12(depth0,data,depth1) {
  
  var buffer = "", stack1;
  buffer += "<li>";
  stack1 = ((stack1 = ((stack1 = (depth1 && depth1.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence3)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1);
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "</li>";
  return buffer;
  }

function program14(depth0,data,depth1) {
  
  var buffer = "", stack1;
  buffer += "<li>";
  stack1 = ((stack1 = ((stack1 = (depth1 && depth1.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence4)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1);
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "</li>";
  return buffer;
  }

function program16(depth0,data,depth1) {
  
  var buffer = "", stack1;
  buffer += "<li>";
  stack1 = ((stack1 = ((stack1 = (depth1 && depth1.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence5)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1);
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "</li>";
  return buffer;
  }

  buffer += "<div class=\"popin-quickbuy--makeup\">\n    <h2 class=\"popin-title\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.popinTitle)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</h2>\n    <div class=\"popin-packshot js-equal-height\">\n        <img src=\""
    + escapeExpression(((stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.assets)),stack1 == null || stack1 === false ? stack1 : stack1.packshot)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\" class=\"js-quickbuy-img js-center-vertical png-bg\"/>\n    </div><!--\n    --><div class=\"quickbuy quickbuy--makeup js-quickbuy js-equal-height js-equal-height-main\">\n    <ul class=\"quickbuy-hashtags js-hashtags\">\n        <li class=\"";
  stack1 = helpers.unless.call(depth0, ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.novelty), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += " js-hashtag--novelty\"><a href=\"#\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.hashtagNew)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</a></li>\n        <li class=\"";
  stack1 = helpers.unless.call(depth0, ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.exclu), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += " js-hashtag--exclu\"><a href=\"#\" class=\"gold\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.hashtagExclu)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</a></li>\n    </ul>\n    <h1 class=\"quickbuy-title\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.title)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</h1>\n    ";
  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.subtitle), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n    <div class=\"quickbuy-details\">\n        <span class=\"details-price\">"
    + escapeExpression(((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.productPriceWithCurrency)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</span>\n    </div><!-- end .quickbuy-details -->\n    <p class=\"quickbuy-description\">"
    + escapeExpression((helper = helpers.truncate || (depth0 && depth0.truncate),options={hash:{},data:data},helper ? helper.call(depth0, ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.description), 170, options) : helperMissing.call(depth0, "truncate", ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.description), 170, options)))
    + "</p>\n    <a href=\""
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.href)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\" class=\"details-link quickbuy-link\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.popinMore)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</a>\n    <div class=\"quickbuy-swatches\">\n        <div class=\"swatches-header\">\n            <span class=\"swatch-name js-swatch-name\">121 - LILI</span>\n        </div>\n        <ul class=\"swatches-list js-products-selector\" data-hover-target=\".js-swatch-name\">\n            ";
  stack1 = (helper = helpers.foreach || (depth0 && depth0.foreach),options={hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data},helper ? helper.call(depth0, ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.skus), options) : helperMissing.call(depth0, "foreach", ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.skus), options));
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n            </ul>\n        </div>\n        <div class=\"quickbuy-order\">\n            <div class=\"order-details order-details--available js-order-details\">\n                <div class=\"order-form js-order-form\">\n                    <a href=\"#\" class=\"btn btn-dark btn-order js-order-btn js-addtocart js-noclick-track\"\n                      data-quantity=\"1\"\n                      data-sku=\""
    + escapeExpression(((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.skuCode)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\"\n                      data-track-object='"
    + escapeExpression((helper = helpers.stringify || (depth0 && depth0.stringify),options={hash:{},data:data},helper ? helper.call(depth0, ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.clickTrackObject), options) : helperMissing.call(depth0, "stringify", ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.clickTrackObject), options)))
    + "'>"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.popinOrder)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</a>\n                </div>\n                <ul class=\"order-delivery\">\n                    ";
  stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence1)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1)),blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.programWithDepth(8, program8, data, depth0),data:data}));
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n                    ";
  stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence2)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1)),blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.programWithDepth(10, program10, data, depth0),data:data}));
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n                    ";
  stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence3)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1)),blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.programWithDepth(12, program12, data, depth0),data:data}));
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n                    ";
  stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence4)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1)),blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.programWithDepth(14, program14, data, depth0),data:data}));
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n                    ";
  stack1 = ((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.sentence5)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1)),blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.programWithDepth(16, program16, data, depth0),data:data}));
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n                </ul>\n                <div class=\"order-notonline\">\n                    <ul><li><a href=\""
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.storeLocatorUrl)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.storeLocator)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</a></li></ul>\n                </div>\n                <div class=\"order-nostock\">\n                    <span>"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.popinAvailabilityLabel)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</span>\n                    <ul>\n                        <li><a href=\"#\" class=\"js-stockalert-trigger\" data-sku=\""
    + escapeExpression(((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.product)),stack1 == null || stack1 === false ? stack1 : stack1.selected)),stack1 == null || stack1 === false ? stack1 : stack1.skuCode)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.alertAvailability)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</a></li>\n                        <li><a href=\""
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.storeLocatorUrl)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "\">"
    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.wording)),stack1 == null || stack1 === false ? stack1 : stack1.storeLocator)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))
    + "</a></li>\n                    </ul>\n                </div>\n            </div>\n        </div><!-- end .quickbuy-order -->\n    </div><!-- end .quickbuy -->\n</div>\n";
  return buffer;
  });

return this["DiorTpl"];

};
},{}]},{},[5]);

(function( core ) {
    // DIOR.COM
    /* core.trackName [String] 'DiorCom' defined in core.Config.js
     * core.universe [String] 'PCD' | 'CDC' defined in core.Config.js
     * core.trackPage [String] defined in pages.*.js
     */
    // MINISITES
    /* core.trackName [String] Must be defined in inlined js in html page || in a simplified js core.Config.js file
     * core.universe [String] Must be defined in inlined js in html page || in a simplified js core.Config.js file
     * core.tracking.trackPage [String] Must be defined in inlined js in html page || in a simplified js core.Config.js file (minisites are actually single page website)
     */
    core.tracking = {


        init : function () {

            var _this = this;
            var _eventAction ;
            var _eventLabel;
            var _page;

            $(document).on('click','.js-track', function(){

                _eventAction = $(this).attr('data-eventaction'),
                    _eventLabel = $(this).attr('data-eventlabel');
                _page = $(this).attr('data-tpv');

                if (_eventAction && _eventLabel) _this.trackEvent(_eventAction,_eventLabel);

                if (_page) _this.trackPageView(_page);

            });

            // Auto detect track object
            $(document).on("click","*[data-track-object]", function(e) {
                if (!$(this).hasClass("js-noclick-track") && $(this).attr('data-track-object') !== "") {
                    _this.trackObject($(this).attr('data-track-object'));
                }
                if ($(this).hasClass("js-stop-propagation")) {
                    e.stopPropagation();
                }
            });

            // Auto detect product track object
            $(document).on("click","*[data-product-track-object]", function(e) {
                if (!$(this).hasClass("js-noclick-track") && $(this).attr('data-product-track-object') !== "") {
                    _this.trackProductClick( $(this).attr('data-product-track-object') );
                }
                if ($(this).hasClass("js-stop-propagation")) {
                    e.stopPropagation();
                }
            });
        },

        trackEvent: function(action, label) {
            if (!core.tracking.trackPage) core.tracking.trackPage = $("#wrapper").attr('data-page');
            dataLayer.push( {'event':'trackEvent', 'eventCategory': core.trackName+'_'+core.universe+'_'+core.tracking.trackPage, 'eventAction': action, 'eventLabel': label} );
        },

        trackPageView: function(url) {
            // IE COMPATIBILITY
            dataLayer.push( {
                'event': 'tpv',
                'pageVirtualPath': url.charAt(0) != '/' ? '/' + url : url
            });
        },

        trackObject: function(trackObject){
            var trackObjects = $.parseJSON(trackObject.replace(/(\&apos\;)/g, '\''));
            if (!$.isEmptyObject(trackObjects)) {
                if ($.isArray(trackObjects)) {
                    for (var key in trackObjects) {
                        dataLayer.push(trackObjects[key]);
                    }
                }
                else if ($.isPlainObject(trackObjects)) {
                    dataLayer.push(trackObjects);
                }
            }
        },

        trackProductClick: function(trackObject) {
            var trackObjects = $.parseJSON(trackObject.replace(/(\&apos\;)/g, '\''));

            if (!$.isEmptyObject(trackObjects)) {
                if ($.isArray(trackObjects)) {
                    for (var key in trackObjects) {
                        trackObjects[key].ecommerce.click.actionField.list = dataLayer[0].pageType;
                        dataLayer.push(trackObjects[key]);
                    }
                }
                else if ($.isPlainObject(trackObjects)) {
                    trackObjects.ecommerce.click.actionField.list = dataLayer[0].pageType;
                    dataLayer.push(trackObjects);
                }
            }
        }
    };

    core.tracking.init();

})( window.core = window.core || {} );


/**
 * PopinManager: handle overlay, popin's z-index, and page scroll.
 * Can handle multiple popins opened at the same time
 *
 * DEPS: core (signals.popinSignal) / Modernizr (transition, prefixed)
 */

var DiorPopinManager = {

    $overlay: null,
    $popinWrapper: null,
    opened: 0,
    _popins: [],

    _bodySyle: '',
    _scrollLevel: 0,

    /**
     * Called by common
     */
    init: function() {

        PopinManager.$popinWrapper = $(".popin-wrapper-v6");
        PopinManager.$overlay = $(".popin-overlay");

        if (!PopinManager.$overlay.length) {
            PopinManager.$popinWrapper.prepend("<div class='popin-overlay'></div>");
            PopinManager.$overlay = $(".popin-overlay");
        }


        PopinManager.$overlay.off('click').on("click", function(e) {
            PopinManager.close();
        });

        $(window).on("resize", PopinManager.onResize );
    },

    /**
     * Close specified popin
     *  1. if called by Popin, first param is the popin instance
     *  2. if called by a click on the overlay, close the highest (latest) popin
     * @param {Popin} popin
     */
    open: function( popin ) {
        //Scroll is already disabled if popins are already opened
        //console.log( '[PopinMngr]:open' );
        //console.log( popin.$popin );
        //console.log( PopinManager.opened );
        //console.log( popin );

        if (!PopinManager.opened) {
            PopinManager.disableScroll();
            PopinManager.$overlay.fadeIn();
        } else {
            // get popin under z-index
            var _zindex = (PopinManager._popins[PopinManager.opened-1]).$popin.css('z-index');
            // place overlay under new popin
            PopinManager.$overlay.css("z-index", _zindex+1);
            popin.$popin.css("z-index", _zindex+2 );

            // force scroll top
            // case popin with scroll that are under (PopinRiche)
            PopinManager.$popinWrapper.animate({scrollTop: 0});
        }
        ++PopinManager.opened;
        PopinManager._popins.push( popin );

        PopinManager.$popinWrapper.addClass("visible").animate({ scrollTop: 0 }, 600);
        if (core.signals && core.signals.popinSignal) core.signals.popinSignal.dispatch("open");
    },
    onOpened: function() {
        if (core.signals && core.signals.popinSignal) core.signals.popinSignal.dispatch("opened");
    },

    /**
     * Called by Popin
     * @param {Popin} popin
     */
    close: function( popin ) {
        if (PopinManager.opened==0) return;
        --PopinManager.opened;

        if (!popin) {
            popin = PopinManager._popins[ PopinManager.opened ];
            popin.close();
        }

        // remove the popin from the opened list
        PopinManager.removeFromList( popin );

        if (!PopinManager.opened) PopinManager.$overlay.fadeOut();
        else {
            // => overlay must be under the highest popin
            // get the last popin opened z-index
            // to place the overlay under
            var _lastPopin = PopinManager._popins[ PopinManager.opened-1 ];
            PopinManager.$overlay.css("z-index", _lastPopin.$popin.css('z-index')-1 );
        }

        if (core.signals && core.signals.popinSignal) core.signals.popinSignal.dispatch("close");
    },
    onClosed: function() {
        if (!PopinManager.opened) {
            PopinManager.$popinWrapper.removeClass("visible");
            PopinManager.$overlay.css('height', "");
            PopinManager.enableScroll();
        }
        if (core.signals && core.signals.popinSignal) core.signals.popinSignal.dispatch("closed");
    },

    disableScroll: function() {
        PopinManager._scrollLevel = $("body").scrollTop() || $("html").scrollTop();
        $("html,body").addClass("no-scroll");

        if (core.signals && core.signals.popinSignal) core.signals.popinSignal.dispatch('disable-scroll');

        if (Modernizr.csstransforms3d) {
            $("#container").css( Modernizr.prefixed('transform'), "translate3d(0,"+(-PopinManager._scrollLevel)+"px,0)" );
            $("#footer").css( Modernizr.prefixed('transform'), "translate3d(0,"+(-PopinManager._scrollLevel)+"px,0)" );
        } else {
            if (core.lte8) {
                PopinManager._bodyStyle = $("body").attr("style");
                $("body").height( $(window).height() );

                if (core.lte7) {
                    $("#popin-wrapper").css('top', PopinManager._scrollLevel);
                }
            }

            $("#container").css("top", -PopinManager._scrollLevel);
            $("#footer").css("top", -PopinManager._scrollLevel);
        }
    },

    enableScroll: function() {
        if (Modernizr.csstransforms3d) {
            $("#container").css( Modernizr.prefixed('transform'), "translate3d(0,0,0)" );
            $("#footer").css( Modernizr.prefixed('transform'), "translate3d(0,0,0)" );
        } else {
            if (core.lte8) {
                $("body").attr("style", PopinManager._bodyStyle)
            }

            $("#container").css("top", 0);
            $("#footer").css("top", 0);
        }

        $("html,body").removeClass("no-scroll");

        if (core.signals && core.signals.popinSignal) core.signals.popinSignal.dispatch('enable-scroll');
        // used by layout/header.js
        if (core.signals && core.signals.global) core.signals.global.dispatch('Popin::enable-scroll');

        $("html, body").scrollTop( PopinManager._scrollLevel );
    },


    removeFromList: function( element ) {
        for (var i=0, _l=PopinManager._popins.length; i<_l; ++i) {
            if (PopinManager._popins[i] == element) {
                PopinManager._popins.splice(i, 1);
                return;
            }
        }
    },

    onResize: function() {
        for (var i=0; i<PopinManager.opened; ++i) {
            PopinManager._popins[i].resize();
        }
        if (core.signals && core.signals.popinSignal) core.signals.popinSignal.dispatch("resize");
    }

}

if (!window.PopinManager) window.PopinManager = DiorPopinManager;

(function( utils, window ) {

    utils.FormValidator = {
        init: function() {
            $( "form button[type='submit'][data-check=required]" ).on( 'click', utils.FormValidator.validFormFromSubmit );
        },

        validFormFromSubmit: function(event) {
            event.preventDefault();
            var form = $(this).parents('form:first'),
                errorField = $(this).parents('#content, #popin-wrapper').find('.error-msg');
            return utils.FormValidator.validForm( form, errorField);
        },

        validForm: function( form, errorField ) {
            var $form = $(form),
                isValid = true,
                errorTemplate = '',
                requiredMessage      = $form.data('required-message') ? $form.data('required-message') : '',
                emailMessage         = $form.data('email-message') ? $form.data('email-message') : '',
                numberErrorsToShow   = parseInt($form.data('number-errors')) ? $form.data('number-errors') : $form.find('input').length,
                errorArray = [],
                checkboxGroups = {},
                $this;

            // SEARCH FOR STANDARD ERROR MSG IN DOM
            if (!errorField || errorField.length==0) {
                errorField = $('#wrapper').find('.fstd-error:first');
            }


            if ($form.is(':visible')) {
                // VALIDE LES CHAMPS OBLIGATOIRES
                //
                $form.find( "input[data-check=required]:visible,textarea[data-check=required]:visible" ).each( function() {
                    $this = $(this);

                    var message = $this.data('error') ? $this.data('error') : requiredMessage;

                    if( utils.FormValidator.isEmpty(this) ) {
                        var label = $('label[for="'+$this.attr('id')+'"]');
                        if (label.length > 0) {
                            $this.parents('li:first').addClass('error');
                        }
                        else {
                            $this.addClass( "error" );
                        }

                        isValid = false;
                        // message d'erreur
                        errorArray.push(message);
                    }

                    else {
                        $this.removeClass('error').parents('li:first').removeClass( "error" );
                    }
                });
                // VALIDE LES CHAMPS EMAIL
                $form.find( "input#email, input.email, .js-email" ).each( function() {
                    $this = $(this);
                    var message = $this.data('error') ? $this.data('error') : emailMessage;

                    if( !utils.FormValidator.isValidMail( this ) ) {

                        $( this ).addClass( "error" );
                        isValid = false;
                        // message d'erreur
                        errorArray.push(message);

                    } else {
                        $( this ).removeClass( "error" );
                    }
                });

                // VALIDE LES CHECKBOXGroup OBLIGATOIRES
                $form.find('*[data-checkboxgroup]').each( function(i) {
                    $this = $(this),
                        group = $this.data('checkboxgroup'),
                        minCheck = $this.data('checkboxgroup-mincheck'),
                        message = $this.data('error'),
                        _isChecked = false;

                    if(checkboxGroups[group] != undefined) {
                        checkboxGroups[group].items.push($this);
                    }
                    else {
                        checkboxGroups[group] = {};
                        checkboxGroups[group].items = [];
                        checkboxGroups[group].items.push($this);
                        checkboxGroups[group].minCheck = minCheck;
                    }
                });
                for(var i in checkboxGroups) {
                    var group = checkboxGroups[i];
                    var nbCheck = 0;
                    for(var j=0; j<group.items.length; j++) {
                        var checkbox = group.items[j];
                        if (checkbox.is(':checked')) nbCheck ++;
                    }
                    if (nbCheck < group.minCheck) {
                        for(var j=0; j<group.items.length; j++) {
                            group.items[j].parent().addClass( "error" );
                        }
                        isValid = false;
                        // message d'erreur
                        errorArray.push(message);
                    }
                    else {
                        for(var j=0; j<group.items.length; j++) {
                            group.items[j].parent().removeClass( "error" );
                        }
                    }
                }

                // VALIDE LES CHECKBOX OBLIGATOIRES
                $form.find('.checkbox[data-check=checked], .js-force-check').not('[data-checkboxgroup]').each( function(i) {
                    $this = $(this);
                    var message = $this.data('error') ? $this.data('error') : requiredMessage;

                    if (!$(this).is(':checked')) {
                        $this.parent().addClass('error');
                        isValid = false;
                        // message d'erreur
                        errorArray.push(message);
                    } else {
                        $this.parent().removeClass('error');
                    }
                });

                // VALIDE LES SELECT OBLIGATOIRES
                $form.find( "select[data-check=required]" ).each( function() {
                    $this = $(this);
                    // CASE SELECT SUB COUNTRY (which can be hidden if no subcountry for the current country)
                    if ($this.parents('li:first').is(':visible')) {
                        var message = $this.data('error') ? $this.data('error') : requiredMessage;
                        var _val = $this.parents('.custom-select:first').find('.custom-select:first p').html() || $this.val(),
                            _default = $this.data('default'),
                            selectIsVisible = $this.parents('.custom-select:first').is(':visible') || $this.is(':visible'),
                            label = $('label[for="'+$this.attr('id')+'"]');

                        if(selectIsVisible && (!_val || _val==='' || _val=== '&nbsp;' || _val === '\xa0') || (_default && _val==_default)) {
                            //if (label.length > 0) {
                            $this.parents('li:first').addClass( "error" );
                            //} else {
                            //    $this.parents('.selectricWrapper:first').find('.selectric').addClass('error');
                            //}
                            isValid = false;
                            // message d'erreur
                            errorArray.push(message);
                        } else {
                            // Selected different from placeholder
                            if ( !$this.find(":selected").data('default') ) {
                                $this.parents('li:first').removeClass( "error" );
                                //$this.parent().removeClass( "error" );
                                //$this.parents('.selectricWrapper:first').find('.selectric').removeClass('error');

                            } else { // Selected is the placeholder
                                //if (label.length > 0) {
                                $this.parents('li:first').addClass( "error" );
                                //} else {
                                //    $this.parents('.selectricWrapper:first').find('.selectric').addClass('error');
                                //}
                            }
                        }

                    }
                });


                // VALIDE LES CHAMPS DE CONFIRMATION
                $form.find( 'input[name$="-valid"]:visible' ).each( function() {
                    $this = $(this);
                    var id = $this.attr('id');
                    var otherElement = $( form ).find( "#"+id.split('-valid')[ 0 ] );

                    if( $this.is(':visible') && ($this.val()=='' || $this.val() !== $(otherElement).val()) ) {
                        if (label.length > 0) {
                            $this.parent().addClass('error');
                        }
                        else {
                            $this.addClass( "error" );
                        }
                        isValid = false;
                        // message d'erreur
                        errorArray[$this.attr('tabindex')] = $this.attr('data-error');
                    } else {
                        $this.removeClass('error').parent().removeClass( "error" );
                    }
                });

                // VALIDE LES CHAMPS ALPHA
                $form.find( 'input[data-regex]:visible' ).each( function() {
                    $this = $(this);
                    var message      = $this.data('error') ? $this.data('error') : emailMessage,
                        regexType    = $this.data('regex'),
                        regexIsValid = true;

                    switch (regexType) {

                        case 'alphanum':
                            regexIsValid = utils.FormValidator.isValidAlphaNum( this );
                            break;
                        case 'alpha':
                            regexIsValid = utils.FormValidator.isValidAlpha( this );
                            break;
                        case 'num':
                            regexIsValid = utils.FormValidator.isValidNum( this );
                            break;
                        default :
                            regexIsValid = false;
                    }

                    if( !regexIsValid ) {
                        $( this ).addClass( "error" );
                        isValid = false;
                        // message d'erreur
                        errorArray.push(message);
                    } else {
                        $( this ).removeClass( "error" );
                    }
                });

                /* VALID FIELD SIZE */
                var sizeInput = $form.find("input[data-size]");
                if (sizeInput.length > 0) {
                    sizeInput.each(function(i){
                        $this = $(this);
                        if( $this.val().length > $this.data('size') && !utils.FormValidator.isEmpty(this) ) {
                            $this.parents('li').find('label').addClass('error');
                            isValid = false;
                            /* message d'erreur */
                            errorArray[$this.attr('tabindex')] = $this.attr('data-error');
                        }
                        else {
                            $this.parents('li').find('label').removeClass('error');
                        }
                    });
                }

                // VALIDE size minimum
                $form.find( 'input[data-minsize]:visible' ).each( function() {
                    $this = $(this);
                    var message = $this.data('error') ? $this.data('error') : requiredMessage,
                        minSize = parseInt($this.data('minsize'));

                    if ( utils.FormValidator.isEmpty(this) || ( !utils.FormValidator.isEmpty(this) && $this.val().length < minSize ) ) {
                        $( this ).addClass( "error" );
                        isValid = false;
                        // message d'erreur
                        errorArray.push(message);
                    }
                    else {
                        $( this ).removeClass( "error" );
                    }
                });

                if (!isValid && errorField != undefined) {
                    errorField.empty();
                    //errorArray.push($('#globalError').html());
                    errorArray = jQuery.grep(errorArray, function(n, i){
                        return (n !== "" && n != null && $.inArray(n, errorArray) == i);
                    });
                    for (i= 0; i< numberErrorsToShow && i< errorArray.length ;i++) {
                        errorField.append( '<li>' + errorArray[i]+'</li>');
                    }
                    errorField.show();

                } else {

                    if (errorField != undefined)
                        errorField.empty();

                    if(!$form.hasClass('noSubmit')) {

                        if($('#wrapper').hasClass('newsletter')) {
                            dataLayer.push( {'event':'trackEvent', 'eventCategory': 'DiorCom_Newsletter', 'eventAction': 'InscriptionNewsletter', 'eventLabel': $('#email').val()} );
                        }
                        $form.submit();
                    }
                };
            }
            return isValid;
        },

        isEmpty: function( el ) {
            var value = $(el).val(),
                defaultValue = $(el).data('default');

            if (value) {
                // check if default value
                if (defaultValue && defaultValue!='') {
                    return (utils.FormValidator.isEmptyString( value ) || value==defaultValue);
                } else {
                    return utils.FormValidator.isEmptyString( value );
                }
            } else {
                return true;
            }
        },

        isEmptyString: function( str) {
            return ( str.split(" ").join("").split( '\xa0' ).join("").length == 0 );

        },

        isValidMail: function( el ) {
            var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
            if( utils.FormValidator.isEmptyString( $(el).val() ) ) return false;
            return ( emailReg.test( $( el ).val() )) ? true : false;
        },

        isValidAlpha: function( el ) {
            var alphaReg = /^[a-zA-Z _'-]*$/;
            if( utils.FormValidator.isEmptyString( $(el).val() ) ) return false;
            return ( alphaReg.test( $( el ).val() )) ? true : false;
        },

        isValidNum: function( el ) {
            var numReg = /^[0-9]*$/;
            if( utils.FormValidator.isEmptyString( $(el).val() ) ) return false;
            return ( numReg.test( $( el ).val() )) ? true : false;
        },

        isValidAlphaNum: function( el ) {
            var alphaNumReg = /^[a-zA-Z0-9 _'-]*$/;
            if( utils.FormValidator.isEmptyString( $(el).val() ) ) return false;
            return ( alphaNumReg.test( $( el ).val() )) ? true : false;
        },

        isValidSize: function( el, size ) {
            var value = $(el).val();
            return ( value.length < size+1 ) ? true : false;
        },

        getParams: function( $form ) {
            return $form.serialize();
        },

        errors: function( $form, response ) {
            for (var i=0, l=response.errorFields.length; i<l; ++i) {
                $form.find('#'+response.errorFields[i]).addClass('error');
            }
            $form.find('.error-msg').show().html( response.errorMessages.join('<br/>') );
        },
        resetForm: function( $form, errorField ) {
            var $form= $($form);
            $form.find('.error').removeClass('error');
            $form[0].reset();

            if(errorField) errorField.empty();
        },
        resetFieldset: function( $fieldset, errorField , resetJqtransform ){
            var jqtransform = resetJqtransform ? resetJqtransform : false;

            $fieldset.find('.error').removeClass('error');
            $fieldset.find('input, select, textarea').each(function(){
                if( $(this).attr('data-default') ) {
                    $(this).val($(this).attr('data-default'));
                } else {
                    $(this).val('');
                }
            });

            if ( resetJqtransform ) {
                // Reset jqTransform Select
                if ( $fieldset.find('.jqTransformSelectWrapper').length > 0 ) {
                    $fieldset.find('.jqTransformSelectWrapper').each(function() {
                        var dataDefault = '';
                        // select with data-default
                        if ($(this).find('select[data-default]').length > 0) {
                            dataDefault = $(this).find('select[data-default]').attr('data-default');
                        }
                        else {
                            dataDefault = $(this).find('ul li:first a').html();
                        }
                        $(this).find('span').html(dataDefault);
                        $(this).find('ul a.selected').removeClass('selected');
                    });
                }
            }

            if(errorField) errorField.empty();
        }
    };

    utils.FormValidator.init();

})( window.utils = window.utils || {}, window );


$(window).ready( function() {
    PopinManager.init();
    modules.AddToCart.init();
});